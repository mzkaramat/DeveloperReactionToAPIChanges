title,Body,creationdate,acceptedanswerid,Score,tags,answercount,commentcount
"Ionic 2 Yelp API","<p>I'm trying to connect an Ionic 2 app to Yelp's API. Right now I'm just using a blank Ionic 2 application generated from the CLI and running on my localhost. </p>

<p>My code:</p>

<p><code>app.module.ts</code></p>

<pre><code>import { BrowserModule } from '@angular/platform-browser';
import { ErrorHandler, NgModule } from '@angular/core';
import { HttpModule } from '@angular/http';
import { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';
import { SplashScreen } from '@ionic-native/splash-screen';
import { StatusBar } from '@ionic-native/status-bar';

import { MyApp } from './app.component';
import { HomePage } from '../pages/home/home';

@NgModule({
  declarations: [
    MyApp,
    HomePage
  ],
  imports: [
    BrowserModule,
    HttpModule,
    IonicModule.forRoot(MyApp)
  ],
  bootstrap: [IonicApp],
  entryComponents: [
    MyApp,
    HomePage
  ],
  providers: [
    StatusBar,
    SplashScreen,
    {provide: ErrorHandler, useClass: IonicErrorHandler}
  ]
})
export class AppModule {}
</code></pre>

<p><code>home.ts</code></p>

<pre><code>import { Component } from '@angular/core';
import { NavController } from 'ionic-angular';
import { Http } from '@angular/http';
import { Headers, RequestOptions } from '@angular/http';
import 'rxjs/add/operator/map';

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})
export class HomePage {

  restaurants:any;
  constructor(public navCtrl: NavController, public http: Http) {
    var headers = new Headers();
    headers.append('Authorization', 'Bearer someString');
    var options = new RequestOptions({headers: headers});

    this.http.get('https://api.yelp.com/v3/businesses/search?term=deli20&amp;latitude=39.59754&amp;longitude=-104.872934', options).map(res =&gt; res.json()).subscribe(data =&gt; {
        this.restaurants = data.data.children;
        console.log(this.restaurants);
    });
  }



}
</code></pre>

<p><code>home.html</code></p>

<pre><code>&lt;ion-header&gt;
  &lt;ion-navbar&gt;
    &lt;ion-title&gt;
      Ionic Blank
    &lt;/ion-title&gt;
  &lt;/ion-navbar&gt;
&lt;/ion-header&gt;

&lt;ion-content padding&gt;
  The world is your oyster.
  &lt;p&gt;
    If you get lost, the &lt;a href=""http://ionicframework.com/docs/v2""&gt;docs&lt;/a&gt; will be your guide.
  &lt;/p&gt;
  &lt;!--Just using Ionic 2's default home page, just wanna output my JSON to the console for now.--&gt;
&lt;/ion-content&gt;
</code></pre>

<p>The page renders correctly, but the error I get in the console: ""Failed to load resource: Preflight response is not successful""</p>

<p>The response looks like this:</p>

<pre><code>{""error"": {""code"": ""TOKEN_MISSING"", ""description"": ""An access token must be supplied in order to use this endpoint.""}}
</code></pre>

<p>Any thoughts on what I might be missing?</p>
","2017-04-18 01:57:12","","1","<ionic-framework><ionic2><yelp>","1","4"
"Yelp, Google's API for restaurants help","<p>Ok I have looked into this, and I'm not sure if anyone else has experience with it. I'm having termendous difficulties with Yelp and Google's API.</p>

<p>To help explain what I am trying to do here is the concept of the website. We would have to pull restaurants based on user distance, and then randomize them based on quality of restaurant based on feedback from review websites (Yelp, Google, urbanspoon, zagat, opentable, kudzu, yahoo - doesn't have to be from all), and feedback from our users (on results page for the random restaurant users can select good recommendation/bad recommendation). There’s a lot we could calculate for our formula. Things that will dictate your results will be based on if you’re at home or work. If you’re at home you will have more time to drive out to the city to grab some dinner or lunch. If you’re at work we would have to recommend restaurants nearby as lunch is typically 30 minutes to a hour. A 30 minute lunch would require take out most likely or quick service. A hour lunch break you could dine in at a local fine dining restaurant. So in a nutshell, user comes to website. Select if they're at home or work, click submit and we will have a random restaurant selected for them to go. If they don't like it they can click retry and a new restaurant can show.</p>

<p>The issue I am having is using the API to gather all the restaurants in the US. I know it can be done because there are similiar websites/apps that pull restaurants that are closest to you such as Ness, Alfred, and I believe there's two more but I can't remember the names.</p>

<p>Anyone know if this can be accomplish? As I desperately need some help. Thanks in advance!</p>
","2012-03-26 14:24:28","9896483","1","<api><yelp>","1","0"
"Yelp API 1 - Geo point by radius","<p>I just wanted to know what the units for the radius parameter are.
This is unfortunately not documented?
Anybody an idea?</p>
","2013-08-18 23:59:21","18305115","1","<yelp>","1","0"
"Using Yelp API to estimate number of businesses in a given city","<p>I'm currently experimenting with the Yelp API, using Python. I'm interested in <strong>estimating the number of businesses present in a city using the Yelp API.</strong></p>

<p><strong><em>Example</em></strong></p>

<p>I tried doing this with San Francisco, as follows:</p>

<pre><code>#create yelp_api using private keys 
search_results = yelp_api.search_query(location=""San Francisco, California"")
business_estimate = search_results['total'] #total is the total number of results obtained
</code></pre>

<p>My reasoning with the above was, in leaving the other fields blank my search would be as broad as possible, i.e. a search of all businesses in San Francisco. </p>

<p>However, between executions of the above script, <em>business_estimate</em> fluctuated in the thousands. e.g. 63000, 55000, 81000</p>

<p><strong><em>Question</em></strong></p>

<p>My question is, <strong>why does business_estimate fluctuate so much?</strong> Also, is there a better method than mine  for estimating the number of businesses in a given city than my method?</p>

<p>For reference, here is the Yelp API documentation: <a href=""http://www.yelp.ie/developers/documentation/v2/search_api"" rel=""nofollow"">http://www.yelp.ie/developers/documentation/v2/search_api</a></p>
","2014-11-13 21:08:14","","0","<python><bigdata><yelp>","1","4"
"Can I use RestKit 0.20.3 to submit a request with OAuth parameters required by Yelp?","<p>I am writing an iOS app that requests data from Yelp.</p>

<p>I currently have code that manages Yelp requests/responses and parses the JSON data returned internally. The current code builds the OAuth parameters for its requests using OAuthConsumer by Jon Crosby.</p>

<p>I came upon RestKit yesterday, and found it very appealing. It would probably eliminate much of the request submission and response parsing I am doing.  </p>

<p>But I hit a roadblock, because I have not been able to figure out how to generate the OAuth parameters that Yelp requires with RestKit. I worked through the Ray Wenderlich RestKit tutorial at <a href=""http://www.raywenderlich.com/13097/intro-to-restkit-tutorial"" rel=""nofollow"">http://www.raywenderlich.com/13097/intro-to-restkit-tutorial</a>, but it uses a client ID and client secret (as required by Foursquare).</p>

<p>Yelp requests need to have a consumer key, token, signature method, signature, timestamp and nonce. I have been unable to find an add-on for RestKit that can generate this particular set of OAuth parameters.</p>

<p>I am now generating my RestKit GET requests using an AFOAuth1Client developed by Matt Thompson.  Now the Yelp API is returning an Invalid Signature error when I send a request. </p>

<p>I am puzzled because I have checked the fields in the HTTP Authorization header, and they look correct.  The error seems to indicate that Yelp wants the oauth parameters in the URL, but the API documentation says that it is acceptable to send them in the authorization header.</p>

<p>Here is the Invalid Signature error I'm getting:</p>

<p>2013-08-26 15:34:54.806 RestKitYelpGroupon[2157:400b] E restkit.network:RKObjectRequestOperation.m:575 Object request failed: Underlying HTTP request operation failed with error: Error Domain=org.restkit.RestKit.ErrorDomain Code=-1011 ""Expected status code in (200-299), got 400"" UserInfo=0xa876190 {NSLocalizedRecoverySuggestion={""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026ll%3D32.893282%252C-117.195083%26oauth_consumer_key%3D(MY CONSUMER KEY)%26oauth_nonce%3DC0F25D91-B473-4059-B5F6-2D850A144A1D%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1377556409%26oauth_token%3D(MY OAUTH TOKEN)%26oauth_version%3D1.0%26term%3Dsushi""}}, AFNetworkingOperationFailingURLRequestErrorKey=http://api.yelp.com/v2/search?ll=32.893282%2C-117.195083&amp;term=sushi>, NSErrorFailingURLKey=<a href=""http://api.yelp.com/v2/search?ll=32.893282%2C-117.195083&amp;term=sushi"" rel=""nofollow"">http://api.yelp.com/v2/search?ll=32.893282%2C-117.195083&amp;term=sushi</a>, NSLocalizedDescription=Expected status code in (200-299), got 400, AFNetworkingOperationFailingURLResponseErrorKey=}</p>

<p>Here is the code I am using to generate the requests:</p>

<pre><code>NSURL *baseURL = [NSURL URLWithString:@""http://api.yelp.com/v2""];
AFOAuth1Client *oauth1Client = [[AFOAuth1Client alloc] initWithBaseURL:baseURL key:consumerKey secret:consumerSecret];
oauth1Client.accessToken = [[AFOAuth1Token alloc] initWithKey:tokenKey
                                               secret:tokenSecret
                                              session:nil
                                           expiration:[NSDate distantFuture]
                                            renewable:NO];

[oauth1Client registerHTTPOperationClass:[AFJSONRequestOperation class]];

// Accept HTTP Header; see http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.1
[oauth1Client setDefaultHeader:@""Accept"" value:@""application/json""];

RKObjectManager *objectManager = [[RKObjectManager alloc] initWithHTTPClient:oauth1Client];

RKObjectMapping *couponMapping = [RKObjectMapping mappingForClass:[Coupon class]];
[couponMapping addAttributeMappingsFromDictionary:@{@""id"" : @""id""}];

RKObjectMapping *businessMapping = [RKObjectMapping mappingForClass:[Business class]];
[businessMapping addAttributeMappingsFromDictionary:@{@""name"" : @""name""}];
[businessMapping addPropertyMapping:[RKRelationshipMapping relationshipMappingFromKeyPath:@""deals"" toKeyPath:@""location"" withMapping:couponMapping]];

RKResponseDescriptor * responseDescriptor = [RKResponseDescriptor    
    responseDescriptorWithMapping:businessMapping
    method:RKRequestMethodGET
    pathPattern:nil
    keyPath:@""response.venues""
    statusCodes:RKStatusCodeIndexSetForClass(RKStatusCodeClassSuccessful)];

[objectManager addResponseDescriptor:responseDescriptor];
[objectManager getObjectsAtPath:@""http://api.yelp.com/v2/search""
                     parameters:queryParams
                        success:^(RKObjectRequestOperation * operaton, RKMappingResult *mappingResult)
</code></pre>

<p>Any further assistance is greatly appreciated!</p>
","2013-08-23 23:50:46","","3","<ios><oauth><restkit><yelp>","1","0"
"Yelp data file type","<p>I have tried to open the file from the Yelp dataset challenge website (<a href=""https://www.yelp.com/dataset_challenge"" rel=""nofollow noreferrer"">https://www.yelp.com/dataset_challenge</a>). I have successfully done that, however, I cannot open the file, as it does not have an extension. It is about 4 GB. I thought it might've been a JSON file because when I searched around, in the past it was. However, I can't figure out how to open this or convert it to CSV. I'd like to use some analysis with Python on this data. Can anyone help me? Thank you.</p>
","2017-04-26 02:38:44","43716838","2","<python><machine-learning><yelp>","2","0"
"Yelp API access getting expired timestamp","<p>Following the instructions laid out in <a href=""https://stackoverflow.com/questions/6676733/yelp-integration-in-android"">this thread</a>, I set up an api call, however I get this error</p>

<pre><code> ""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Expired      timestamp: given 1417446491 and now 1417464535 has a greater difference than threshold 300""}}
</code></pre>

<p>And I can't figure out why. The Android device is reporting the correct time for it. It can't be timezone because the difference is just 18 seconds. Anyone know what could be going wrong?</p>
","2014-12-01 20:18:37","","0","<android><api><yelp>","0","2"
"Parsing Yelp using lxml - ignore html tag","<p>I am trying to run the below code bit to extract Yelp review</p>

<pre><code>from lxml import html  
import requests  
import csv  
page = requests.get('http://www.yelp.com/biz/guisados-los-angeles')

review = tree.xpath('//p[@itemprop=""description""]/text()')
</code></pre>

<p>Now, I have a review as below </p>

<pre>
These tacos are the business.

We ventured into an unpretentious, relatively small restaurant who offered a photographic menu (VERY helpful) of the different tacos they have. 
</pre>

<p>The above review single review is being split as the list below</p>

<pre><code>[
    'These tacos are the business.', 
    'We ventured into an unpretentious, relatively small restaurant who offered a photographic menu (VERY helpful) of the different tacos they have.
]
</code></pre>

<p>How do I get lxml <code>text()</code> to ignore the <code>&lt;br&gt;</code> in the comment? Any pointers, please?</p>
","2014-12-22 02:33:49","27595966","1","<python><web-scraping><lxml><yelp><lxml.html>","1","0"
"Redirect visitors only from Yelp.com","<p>I would like visitor from my yelp listing to land on a different page of my website.</p>

<p>For example: On yelp.com my website URL is domain.com. But when the visitor clicks on that URL, they should be redirected to domain.com/newpage</p>

<p>I am trying to do this only for the visitors who come to my website through yelp. How is this possible?</p>
","2016-02-19 19:01:11","35513091","1","<php><wordpress><.htaccess><redirect><yelp>","3","3"
"Yelp 5 star reviews badge to open in new window","<p>I can't figure out how to add the target=""_blank"" attribute to the 5 star rating badge.</p>

<p>This is what I've inserted into webpage...coming from yelp.  I added the last line to the script to try and add attribute but it wont accept.  I can, however get it to accept on the div before as well as the img after just not on the anchor tag.  </p>

<pre><code>&lt;div class=""localsocialyelpreviews""&gt;&lt;div id=""yelp-biz-badge-fsc-N6ciVLIYpasN2FWN3Nxy9Q""&gt;Gina's Pizza &amp; Pastaria&lt;/div&gt;&lt;script type=""text/javascript""&gt;
!function(doc, id){
  var js;
  var scriptElement = doc.getElementsByTagName(""script"")[0];
  if (!doc.getElementById(id)) {
    js = doc.createElement(""script"");
    js.id = id;
    js.src = ""//dyn.yelpcdn.com/biz_badge_js/fsc/N6ciVLIYpasN2FWN3Nxy9Q.js"";
    scriptElement.parentNode.insertBefore(js, scriptElement);
  }
} (document, ""yelp-biz-badge-script-fsc-N6ciVLIYpasN2FWN3Nxy9Q"");
$(""div#yelp-biz-badge-fsc-N6ciVLIYpasN2FWN3Nxy9Q &gt; a"").attr(""target"",""_blank"");&lt;/script&gt;&lt;/div&gt;
</code></pre>

<p>This is what ends up happening.  NO TARGET ATTRIBUTE :/</p>

<pre><code>&lt;div class=""localsocialyelpreviews""&gt;
&lt;div id=""yelp-biz-badge-fsc-N6ciVLIYpasN2FWN3Nxy9Q""&gt;&lt;a href=""http://www.yelp.com/biz/ginas-pizza-and-pastaria-corona-del-mar""&gt;&lt;img width=""125"" height=""55"" src=""http://dyn.yelpcdn.com/extimg/fsc/N6ciVLIYpasN2FWN3Nxy9Q.png"" alt=""Gina's Pizza &amp;amp; Pastaria""&gt;&lt;/a&gt;&lt;/div&gt;
&lt;p&gt;&lt;script type=""text/javascript""&gt;
!function(doc, id){
  var js;
  var scriptElement = doc.getElementsByTagName(""script"")[0];
  if (!doc.getElementById(id)) {
    js = doc.createElement(""script"");
    js.id = id;
    js.src = ""//dyn.yelpcdn.com/biz_badge_js/fsc/N6ciVLIYpasN2FWN3Nxy9Q.js"";
    scriptElement.parentNode.insertBefore(js, scriptElement);
  }
} (document, ""yelp-biz-badge-script-fsc-N6ciVLIYpasN2FWN3Nxy9Q"");
$(""div#yelp-biz-badge-fsc-N6ciVLIYpasN2FWN3Nxy9Q &amp;gt; a"").attr(""target"",""_blank"");&lt;/script&gt;&lt;/p&gt;&lt;/div&gt;
</code></pre>

<p>I appreciate any insight.. I've tried this many different ways and searched for the solution to this in yelp and stackoverflow but cannot find the answer.  Thanks</p>
","2013-06-12 16:08:06","","0","<javascript><yelp>","4","1"
"Bad Request from Yelp API","<p>Inspired by <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/python/sample.py"">this Yelp tutorial</a>, I created a script to search for all gyms in a given city. I tweaked the script with <a href=""http://www.mfumagalli.com/wp/portfolio/nycbars/"">these updates</a> in order to return ALL gyms, not just the first 20. You can find the gist <a href=""https://gist.github.com/anonymous/42ffdf5deccde0746fd1"">here</a>. The SEARCH_LIMIT is 20.</p>

<p>I'm encountering a Bad Request error. I followed the Yelp Tutorial pretty closely, and am unsure of what it can be coming from -- I'm pretty sure the request is properly encoded, and all my API keys are right.</p>

<p>The print out is below:</p>

<pre><code>Traceback (most recent call last):
  File ""YelpSearch.py"", line 97, in &lt;module&gt;
    query_api()
  File ""YelpSearch.py"", line 74, in query_api
    response = search_yelp(offset) 
  File ""YelpSearch.py"", line 67, in search_yelp
    return request(API_HOST, SEARCH_PATH, url_params=url_params)
  File ""YelpSearch.py"", line 53, in request
    conn = urllib2.urlopen(signed_url, None)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 127, in urlopen
    return _opener.open(url, data, timeout)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 410, in open
    response = meth(req, response)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 523, in http_response
    'http', request, response, code, msg, hdrs)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 448, in error
    return self._call_chain(*args)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 382, in _call_chain
    result = func(*args)
  File ""/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/urllib2.py"", line 531, in http_error_default
    raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)
urllib2.HTTPError: HTTP Error 400: Bad Request
</code></pre>
","2015-11-14 21:09:50","","6","<python><api><httprequest><http-error><yelp>","2","0"
"iOS Yelp OAuth Token Retrieval with URLRequest returning ""client_id or client_secret parameters not found","<p>I am attempting to retrieve an OAuth token to use Yelp's Fusion API from an iOS client using the native URL and URLRequest classes, but it is giving me this error in the ""tokenInfo"" variable:</p>

<pre><code>client_id or client_secret parameters not found. Make sure to provide 
client_id and client_secret in the body with the 
application/x-www-form-urlencoded content-type
</code></pre>

<p>Here is my code:</p>

<pre><code>func getToken(){
    var yelpTokenEndpoint = ""https://api.yelp.com/oauth2/token""
    var tokenURL = URL(string: yelpTokenEndpoint)

    let requestJSON: [String:String] = [""client_id"":""Not showing actual client id"", ""client_secret"":""Not Gonna Show My Actual Client Secret either"",""grant_type"":""client_credentials""]
    let requestData = try? JSONSerialization.data(withJSONObject: requestJSON)
    print(try? JSONSerialization.jsonObject(with: requestData!, options: []))
    var tokenURLRequest = URLRequest(url: tokenURL!)

    tokenURLRequest.httpMethod = ""POST""
    tokenURLRequest.httpBody = requestData!
    tokenURLRequest.setValue(""application/x-www-form-urlencoded"", forHTTPHeaderField: ""content-type"")

    let tokenSession = URLSession.shared

    let tokenTask = tokenSession.dataTask(with: tokenURLRequest) { (data, response, error) in
        if error != nil {
            print(""error getting your access token"")
            print(error!.localizedDescription)
        }

        if let data = data{
            do{
                if let tokenInfo = try JSONSerialization.jsonObject(with: data, options: []) as? [String:Any]{
                    let token: String = tokenInfo[""access_token""] as! String
                    print(token)
                }
            } catch {
                print(""Error converting to JSON"")
            }
        }
    }
    tokenTask.resume()
}
</code></pre>

<p>And yes, I am certain that I put the right client credentials in. Any help would be much appreciated, thanks!</p>
","2017-02-25 09:59:50","42660156","8","<ios><oauth><yelp><urlrequest>","1","0"
"Android OAUTH Without Any Special Library","<p>Quick background.  I am not a computer scientist or programmer.  Just trying to learn Android as a personal challenge (helps me stay in touch with the modern world, so I can understand my kids better).  I started out very simple, and am slowly trying to tackle more challenging skills.</p>

<p>Right now, I am struggling to get OAUTH authentication working to connect to the Yelp API.  I have read a bunch of blog posts.  I have searched and read a bunch of topics here.  Some are helpful, some are too advanced for me.</p>

<p>I understand that there are libraries that can be used for OAUTH.  For example, I can install the signpost library and use that.  That may be my next step.  Right now, I have been trying to connect to the YELP API without using any special library (remember, this is a learning exercise for me).</p>

<p>The YELP documentation seems simple enough.</p>

<p><a href=""https://i.stack.imgur.com/leuMw.png"" rel=""nofollow noreferrer"">Screenshot of YELP API documentation</a></p>

<p>I have my Client ID, and Client Secret.  I tried to request an access token using the following lines of code.</p>

<p><a href=""https://i.stack.imgur.com/768Wx.png"" rel=""nofollow noreferrer"">Lines of code used to request access token</a></p>

<p>My attempt fails miserably.  I get Error response code: 400.</p>

<p>Can you help point out my error?</p>

<p>Your help is greatly appreciated.</p>
","2017-02-26 19:55:14","","0","<android><oauth><yelp>","1","1"
"any way to get business data using URL of yelp?","<p>I am new to using <code>API of YELP</code> to get <code>business data</code>.</p>

<p>I have a only business URL like <code>""http://www.yelp.com/biz/1886-cafe-and-bakery-austin""</code> OR <code>""1886-cafe-and-bakery-austin""</code>.</p>

<p>Any way to get business perticular that url data using any API in YELP?</p>

<p>Please suggest me if any one have..</p>

<p><strong>NOTE: I solve issue: please refer below comment answer... thanks</strong></p>
","2013-06-19 10:02:29","","3","<api><url><yelp>","1","3"
"How does Yelp create the ""Review Highlights"" section?","<p>Take the following link as an example: <a href=""http://www.yelp.com/biz/chef-yu-new-york"" rel=""nofollow"">http://www.yelp.com/biz/chef-yu-new-york</a>.</p>

<p>In the section called 'Review Highlights', there are 3 phrases (spicy diced chicken, happy hour, lunch specials) that are highlighted based on reviews submitted by users. Obviously, these are the phrases that appeared most often, or longest phrases that appeared often, or some other logic. </p>

<p>Their official explanation is this:</p>

<blockquote>
  <p>In their reviews, Yelpers mentioned the linked phrases below a lot.
  And these aren't any old common phrases, they're also the ones that
  our Yelp Robots have determined are unique and good, quick ways to
  describe this business. Click any of the phrases to see all the
  reviews that mention it.</p>
</blockquote>

<p>My question is, what did they use to mine the text input to get these data points? Is it some algorithm based on Lempel Ziv, or some kind of map reduce? I was not a CS major, so probably am missing something foundational here. Would love some help, theories, etc. </p>

<p>Thanks!</p>
","2011-12-30 00:03:01","","1","<web-services><algorithm><search><text><yelp>","2","0"
"Meteor.js Package: Npm.require cannot find module","<p>I'm getting an error in a package I've created called yelp-o-auth. I'm using Meteor version 0.8.3</p>

<p>The error is</p>

<pre><code>errorError: Cannot find module 'yelp'
</code></pre>

<p>This is my code requiring it in yelp-o-auth.js</p>

<pre><code>var Yelp = Npm.require(""yelp"").createClient(auth);
</code></pre>

<p>This is in package.js</p>

<pre><code>Npm.depends({
    'yelp': '0.1.1'
});
</code></pre>

<p>When I run</p>

<pre><code>npm view yelp
</code></pre>

<p>it returns</p>

<pre><code>name: 'yelp',
  description: 'Library for interfacing with Yelp\'s API v2.0.',
  'dist-tags': { latest: '0.1.1' },
  versions: [ '0.1.0', '0.1.1' ],
...
</code></pre>
","2015-01-26 21:03:29","28162958","1","<meteor><meteorite><yelp>","1","0"
"Yelp API OAuth - oauth_signature","<p>I am trying to use the Yelp API in a Swift iOS app, but am new to encryption.  I understand that I am supposed to encrypt the signature with SHA1, but can't find good resources for doing this in Swift/Xcode.</p>

<p>Additionally, the Yelp docs say I am supposed to pass the signature value as ""The generated request signature, signed with the oauth_token_secret obtained"".  I don't understand what is meant by ""signed with"".  Link to the docs here: <a href=""https://www.yelp.com/developers/documentation/v2/authentication"" rel=""nofollow"" title=""Yelp Authentication"">Yelp Authentication</a></p>

<p>Any help would be hugely appreciated.</p>
","2015-12-09 22:03:02","","2","<ios><swift><oauth><sha1><yelp>","1","1"
"Parsing Yelp Search API results with JSON","<p>I'm using Yelp API v2.0 to implement their search function. The example I'm using is from their provided code and searches for ""tacos"" in ""SF"". The foreach loop is only displaying the business name but isn't showing the photo,address,city etc. Anyone know why?</p>

<p>snippet of returned data:</p>

<blockquote>
  <p>stdClass Object ( [region] => stdClass Object ( [span] => stdClass
  Object ( [latitude_delta] => 0.08240232 [longitude_delta] =>
  0.03271620000001 ) [center] => stdClass Object ( [latitude] => 37.7632466 [longitude] => -122.404672 ) ) [total] => 408 [businesses] => Array ( [0] => stdClass Object ( [is_claimed] => [rating] => 4.5 [mobile_url] =>
  <a href=""http://m.yelp.com/biz/el-tonayense-taco-truck-san-francisco-8"" rel=""nofollow"">http://m.yelp.com/biz/el-tonayense-taco-truck-san-francisco-8</a>
  [rating_img_url] =>
  <a href=""http://s3-media2.ak.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"" rel=""nofollow"">http://s3-media2.ak.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png</a>
  [review_count] => 52 [name] => El Tonayense Taco Truck
  [snippet_image_url] =>
  <a href=""http://s3-media4.ak.yelpcdn.com/photo/LaQNO4xXgcH4FaITFkFGIg/ms.jpg"" rel=""nofollow"">http://s3-media4.ak.yelpcdn.com/photo/LaQNO4xXgcH4FaITFkFGIg/ms.jpg</a>
  [rating_img_url_small] =>
  <a href=""http://s3-media2.ak.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png"" rel=""nofollow"">http://s3-media2.ak.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png</a>
  [url] =>
  <a href=""http://www.yelp.com/biz/el-tonayense-taco-truck-san-francisco-8"" rel=""nofollow"">http://www.yelp.com/biz/el-tonayense-taco-truck-san-francisco-8</a>
  [snippet_text] => If you're a fan of tacos... If you don't mind eating
  standing up... If you can take a cab to the Best Buy... THEN DO IT.
  This taco truck served what are... [image_url] =>
  <a href=""http://s3-media1.ak.yelpcdn.com/bphoto/_siJl_0runh3B8VWVx5QdQ/ms.jpg"" rel=""nofollow"">http://s3-media1.ak.yelpcdn.com/bphoto/_siJl_0runh3B8VWVx5QdQ/ms.jpg</a>
  [categories] => Array ( [0] => Array ( [0] => Mexican [1] => mexican )
  [1] => Array ( [0] => Food Trucks [1] => foodtrucks ) )</p>
</blockquote>

<hr>

<p>snippet of code to request / parse data</p>

<pre><code>// Send Yelp API Call. cURL is a data transfer method: http://curl.haxx.se/docs/manpage.html
$ch = curl_init($signed_url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); 
curl_setopt($ch, CURLOPT_HEADER, 0);
$data = curl_exec($ch); // Yelp response
curl_close($ch);

// Handle Yelp response data
$response = json_decode($data);

// Print it for debugging
//print_r($response);

foreach($response-&gt;businesses as $business):
        echo ""&lt;img border=0 src='"".$business-&gt;photo_url.""'&gt;&lt;br/&gt;"";
        echo $business-&gt;name.""&lt;br/&gt;"";
        echo $business-&gt;address1.""&lt;br/&gt;"";
        echo $business-&gt;city .""&lt;br/&gt;"";
        echo $business-&gt;state .""&lt;br/&gt;"";
        echo $business-&gt;zip .""&lt;br/&gt;"";
        echo $business-&gt;latitude .""&lt;br/&gt;"";
        echo $business-&gt;longitude .""&lt;br/&gt;"";

        echo ""&lt;hr&gt;"";
    endforeach;

?&gt;
</code></pre>
","2013-07-16 19:00:55","","0","<php><json><api><parsing><yelp>","0","2"
"What is the correct method to output list contents using JSON?","<p>I'm using the yelp API in order to pull up random nearby listings for my website. From yelp's documentation on their website:</p>

<pre><code>rating                 number   Rating for this business (value ranges from 1, 1.5, ... 4.5, 5)
rating_img_url         string   URL to star rating image for this business (size = 84x17)
rating_img_url_small   string   URL to small version of rating image for this business (size = 50x10)
rating_img_url_large   string   URL to large version of rating image for this business (size = 166x30)
snippet_text           string   Snippet text associated with this business
snippet_image_url      string   URL of snippet image associated with this business
location               dict     Location data for this business
location.address       list     Address for this business. Only includes address fields.
location.display_address list   Address for this business formatted for display. Includes all address fields, cross streets and city, state_code, etc.
location.city          string   City for this business
location.state_code    string   ISO 3166-2 state code for this business
location.postal_code   string   Postal code for this business
location.country_code  string   ISO 3166-1 country code for this business
location.cross_streets string   Cross streets for this business
</code></pre>

<hr>

<p>How do I output the location variables such as location.display_address etc? My code below correctly outputs string and numbers by echoing ""$response->businesses->rating"". However, the last line of my code does not work.</p>

<pre><code>// Handle Yelp response data
$response = json_decode($data);
$business = $response-&gt;businesses;

$numbers = range(0, 19);
shuffle($numbers);
echo ""&lt;img src='"".$business[$numbers[$ran]]-&gt;image_url.""'&gt;&lt;br/&gt;"";
echo $business[$numbers[$ran]]-&gt;name.""&lt;br/&gt;"";
echo ""&lt;img border=0 src='"".$business[$numbers[$ran]]-&gt;rating_img_url_large.""'&gt;&lt;br/&gt;"";
echo ""&lt;br/&gt;"";

echo $business[$numbers[$ran]]-&gt;location[display_address].""&lt;br/&gt;"";
</code></pre>

<p>The error I get is</p>

<p><strong>""Fatal error: Cannot use object of type stdClass as array in /home/content/38/11397138/html/yelpcall.php on line 51""</strong></p>

<p><strong>EDIT:</strong> var dump returns:</p>

<pre><code>object(stdClass)#14 (6) { [""city""]=&gt; string(11) ""Chino Hills"" [""display_address""]=&gt; array(2) { [0]=&gt; string(14) ""2923 Chino Ave"" [1]=&gt; string(21) ""Chino Hills, CA 91709"" } [""postal_code""]=&gt; string(5) ""91709"" [""country_code""]=&gt; string(2) ""US"" [""address""]=&gt; array(1) { [0]=&gt; string(14) ""2923 Chino Ave"" } [""state_code""]=&gt; string(2) ""CA"" }
</code></pre>
","2013-07-22 07:32:13","17782366","0","<php><json><api><yelp>","2","2"
"npm package simple-oauth2 404 not found","<p>I have a weird bug going on with my code.</p>

<p>I'm using the simple-oauth2 library (<a href=""https://github.com/lelylan/simple-oauth2"" rel=""nofollow noreferrer"">https://github.com/lelylan/simple-oauth2</a>) and my code works fine on Windows.</p>

<p>When I try to run my code on a linux server (raspberry pi zero), the oauth library keeps on returning 404 Not Found for my oauth request (specifically ""Access Token Error Not Found"" as per the code below).</p>

<p>What's going on?</p>

<p>Code (working with Yelp API):</p>

<pre><code>var fs = require('fs');

var cID = fs.readFileSync('blahblahblah', 'utf8');
var cSecret = fs.readFileSync('blahblahblah2', 'utf8');

var credentials = {
    client: {
        id: cID,
        secret: cSecret
    },
    auth: {
        tokenHost: 'https://api.yelp.com',
        tokenPath: '/oauth2/token'
    }
};

var oauth2 = require('simple-oauth2').create(credentials);
var tokenConfig = {};

module.exports.gimmeMuhToken = function(cb) {
    oauth2.clientCredentials.getToken(tokenConfig, function(error, result) {
        if (error) {
            return console.log('Access Token Error', error.message);
        }
        cb(oauth2.accessToken.create(result).token.access_token); // Return the token
    });
};
</code></pre>

<p>Thanks</p>
","2017-03-30 07:48:10","","-1","<javascript><node.js><oauth><yelp>","1","1"
"I am getting an internal server error on my local Python server when authenticating to Yelp API","<p>I am trying to authenticate to the Yelp API and this is what I'm getting:</p>

<p>{ ""error"": { ""description"": ""client_id or client_secret parameters not found. Make sure to provide client_id and client_secret in the body with the application/x-www-form-urlencoded content-type"", ""code"": ""VALIDATION_ERROR"" } }</p>

<p>This is the method I have defined in Python and I am have installed Python Flask. I have never worked with an API before this:</p>

<pre><code>@app.route(""/run_post"")
def run_post():
   url = ""https://api.yelp.com/oauth2/token""
   data = {'grant_type': 'client_credentials',
    'client_id': CLIENT_ID,
    'client_secret': CLIENT_SECRET,
    'Content-type': 'application/x-www-form-urlencoded'}

   body = requests.post(url, data=json.dumps(data))

   return json.dumps(body.json(), indent=4)
</code></pre>
","2017-04-02 00:25:53","43163582","0","<python><python-requests><yelp>","2","2"
"How to search local business by name, location in iOS?","<p>I am working on project in which we are displaying local business search. I am using YELP to search local business. As per <a href=""http://www.yelp.com/developers/documentation/v2/search_api"" rel=""nofollow"">YELP Documentation</a> i have created query. But it gives result based on location only. </p>

<p>I am trying with Google Place API but not getting desired result.</p>

<p>My YELP request - <a href=""http://api.yelp.com/v2/search/?term=restaurant&amp;location=nyc&amp;limit=20&amp;offset=1"" rel=""nofollow"">http://api.yelp.com/v2/search/?term=restaurant&amp;location=nyc&amp;limit=20&amp;offset=1</a>
My Google Place API request - <a href=""https://maps.googleapis.com/maps/api/place/textsearch/json?query=hotels+in+nyc&amp;sensor=true&amp;key=AIzaSyCHwd5OgRXdeuTWV46SHdMLq2lXL20t22U"" rel=""nofollow"">https://maps.googleapis.com/maps/api/place/textsearch/json?query=hotels+in+nyc&amp;sensor=true&amp;key=AIzaSyCHwd5OgRXdeuTWV46SHdMLq2lXL20t22U</a></p>

<ol>
<li>How can i get result by business name &amp; location as well using any YELP or Google Place API?</li>
<li>Which one is better to use YELP or Google Place API?</li>
</ol>
","2014-10-28 06:06:59","26801527","1","<ios><ios7><google-places-api><yelp>","3","2"
"How to make GET request to Yelp api using volley?","<p>I am using Volley to make get request to Yelp Api and keep getting ""BasicNetwork.performRequest: Unexpected response code 400 for <a href=""https://api.yelp.com/v3/businesses/search"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search</a>"" error. I made GET request on Postman using the same parameters and headers and it worked just fine. Yelp has released their new API v3 recently,so  I did not find any useful similar problem on stackoverflow.</p>

<pre><code>StringRequest stringrequest = new StringRequest(Request.Method.GET,
            ""https://api.yelp.com/v3/businesses/search"",
            new Response.Listener&lt;String&gt;(){
                @Override
                public void onResponse(String response) {
                    progressDialog.dismiss();
                    try {
                        JSONObject jsonObject = new JSONObject(response);
                    }catch(JSONException e){
                        e.printStackTrace();
                    }
                }
            },
            new Response.ErrorListener(){
                @Override
                public void onErrorResponse(VolleyError error){
                    progressDialog.hide();
                  Toast.makeText(getApplicationContext(),error.getMessage(),Toast.LENGTH_LONG).show();
                }
            }){
        @Override
        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {
            Map&lt;String,String&gt; headers = new HashMap&lt;&gt;();
            //headers.put(""Content-Type"",""application/x-www-form-urlencoded"");
            headers.put(""Authorization"",[Bearer myToken]);
            return headers;
        }

        @Override
        protected Map&lt;String,String&gt; getParams() throws AuthFailureError{
            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();
            params.put(""latitude"",latitude);
            params.put(""longitude"",longitude);
            params.put(""radius"",""15"");
            return params;
        }
</code></pre>

<p>};
        RequestHandler.getInstance(this).addToRequestQueue(stringrequest);</p>
","2017-04-23 23:28:04","","1","<java><android><oauth-2.0><android-volley><yelp>","0","0"
"Accessing the Yelp Api","<p>In my application I have to add a button, and display the number of stars received from <code>YELP</code> as shown in this image: <img src=""https://i.stack.imgur.com/tozcc.png"" alt=""image"">, and upon clicking it I should navigate to a new View that will show the Yelp reviews.</p>

<p>1.) I have read the <a href=""http://www.yelp.com/developers/documentation/v2/search_api"" rel=""nofollow noreferrer"">Yelp API</a>, and was unable to find a way to append the <code>Store Name</code> to get its ratings in Yelp. </p>

<p>For example: I need to get the YELP ratings of <code>Agra Indian Restaurant</code>, so how should I get the <code>JSON</code> return values pertaining to <code>Agra Indian Restaurant</code>?</p>

<p>Is there any tutorial or sample code that illustrates how I could get this done?</p>
","2011-12-17 15:46:48","","1","<iphone><objective-c><yelp>","1","0"
"Getting the auth signature in the yelp api using python","<p>I'm trying to write a simple script in python using urllib2 and json where I print the json to the console. </p>

<p>Currently I'm having trouble getting the auth_signature value. I already have the url variable setup with the appropriate keys except for the auth_signature. How do I go about this? </p>

<p>Here is what I have:</p>

<pre><code>import json
import urllib2
import oauth2


timestamp = oauth2.generate_timestamp
nonce = oauth2.generate_nonce

url = ""http://api.yelp.com/v2/search?term=food&amp;location=Seattle&amp;callback=callbackYelpAuth&amp;oauth_consumer_key=XXX&amp;oauth_consumer_secret=XXX&amp;oauth_token=XXX&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp="" + str(timestamp) + ""&amp;oauth_nonce="" + str(nonce) + ""&amp;oauth_signature="" + str(????)

json_obj = urllib2.urlopen(url)
data = json.load(json_obj)
print data
</code></pre>
","2015-12-09 18:26:42","","0","<python><json><api><urllib2><yelp>","1","0"
"How to authenticate Yelp API in scrapy? Pass Secret_Token and Search params?","<p>Below is my code that throws 400 error in Scrapy log. My logic behind this code is as follows - 1) I use post request to get my Secret_Token. 2) I set my header to use secret token and define parameters for API search string. Also I believe header with Secret_token should be passed as meta for further requests. 3) Here i expect Parse function to recieve json response from Request in #2 and parse it into items. After that loop inside Parse method with a list of parameters for ready and working Request #2.</p>

<p>The problem is that it does not work) Log attached. I wonder if i pass parameters and secret token correctly and how can i pass secret token in meta?
<a href=""https://i.stack.imgur.com/y0lH2.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/y0lH2.png"" alt=""enter image description here""></a></p>

<pre><code>import scrapy
import json
import requests
import pprint



class YelpSpider(scrapy.Spider):
    name = ""yelp""
    allowed_domains = [""https://api.yelp.com""]

    def start_requests(self):
        params = {
            'grant_type': 'client_credentials',
            'client_id': '*******',
            'client_secret' : '*******'
        }  

        request = requests.post('https://api.yelp.com/oauth2/token', params = params)



        bearer_token = request.json()['access_token']
        headers = {'Authorization' : 'Bearer %s' % bearer_token}

        params = {
                    'term': 'restaurant',
                    'offset': 20,
                    'cc' : 'AU',
                    'location': 4806
                }

        yield scrapy.Request('https://api.yelp.com/v3/businesses/search', headers = headers, cookies = params, callback= self.parse)







    def parse(self, response):
        item = response.json()['businesses']
        return item
</code></pre>
","2017-03-06 13:53:42","","1","<python><api><scrapy><yelp>","2","0"
"Yelp Fusion API - Pulling Specific Business Data Using PHP And JSON","<p>I'm trying to figure out how to use the Yelp Fusion API with PHP to return the Yelp <code>rating</code> and <code>location</code> for a specific business. </p>

<p>I've looked for a code sample for the Yelp Fusion Business API in action, but I can't find one. I did find an example for the Yelp Fusion Search API (<a href=""https://github.com/Yelp/yelp-fusion/blob/master/fusion/php/sample.php"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-fusion/blob/master/fusion/php/sample.php</a>), but I'm not a developer and I'm struggling modifying it to work for my needs. </p>

<p>Can someone please show me how to develop a php file that will get the <a href=""https://www.yelp.com/developers/documentation/v3/business"" rel=""nofollow noreferrer"">business data</a> for a specific business (pick anyone or use <code>the-crack-shack-encinitas</code>) and how to echo these individual pieces of data (<code>ratings</code> and <code>location</code>)?</p>

<p>Thank you for your time and assistance. </p>

<p>Todd</p>

<p>High School Web Design Teacher and Life Long Learner</p>

<p><strong>Documentation</strong></p>

<p><a href=""https://www.yelp.com/developers/documentation/v3/business"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/business</a></p>
","2017-03-30 21:02:53","43262683","0","<php><json><api><yelp>","3","0"
"Yelp API ios getting a larger image","<p>I am currently using the Yelp API for my project, and I need to get the image of a business to use as a background, displayed in a UIImageView. However, all the pictures are too small from the pictures obtained, so the background is blurry. I use this code to obtain the current business images:</p>

<pre><code>[UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:[businessDict objectForKey:@""image_url""]]]];
</code></pre>

<p>Is there anyway to obtain a larger image?</p>
","2013-07-31 08:49:17","23175327","2","<ios><objective-c><uiimageview><uiimage><yelp>","1","3"
"Is it possible to post a review using Yelp API?","<p>I am working with yelp api, I am able to retrieve the product reviews with the help of the api.</p>

<p>However, is it also possible to post a review using Yelp API?</p>

<p>I need to post a review for a product from my own php script.</p>
","2012-05-23 12:17:07","12777426","2","<yelp>","1","1"
"Retrieving information from Yelp API for Excel file of restaurants","<p>Total API newbie here. I have an Excel file of restaurants in my city. For each restaurant, I have its name, address, city, state, zip code, and coordinates. I would like to retrieve additional information about these restaurants, like their ratings and price levels, and add those variables to my datafile. Is this something I could do through Yelp Fusion API? I've tried googling my question but I am still unclear if this is possible or not. I'm also unsure on how to code this because I only know R and there is very little example code for Yelp Fusion API in R.</p>
","2017-05-07 21:38:34","48019330","0","<api><yelp>","1","0"
"How to obtain access token from Yelp Fusion API using NodeJS","<p>I am trying to obtain the access token for Yelp's API. </p>

<p>Yelp's API documentation:
<a href=""https://www.yelp.com/developers/documentation/v3/get_started"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/get_started</a></p>

<p>I keep running into the error below on my terminal:</p>

<pre><code>problem with request: getaddrinfo ENOTFOUND api.yelp.com/oauth2/token api.yelp.com/oauth2/token:80 
</code></pre>

<p>Here's my NodeJS code (I took a lot of it from the Node Documentation site):</p>

<pre><code>var http = require(""http"");

var postData = JSON.stringify({
        ""grant_type"": ""client_credentials"",
        ""client_id"": ""&lt;&lt;client id&gt;&gt;"",
        ""client_secret"": ""&lt;&lt;client secret no.&gt;&gt;""
      });

var options = {
  hostname: 'api.yelp.com/oauth2/token',
  port: 80,
  method: 'POST',
  headers: {
    'Content-Type': 'application/x-www-form-urlencoded',
    'Content-Length': Buffer.byteLength(postData)
  }
};

var req = http.request(options, (res) =&gt; {
  console.log(`STATUS: ${res.statusCode}`);
  console.log(`HEADERS: ${JSON.stringify(res.headers)}`);
  res.setEncoding('utf8');
  res.on('data', (chunk) =&gt; {
    console.log(`BODY: ${chunk}`);
  });
  res.on('end', () =&gt; {
    console.log('No more data in response.');
  });
});

req.on('error', (e) =&gt; {
  console.log(`problem with request: ${e.message}`);
});

// write data to request body
req.write(postData);
req.end();
</code></pre>
","2017-02-19 15:43:25","","0","<api><oauth-2.0><yelp>","1","0"
"yelp error :INVALID_SIGNATURE","<p>I get this error when I try to run my yelp api:</p>

<pre><code>{""error"":{""text"":""Signature was
invalid"",""id"":""INVALID_SIGNATURE"",""description"":""Expired timestamp:
given 1303539322 and now 1303541647 has a greater difference than
threshold 300""}}
</code></pre>

<p>What can I do to overcome this error?</p>

<p>Thanks in advance. </p>
","2011-12-20 02:31:13","","1","<php><oauth><yelp>","2","4"
"Is there a maximum number of categories that can be returned in the Yelp API?","<p>If I made an api call like the one below:</p>

<pre><code>from yelpapi import YelpAPI

yelpApi = YelpAPI(consumerKey, consumerSecret, token, tokenSecret)
searchResults = yelpApi.search_query(name = 'food', location='San Jose, CA')
</code></pre>

<p>Is there a maximum amount of responses that could be returned for the category section of the response for any given business (e.g. searchResults['businesses'][0]['categories'])?</p>
","2016-03-27 02:52:29","36243782","1","<yelp>","1","0"
"Using Yelp OAuth and Search API bypassing home servers","<p>we are writing a web application on .NET MVC. </p>

<p>It has a textbox and when a user types 'H' we must display all businesses that Yelp thinks are relevant to 'H' (Hotels, Homedepot, etc..)</p>

<p>We are using Yelp Search API 2.0 as described <a href=""http://www.yelp.com/developers/documentation/v2/authentication"" rel=""nofollow"">here</a></p>

<p>A standard solution would be to send AJAX request to our server which pulls the access token and other credentials from our database and sends requests to Yelp server using Yelp client <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/csharp/YelpAPI/Program.cs"" rel=""nofollow"">here</a>, then send the result back to our client.</p>

<p>We can do that. What we would like is to bypass our home server and send OAuth-ed requesed directly to Yelp. I found a solution for this <a href=""https://groups.google.com/forum/#!topic/yelp-developer-support/5bDrWXWJsqY"" rel=""nofollow"">here</a> (their example is here <a href=""https://groups.google.com/group/yelp-developer-support/attach/5fc11c45b80baf2e/index.html?part=0.1"" rel=""nofollow"">index.html</a>)</p>

<p>If we want to pursue this path, we would generate an MVC View in our app that would contain all credential data (access tokens, etc) and use <a href=""http://oauth.googlecode.com/svn/code/javascript/oauth.js"" rel=""nofollow"">OAuth.js</a> and <a href=""http://oauth.googlecode.com/svn/code/javascript/sha1.js"" rel=""nofollow"">SHA1.js</a> libraries. </p>

<p>My undesratanding is that it is not a great idea to expose one's credentials like secrets and tokens in a plain view on the client side (this is specifically states on line 15 of the example).</p>

<p>My question is, how can I conseal this secret information and if it is possible at all for all request to be sent directly to Yelp bypassing our home servers.</p>
","2014-09-11 22:22:03","","1","<javascript><api><oauth><yelp>","0","0"
"Accessing Yelp API in PHP","<p>I'm getting started with Yelp API v3 (Fusion). I have created an app, got Client ID and Client Secret. </p>

<p>I understand that I need to get a token from Yelp API and then using business ID retrieve json data.</p>

<p>I've found the following PHP code:</p>

<pre><code>$postData = ""grant_type=client_credentials&amp;"".
            ""client_id=YOURCLIENTID&amp;"".
            ""client_secret=SECRET"";
$ch = curl_init();

//set the url
curl_setopt($ch,CURLOPT_URL, ""https://api.yelp.com/oauth2/token"");
//tell curl we are doing a post
curl_setopt($ch,CURLOPT_POST, TRUE);
//set post fields
curl_setopt($ch,CURLOPT_POSTFIELDS, $postData);
//tell curl we want the returned data
curl_setopt($ch,CURLOPT_RETURNTRANSFER, TRUE);
$result = curl_exec($ch);

//close connection
curl_close($ch);

if($result){
   $data = json_decode($result);
   echo ""Token: "".$data-&gt;access_token;
}
</code></pre>

<p>I've entered my ID and SECRET but got a blank page. What else am I missing? </p>
","2017-06-13 19:47:21","","8","<php><curl><oauth-2.0><yelp>","2","4"
"How to request more than 20 results from Yelp API?","<p>I am trying to get a complete list of restaurants in Toronto from Yelp. Here is my Python code:</p>

<pre><code>import urllib2
import rauth

params=""term=restaurants&amp;location=Toronto&amp;limit=20&amp;cc=CA""
consumer_key = ""***""
consumer_secret = ""***""
token = ""***""
token_secret = ""***""
session = rauth.OAuth1Session(
consumer_key = consumer_key
,consumer_secret = consumer_secret
,access_token = token
,access_token_secret = token_secret)

request = session.get(""http://api.yelp.com/v2/search"",params=params)


data = request.json()
</code></pre>

<p>The problem is that Yelp can only return 20 results. Is there a way to retrieve more than 20 results?</p>
","2016-02-20 16:38:35","","0","<python><api><yelp>","2","0"
"Yelp Search API no coordinate for a business","<p>I am using the <a href=""http://www.yelp.co.uk/developers/documentation/v2/search_api"" rel=""nofollow"">Search YELP API</a> to develop a mobile application. I  would like to display several businesses on a google map.
But unfortunately, I dont receive everything the coordinate object in my business.</p>

<pre><code>    ""location"":{  
      ""neighborhoods"":[  
         ""West Ham"",
         ""Stratford""
      ],
      ""state_code"":""XGL"",
      ""display_address"":[  
         ""409 High Street"",
         ""West Ham"",
         ""London E15 4QZ"",
         ""UK""
      ],
      ""coordinate"":{  
         ""longitude"":-2.16E-4,
         ""latitude"":51.53907
      },
      ""address"":[  
         ""409 High Street""
      ],
      ""postal_code"":""E15 4QZ"",
      ""geo_accuracy"":5,
      ""country_code"":""GB"",
      ""city"":""London""
   },
</code></pre>

<p>How should I face with this problem ? Is there any walkaround to display my business on the map anyway ? </p>
","2015-01-18 14:50:49","","0","<java><api><location><coordinate><yelp>","1","1"
"TypeError: unhashable type when using Yelp and Twitter API and Markov Bot","<p>I'm trying to make a bot that will take the first 140 characters of a review in Yelp and tweet it at 1 hour intervals. I am able to retrieve the the general information from Yelp however, when I try to post it I just get the error ""TypeError: unhashable type"". I assume it has something to do with the fact that Python cannot read from the list provided by Yelp but am not sure. In its current state, my code is only written to provide the information about the business and not the review specifically so if someone could help me out with that too that would be great.</p>

<p>Here are the relevant pieces of code:</p>

<pre><code>def tweetResponse(resp):
tweet = resp
print (tweet[0:140])

access_token = (omitted)
access_token_secret = (omitted)
consumer_key = (omitted)
consumer_secret = (omitted)

economistbot.twitter_login(consumer_key,consumer_secret,access_token,access_token_secret)
targetstring = None
keywords = None
prefix = None
suffix = None
maxconvdepth = 5

economistbot.twitter_tweeting_start(days=0,hours=1,minutes=0,keywords=None,prefix = None,suffix='#EconomistBot')
time.sleep(20)
pass
</code></pre>

<p>2.</p>

<pre><code>def main():
parser = argparse.ArgumentParser()

parser.add_argument('-q', '--term', dest='term', default=DEFAULT_TERM,
                    type=str, help='Search term (default: %(default)s)')
parser.add_argument('-l', '--location', dest='location',
                    default=DEFAULT_LOCATION, type=str,
                    help='Search location (default: %(default)s)')

input_values = parser.parse_args()

try:
    resp = query_api(input_values.term, input_values.location)
    print ""test""
    print resp
    tweetResponse(resp)
except urllib2.HTTPError as error:
    sys.exit(
        'Encountered HTTP error {0} on {1}:\n {2}\nAbort program.'.format(
            error.code,
            error.url,
            error.read(),
        )
    )


if __name__ == '__main__':
main()
</code></pre>

<p>and here is the error message:    </p>

<pre><code>Traceback (most recent call last):
  File ""/Users/rayyanmerchant/Desktop/ChatBots/YelpTwitBOt"", line 181, in &lt;module&gt;
main()
  File ""/Users/rayyanmerchant/Desktop/ChatBots/YelpTwitBOt"", line 169, in main
  tweetResponse(resp)
  File ""/Users/rayyanmerchant/Desktop/ChatBots/YelpTwitBOt"", line 20, in 
tweetResponse
print (tweet[0:140])
TypeError: unhashable type
</code></pre>

<p>Thanks in advance! :)</p>
","2017-07-31 02:36:10","","0","<python><twitter><yelp>","0","2"
"Does `YLPBusiness` class have a property indicating the price range of a business?","<p>I have been looking at the documentation on <a href=""https://github.com/Yelp/yelp-fusion"" rel=""nofollow noreferrer"">Yelp Fusion </a> on GitHub and there is no mention of a price range property within <code>YLPBusiness</code> that would indicate the ""dollar sign"" count for a particular business. Any response pointing in the right direction would be much appreciated!</p>
","2017-07-31 12:31:40","","0","<yelp>","0","0"
"Can't seem to fetch data from the Yelp API in React app","<p>I'm trying to render some data from the Yelp API in one of my components and I'm getting the following error:</p>

<p><code>Fetch API cannot load https://api.yelp.com/v3/businesses/search?location=New%20York. Response for preflight has invalid HTTP status code 500</code></p>

<p>I had a CORS error before that but I just installed a plugin for Chrome (temporary solution?).</p>

<p>This is the function for to render data</p>

<pre><code>const yelp = require('yelp-fusion');

const clientId = ""MY ID"";
const clientSecret = ""MY KEY"";

const token = ""MY TOKEN"";

const client = yelp.client(token);


let businessSearch = (inputLocation) =&gt; {
  client.search({
    location: inputLocation
  }).then(response =&gt; {
    console.log(response.jsonBody.businesses[0]);
  }).catch(e =&gt; {
    console.log(e);
  });
}


module.exports = {
  businessSearch,
};
</code></pre>

<p>I have a vague idea of what's going on, the problem lies in trying to fetch data in my internal server but i'm not sure how to fix it. Any ideas?</p>
","2017-07-31 19:49:00","","0","<javascript><api><reactjs><yelp>","0","7"
"Yelp Fusion API NodeJS client request calls","<p>I'm trying to make a client side request to Yelp Fusion API. When I use the following code, the response is correctly logged to the console. </p>

<pre><code>'use strict';

var request = require('superagent');
var express = require('express');
var app = express();
const yelp = require('yelp-fusion');

app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');
app.set('views', __dirname + '/views/');

app.use(express.static(__dirname));

var NON_INTERACTIVE_CLIENT_ID = 'R************w';
var NON_INTERACTIVE_CLIENT_SECRET = 't**************m';

var authData = {
    client_id: NON_INTERACTIVE_CLIENT_ID,
    client_secret: NON_INTERACTIVE_CLIENT_SECRET,
    grant_type: 'client_credentials',
    audience: 'http://movieanalyst.com'
};

const searchRequest = {
    term:'Four Barrel Coffee',
    location: 'san francisco, ca'
};

yelp.accessToken(clientId, clientSecret).then(response =&gt; {
    const client = yelp.client(response.jsonBody.access_token);

    client.search(searchRequest).then(response =&gt; {
        const firstResult = response.jsonBody.businesses[0];
        const prettyJson = JSON.stringify(firstResult, null, 4);
        console.log(prettyJson);
    });
}).catch(e =&gt; {
    console.log(e);
});

app.get('/', function(req, res){
    res.render('index');
});

app.listen(3000);
</code></pre>

<p>The above code displays a JSON object in terminal. My goal is to pass the object into an html page and use the javascript file linked in it to parse the JSON object and pick the necessary information to be displayed on the page.
However, when I retrieve the access token independently of the request and make the request inside an app.get(), I get a 404 error response when I try to navigate to '/yelp'. If I try to console.log(token), I get a pending promise that is never resolved. </p>

<pre><code>'use strict';

var request = require('superagent');
var express = require('express');
var app = express();
const yelp = require('yelp-fusion');

app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');
app.set('views', __dirname + '/views/');

app.use(express.static(__dirname));

var NON_INTERACTIVE_CLIENT_ID = 'R***********w';
var NON_INTERACTIVE_CLIENT_SECRET = 't*************m';

var authData = {
    client_id: NON_INTERACTIVE_CLIENT_ID,
    client_secret: NON_INTERACTIVE_CLIENT_SECRET,
    grant_type: 'client_credentials',
    audience: 'http://movieanalyst.com'
};

const searchRequest = {
    term:'Four Barrel Coffee',
    location: 'san francisco, ca'
};

var clientId = NON_INTERACTIVE_CLIENT_ID;
var clientSecret = NON_INTERACTIVE_CLIENT_SECRET;

const token = yelp.accessToken(clientId, clientSecret).then(response =&gt; {
    return response.jsonBody.access_token;
}).catch(e =&gt; {
    console.log(e);
});

const client = yelp.client(token);

console.log(token)    // pending promise here

app.get('/yelp', function(req, res){
    client.search(searchRequest).then(function(response){
        console.log(response.jsonBody.businesses[0].name);
    }).catch(function(e){
        console.log(e);
    })
})

app.get('/', function(req, res){
    res.render('index');
});

app.listen(3000);
</code></pre>

<p>I am new to NodeJS and don't understand where I am going wrong.</p>
","2017-07-04 00:01:06","","0","<javascript><json><node.js><yelp>","0","0"
"Get data on API yelp","<p>I have to use the Yelp API in php to create a small box with reviews from yelp for my company,
I never use it, and I read the doc this morning.
I understand how t works, but I don't understand how to get the data from the response
{'businesses': 
[{'address1': '466 Haight St', 
'address2': '', 
'address3': '', etc...... 
}}
My url is simple, I just enter the name of the business like: 
$url=""http://api.yelp.com/business_review_searchterm=$term&amp;location=$city%2A%20CA&amp;ywsid=$key""; with all the var ok.</p>

<p>Can you help me please, I just want to know how to get this data
Thanks</p>
","2012-01-25 20:45:44","","0","<php><api><yelp>","1","0"
"Compiling yelp under Mac OS X","<p>I am trying to compile both meld and KeePassX again under the Mac OS X environment with the help of Homebrew.  I am using an iMac running OS X 10.10.  I am currently at the stage of building the jhbuilder required to build the mac package.  At this moment, I am stuck at the point that I installed glib through Homebrew, but it keeps on saying that I did not have it installed.  The messages are as follows:</p>

<pre><code>checking whether ln -s works... yes
checking for gsed... no
checking for sed... /usr/local/Library/ENV/4.3/sed
checking for pkg-config... /usr/local/bin/pkg-config
checking pkg-config is at least version 0.16... yes
checking for GLIB - version &gt;= 2.0.0... Package glib-2.0 was not found in the pkg-config search path.
Perhaps you should add the directory containing `glib-2.0.pc'
to the PKG_CONFIG_PATH environment variable
No package 'glib-2.0' found
no
</code></pre>

<p><strong>* Could not run GLIB test program, checking why...
    *</strong> The test program failed to compile or link. See the file config.log for the
    *** exact error that occured. This usually means GLIB is incorrectly installed.
    checking for pkg-config... (cached) /usr/local/bin/pkg-config
    checking pkg-config is at least version 0.16... yes
    Package gio-2.0 was not found in the pkg-config search path.
    Perhaps you should add the directory containing `gio-2.0.pc'
    to the PKG_CONFIG_PATH environment variable
    No package 'gio-2.0' found
    configure: error: glib-compile-schemas not found.
    + exit 1</p>

<pre><code>brew ~/Source/yelp$ sudo brew install glib
Warning: glib-2.42.2 already installed
</code></pre>

<p>Is there any way for me to solve this problem?</p>
","2015-03-17 11:12:32","","0","<macos><homebrew><glib><yelp>","0","3"
"Looping over dictionary python","<p>I am following along this yelp API tutorial: <a href=""http://letstalkdata.com/2014/02/how-to-use-the-yelp-api-in-python/"" rel=""nofollow"">http://letstalkdata.com/2014/02/how-to-use-the-yelp-api-in-python/</a></p>

<p>And I have the code below. I am basically trying to separate out the elements of the dictionary of results in a meaningful way. Right now I just get a whole stream of data... how do I loop through the dictionary in such a way that it presents all the keys and values cleanly one after the other?  </p>

<pre><code>import rauth
import time

def main():
    locations = [(39.98,-82.98),(42.24,-83.61),(41.33,-89.13)]
    api_calls = []
    for lat,long in locations:
        params = get_search_parameters(lat,long)
        api_calls.append(get_results(params))
        #Be a good internet citizen and rate-limit yourself
        time.sleep(1.0)

    ##Do other processing

    for key in api_calls:
        print key

def get_results(params):

    #Obtain these from Yelp's manage access page
    consumer_key = ""CONSUMER_KEY_HERE""
    consumer_secret = ""CONSUMER_SECRET_HERE""
    token = ""TOKEN_HERE""
    token_secret = ""TOKEN_SECRET_HERE""

    session = rauth.OAuth1Session(
        consumer_key = consumer_key
        ,consumer_secret = consumer_secret
        ,access_token = token
        ,access_token_secret = token_secret)

    request = session.get(""http://api.yelp.com/v2/search"",params=params)

    #Transforms the JSON API response into a Python dictionary
    data = request.json()
    session.close()

    return data

def get_search_parameters(lat,long):
    #See the Yelp API for more details
    params = {}
    params[""term""] = ""restaurant""
    params[""ll""] = ""{},{}"".format(str(lat),str(long))
    params[""radius_filter""] = ""2000""
    params[""limit""] = ""10""

    return params

if __name__==""__main__"":
    main()
</code></pre>
","2015-03-18 04:28:28","29162751","1","<python><yelp>","2","5"
"Yelp API, OAuth; Invalid signature. Expected signature base string","<p>NOTE: I've looked at all the posts on the first two pages of Google search results returned when I type my error into Google and I still have this issue. It seems there's not a lot of coverage on JavaScript OAuth stuff because most OAuth business takes place on the back end.  </p>

<p>I'm trying to make an AJAX request to the Yelp Phone Search API. I'm using <a href=""https://github.com/bettiolo/oauth-signature-js"" rel=""nofollow"">Marco Bettiolo's JavaScript OAuth library</a>. I believe I've got the OAuth library working, but for some reason when I try to make the call, the JSON being returned speaks of an ""Invalid Signature"" error. Go ahead and check out my <a href=""http://jvojens2.github.io/frontend-nanodegree-neighborhood-map/"" rel=""nofollow"">live project</a> and see the error for yourself. Here's my <a href=""https://github.com/jvojens2/frontend-nanodegree-neighborhood-map"" rel=""nofollow"">project on GitHub</a>. If you want to reproduce the error yourself, go to my <a href=""http://jvojens2.github.io/frontend-nanodegree-neighborhood-map/"" rel=""nofollow"">live project</a>, open up devtools console, click on a gym so that an infoWindow pops up, and then click on where it says, ""Click Here to See Photos."" Once you click on that, the application will fire off the AJAX request and keep your eye on the console, because you will see the error show up.</p>

<p>Any help is much appreciated! </p>

<p>Here's the relevant code. I've placed the AJAX-relevant code inside the onclick handler for the photos link that's in each infoWindow.</p>

<pre><code>photoLink.onclick = function() {
    // Modify phone number string so it's ready to be 
    // put into url for AJAX call to Yelp API
    var phoneNumber = place.formatted_phone_number;
    var re = /\D/gi; 
    phoneNumber = phoneNumber.replace(re, '');

    var yelpURL = YELP_BASE_URL + phoneNumber;

    var parameters = {
      oauth_consumer_key: YELP_CONSUMER_KEY,
      oauth_token: YELP_TOKEN,
      oauth_nonce: generateNonce(),
      oauth_timestamp: Math.floor(Date.now()/1000),
      oauth_signature_method: 'HMAC-SHA1',
      oauth_version : '1.0',
      callback: 'cb'              // This is crucial to include for jsonp implementation in 
                                  // AJAX or else the oauth-signature will be wrong.
    };

    var encodedSignature = oauthSignature.generate('GET',yelpURL, parameters, YELP_CONSUMER_SECRET, YELP_TOKEN_SECRET);
    parameters.oauth_signature = encodedSignature;

    var settings = {
      url: yelpURL,
      data: parameters,
      cache: true,  //        &lt;----  This is crucial to include as well to prevent jQuery from 
                                  // adding on a cache-buster parameter ""_=23489489749837"", 
                                  // invalidating our oauth-signature
      dataType: 'jsonp',
      success: function(results) {
        // Do stuff with results
        console.log(results);
      },
      fail: function() {
        // Do stuff on fail
        console.log('AJAX request has failed :(');
      }
    };

    // Send AJAX request via jQuery library
    $.ajax(settings);
  };
</code></pre>
","2015-03-19 18:48:43","","0","<javascript><jquery><ajax><oauth><yelp>","1","1"
"How can I get website from Yelp API","<p>How can I can get the website URL in the response when get the business details from the following API call?
You can check the results of response: </p>

<pre><code>https://www.yelp.com/developers/documentation/v2/search_api
</code></pre>

<p>There's no website details in the response as you can see.</p>
","2015-03-20 08:48:58","29256222","2","<php><api><yelp>","1","5"
"Integrate Yelp API into Swift Application","<p>I am trying to build an iPhone application with capabilities of searching Yelp's database using an API. I have never used an API before (I'm a student- not much professional development experience), so I need a very simple walkthrough on how to pull data overall, filter, and authenticate myself to actually get the data. I'd also like to learn how to save the location's identifier into a Plist so the app can store which places the user visited. This help is much appreciated. Thank you!</p>

<p>I found this online, but I can't make much sense of it. Can someone explain?</p>

<pre><code>class YelpClient: BDBOAuth1RequestOperationManager {

var accessToken: String!
var accessSecret: String!

required init(coder aDecoder: NSCoder) {
    super.init(coder: aDecoder)
}

init(consumerKey key: String!, consumerSecret secret: String!, accessToken: String!, accessSecret: String!) {
    self.accessToken = accessToken
    self.accessSecret = accessSecret
    var baseUrl = NSURL(string: ""http://api.yelp.com/v2/"")
    super.init(baseURL: baseUrl, consumerKey: key, consumerSecret: secret);

    var token = BDBOAuthToken(token: accessToken, secret: accessSecret, expiration: nil)
    self.requestSerializer.saveAccessToken(token)
}

func searchWithTerm(term: String, parameters: Dictionary&lt;String, String&gt;? = nil, offset: Int = 0, limit: Int = 20, success: (AFHTTPRequestOperation!, AnyObject!) -&gt; Void, failure: (AFHTTPRequestOperation!, NSError!) -&gt; Void) -&gt; AFHTTPRequestOperation! {
    var params: NSMutableDictionary = [
        ""term"": term,
        ""offset"": offset,
        ""limit"": limit
    ]
    for (key, value) in parameters! {
        params.setValue(value, forKey: key)
    }
    return self.GET(""search"", parameters: params, success: success, failure: failure)
}

}
</code></pre>
","2016-04-22 02:46:25","","1","<ios><swift><api><yelp>","0","0"
"Yelp Place API returning ""Invalid Signature"" Error only from Nginx on EC2","<p><strong>Problem</strong>: I am getting an ""Invalid Signature"" error from Yelp API <strong>only from production (running on nginx server in AWS)</strong> When I run locally on my localhost:3000, there is no signature error, and everything works fine.</p>

<p>I am using the yelp gem in rails. Here's some code in ruby.:</p>

<pre><code>$client = Yelp::Client.new({
    consumer_key: $SL_CONSUMER_KEY,
    consumer_secret: $SL_CONSUMER_SECRET,
    token: $SL_TOKEN,
    token_secret: $SL_TOKEN_SECRET
})

begin
    $client.search(""Los Angeles"")
rescue =&gt; error
    puts error.message
    puts error.inspect
end
</code></pre>

<p>error.message prints out: ""Signature was invalid""</p>

<p>error.inspect prints out: &lt; Yelp::Error::InvalidSignature: Signature was invalid ></p>

<p><strong>Everything works when I run locally on rails' Webrick server</strong> but when I run it in production, I get an ""Invalid Signature"" error.</p>

<p>Has anyone seen this? I've looked at some relevant posts, but this seems different. Thanks!</p>
","2015-03-24 04:17:32","","1","<ruby-on-rails><nginx><oauth><amazon-ec2><yelp>","2","2"
"Timezone of time provided in yelp V3 event search API","<p>I am trying to integrate events obtained from <a href=""https://www.yelp.com/developers/documentation/v3/event"" rel=""nofollow noreferrer"">Yelp API V3</a>. The event time given in the <code>time_start</code> and <code>time_end</code> nodes are different from what they're being displayed on Yelp's website. Also the document of V3 API doesn't provide any information regarding the timezone which makes it nearly impossible to get the correct time of any event.</p>

<p><strong>Endpoint</strong></p>

<p><a href=""https://api.yelp.com/v3/events/"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/events/</a></p>

<pre><code>{
""events"": [{
    ""event_site_url"": ""https://www.yelp.com/events/london-the-european-information-security-summit-2017"",
    ""id"": ""london-the-european-information-security-summit-2017"",
    ""latitude"": 51.5009690970451,
    ""longitude"": -0.119283199310303,
    ""name"": ""The European Information Security Summit 2017"",
    ""time_start"": ""2018-02-21 17:00"",
    ""time_end"": ""2018-02-23 02:30""
}]
}
</code></pre>

<p>Same <a href=""https://www.yelp.com/events/london-the-european-information-security-summit-2017"" rel=""nofollow noreferrer"">event on yelp</a> shows time as </p>

<pre><code>From: Wednesday, Feb 21, 9:00 am
To: Thursday, Feb 22, 6:30 pm
</code></pre>

<p>Tried setting up different timezones but couldn't get the expected results.</p>

<p>Any help will be highly appreciated!</p>
","2017-11-28 08:56:02","","4","<php><api><yelp>","0","0"
"Retrieving state-level results from Yelp API","<p>Using the Yelp /businesses/search endpoint, I'm trying to determine the highest-rated sushi restaurant in the state of California using the following GET request in Postman.</p>

<p>The response is 50 restaurants primarily in the Fresno, CA area. Is there a better way to get the full state-level results?</p>

<pre><code>https://api.yelp.com/v3/businesses/search?categories=sushi&amp;location=CA&amp;sort_by=rating&amp;limit=50
</code></pre>

<p>Additionally, I've tried changing the location parameter to 'CA, USA' / 'CA, US' which returns all 50 results in San Francisco (I know from spot checking that Los Angeles has highly rated / highly reviewed restaurants that should be included in the results).</p>

<p>Really appreciate the help.</p>
","2017-09-18 22:41:06","","0","<postman><yelp>","0","0"
"Yelp API - Pull all Reviews for a business","<p>I was reading through the API and I clicked on Business API and found <code>reviews</code> as a possible response. The description reads,</p>

<p><code>List of up to 1 review snippet for the business</code></p>

<p>Does this mean I cannot pull all my reviews for my business onto my website? I could only show 1 snippet?</p>
","2014-03-16 05:00:50","23548377","5","<api><yelp>","3","0"
"psql restore sql dump syntax error","<p>I am trying to import <a href=""https://www.yelp.com/dataset/documentation/sql"" rel=""nofollow noreferrer"">https://www.yelp.com/dataset/documentation/sql</a> into a PostgreSQL instance. It is having problems with accent marks/backtick. Other than doing a character replace, is there any other way to deal with this?</p>

<pre><code>ERROR:  syntax error at or near ""PaxHeader""
LINE 1: PaxHeader/yelp_db.sql17 uid=998889796
    ^
ERROR:  syntax error at or near ""`""
LINE 1: CREATE DATABASE /*!32312 IF NOT EXISTS*/ `yelp_db` /*!40100 ...
                                             ^
ERROR:  syntax error at or near ""USE""
LINE 1: USE `yelp_db`;
    ^
ERROR:  syntax error at or near ""`""
LINE 1: DROP TABLE IF EXISTS `attribute`;
</code></pre>
","2017-09-23 22:14:39","","0","<sql><postgresql><psql><restore><yelp>","1","5"
"Filtering results based on keyword, category, and search location in yelp API","<p>I know that there is Yelp API available to fetch business locations by keyword, category, and location but I am having little problem here.</p>

<p>Please check this screenshot.<br>
<a href=""https://i.stack.imgur.com/dV2Kf.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/dV2Kfm.png"" alt=""enter image description here"" title=""click to enlarge""></a></p>

<p>User is going to select either lunch, dinner, or drink PLUS a city in which he wants listing of restaurants. Now I can use ""lunch"", ""dinner"" or ""drink"" as keyword and make an API call for given selected city and system will send me 20 businesses.</p>

<p>The problem is that I want user to given facility to auto suggest the business names as user types in first few character of business names. But as I have just 20 results, I can not suggest the name if it is does not present in the list of 20 fetched. So what should be the best way in order accomplish this functionality?</p>
","2015-12-02 04:26:23","","0","<yelp>","1","2"
"Geocoding function returns void, need it to return CLLocationCoordinate2D","<p>I'm using MapKit's forward geocoding function and created a function that will take an address from the Yelp API and, well, forward geocode it. However, this function inherently returns void and won't function properly otherwise if I change Void to CLLocationCoordinate2D. All I need is for it to return ""coordinate.""</p>

<pre><code>func forwardGeocoding(address: String)  {

let geocoder = CLGeocoder()

geocoder.geocodeAddressString(address, completionHandler: {(placemarks, error) -&gt; Void in
    if((error) != nil){
        print(""Error"", error)
    }
    if let placemark = placemarks?.first {
        let coordinate:CLLocationCoordinate2D = placemark.location!.coordinate
    }
})

}
</code></pre>
","2016-06-30 21:28:31","","1","<ios><mapkit><yelp>","1","0"
"GAE Import of OAuth failing","<p>I am trying to set up my first ever API connection with Yelp, I am using GAE on Python. To do so, I used the following example: <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/python/search.py"" rel=""nofollow"">https://github.com/Yelp/yelp-api/blob/master/v2/python/search.py</a> 
At first I simply try to run the code by the following definition in my app.yaml</p>

<pre><code>handlers:
- url: /search
script: search.py
</code></pre>

<p>However when I load the page it gives the following error: <em>No module named oauth2</em>. I have read through many of the topics that seem to cover this error but none really helped in resolving it. I also tried importing oauth2client which was mentioned in some answers however this was also not accepted.</p>

<p>The only thing that was accepted by the system was </p>

<pre><code>from google.appengine.api import oauth
</code></pre>

<p>Therefore I tried to work with this module, but immediately ran into another problem. I filled out my credentials (consumer_key, consumer_secret, token, token_secret) by defining them as default value in the parser definition. To replicate the examples request on <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/python"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/python</a> I also added a default value for 'term' (bars) and 'location' (sf).</p>

<p>When loading the page with this it however gives me the error <em>'module' object has no attribute 'Consumer'</em>, so this also doesn't seem to be the solution. As said this is my first time setting up such a system, so probably I am missing something obvious. Thanks a lot for your thoughts.</p>
","2012-12-28 16:24:34","14073648","2","<python><api><google-app-engine><yelp>","1","0"
"Could not find matching strategy for :yelp, but omniauth-yelp is installed","<p>When trying to start my Rails server with Yelp authentication, I get this error:</p>

<pre><code>/var/lib/gems/1.9.1/gems/omniauth-1.2.1/lib/omniauth/builder.rb:50:in `rescue in provider': Could not find matching strategy for :yelp. You may need to install an additional gem (such as omniauth-yelp). (LoadError)
</code></pre>

<p>However, in my gemfile, I have the line</p>

<pre><code>gem 'omniauth-yelp'
</code></pre>

<p>And ran</p>

<pre><code>bundle install
</code></pre>

<p>In config/initializers/omniauth.rb, have the line</p>

<pre><code>provider :yelp, ENV['yelp_consumer_key'], ENV['yelp_consumer_secret']
</code></pre>

<p>Why doesn't my application notice that omniauth-yelp is installed?</p>
","2014-03-18 18:36:32","","1","<ruby-on-rails><ruby><omniauth><yelp>","0","1"
"Invalid signature while passing two terms in yelp url","<p>I am trying to do a yelp query and using OAuth Lib</p>

<p>Here is the code</p>

<pre><code>  NSURL *URL = [NSURL URLWithString:[NSString stringWithFormat:@""http://api.yelp.com/v2/search?term=petrol+restaurants&amp;ll=%f,%f&amp;radius_filter=300"",coordinate.latitude,coordinate.longitude]];

  OAConsumer *consumer = [[OAConsumer alloc] initWithKey:consumerKey secret:consumerSecret];
  OAToken *token = [[OAToken alloc] initWithKey:tokenUrl secret:tokenSecret];

  id&lt;OASignatureProviding, NSObject&gt; provider = [[OAHMAC_SHA1SignatureProvider alloc] init];
  NSString *realm = nil;

  OAMutableURLRequest *request = [[OAMutableURLRequest alloc] initWithURL:URL
                                                                 consumer:consumer
                                                                    token:token
                                                                    realm:realm
                                                        signatureProvider:provider];
  [request prepare];

  NSURLConnection *connection = [[NSURLConnection alloc] initWithRequest:request delegate:self];
  connection = nil;
</code></pre>

<p>The code works perfect if the query has one term , <code>term=petrol</code> e.g But if I add two terms like <code>term=petrol+fuel</code> it starts giving me error <code>{""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature</code></p>

<p>What is wrong with this code?</p>

<p>SAMPLE API REQUEST</p>

<pre><code>http://api.yelp.com/v2/search?term=cream+puffs&amp;location=San+Francisco
</code></pre>

<p>iTS Contains a + but when i use + it gives me above error</p>
","2012-12-31 08:34:56","14381087","2","<iphone><objective-c><cocoa-touch><yelp>","1","5"
"How to create a custom map based search bar like yelp?","<p>So I am trying to create a search bar like yelp's that gives places suggestions and the map markers reflect those suggestions as well. I was able to implement a google maps places search bar from the google maps api however, now I want the places search to only show place suggestions on the map that are in my database. How would I go about implementing this? Detailed explanations, tutorials or references would be very helpful.</p>
","2014-07-22 05:57:03","","-1","<google-maps><google-maps-api-3><web2py><yelp>","1","1"
"Using Alamofire with Yelp Search API","<p>Is it possible to use Alamofire with the Yelp Search API? If so, how do you generate the OAuth signature? Here's a snippet of the code I'm trying to make work. Thanks in advance.</p>

<pre><code>func searchForBusinessesByLocation(term: String, location: String) {
        Alamofire.request(Method.GET, NSURL(string: ""http://\(self.api_host)\(self.search_path)"")!, parameters: [""term"":self.searchTerm, ""location"":self.searchLocation,""limit"":self.search_limit, ""oauth_consumer_key"":self.CONSUMER_KEY, ""oauth_token"":self.TOKEN, ""oauth_signature_method"":self.SIGNATURE_METHOD, ""oauth_signature"":self.SIGNATURE, ""oauth_timestamp"":self.timestamp(), ""oauth_nonce"":self.NONCE]).responseString(encoding: NSUTF8StringEncoding, completionHandler: {(_,_,result, error) in
            if(result != nil) {
                println(""result \(result)"")
            }
            else {
                println(""no result"")
            }
            if(error != nil) {
                println(""error \(error)"")
            }
            else {
                println(""no error"")
            }
        })
    }
</code></pre>
","2015-08-28 16:58:34","","1","<swift><oauth><alamofire><yelp>","1","0"
"Need to resolve Yelp Response: ""Signature was invalid"" using PHP code Sample","<p>Hey I'm trying to integrate the Yelp API into my cakephp website and get an ""Signature was invalid"" error.</p>

<p>I tried to find out the reason for my issue with the help of google and stackoverflow, but couldn't solve it</p>

<p>I use the following code:</p>

<pre><code>public function bar($hostel_data=array()){

    $term = ""bar"";
    $location = ""Berlin"";
    $test1 = $this-&gt;search($term, $location);   

    debug($test1 );  die();         
}




function yelpRequest($path) {

    $consumer_key = ""xxxxxxx"";
    $consumer_secret = ""xxxxxxxx"";
    $token = ""xxxxxxxxx"";
    $token_secret = ""xxxxxxxxx"";

    require APPLIBS.'OAuth'.DS.'oAuth.php';


    $unsigned_url = ""http://"" . ""api.yelp.com"" . $path;

    // Token object built using the OAuth library
    $token = new OAuthToken($token, $token_secret);

    // Consumer object built using the OAuth library
    $consumer = new OAuthConsumer($consumer_key, $consumer_secret);

    // Yelp uses HMAC SHA1 encoding
    $signature_method = new OAuthSignatureMethod_HMAC_SHA1();

    $oauthrequest = OAuthRequest::from_consumer_and_token(
        $consumer, 
        $token, 
        'GET', 
        $unsigned_url
    );

     // Sign the request
$oauthrequest-&gt;sign_request($signature_method, $consumer, $token);

// Get the signed URL
$signed_url = $oauthrequest-&gt;to_url();

debug($signed_url);
//utf8_encode($signed_url);

// Send Yelp API Call
$ch = curl_init($signed_url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, 0);
$data = curl_exec($ch);
curl_close($ch);


return $data;
}


function search($term, $location) {

$search_path =""/v2/search/"";

$url_params = array();
$url_params['term'] = $term ?: $GLOBALS['DEFAULT_TERM'];
$url_params['location'] = $location?: $GLOBALS['DEFAULT_LOCATION'];
$url_params['limit'] = 20;

$search_path = $search_path . ""?"" . http_build_query($url_params);

$yelpResponse = $this-&gt;yelpRequest($search_path);

debug($url_params); debug($yelpResponse); die();
return $yelpResponse;
}
</code></pre>

<p>debug($signed_url):</p>

<pre><code>http://api.yelp.com/v2/search/?limit=20&amp;location=Berlin&amp;oauth_consumer_key=qHsEZDzSkqfT8aOxr79Isw&amp;oauth_nonce=60b30afc5087fcc509eb4245d1e9410c&amp;oauth_signature=XFZFpzdg36G0eG42TZKy5Ny9BbU%3D&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=1406153682&amp;oauth_token=kqq8iu-whGeYubw3Q8o_fNyzUgDEpnrO&amp;oauth_version=1.0&amp;term=bar
</code></pre>

<p>The error response:</p>

<pre><code>'{""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch%2F\u0026limit%3D20%26location%3DBerlin%26oauth_consumer_key%3DqHsEZDzSkqfT8aOxr79Isw%26oauth_nonce%3D60b30afc5087fcc509eb4245d1e9410c%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1406153682%26oauth_token%3Dkqq8iu-whGeYubw3Q8o_fNyzUgDEpnrO%26oauth_version%3D1.0%26term%3Dbar""}}'
</code></pre>

<p>I hope someone can give some help or a hint how to solve it...</p>

<p>Or is there a good tutorial for cake/php or a plugin for it? Im stuck on this since more than two days :/</p>
","2014-07-23 22:59:00","24926286","3","<php><cakephp><oauth><cakephp-2.0><yelp>","1","0"
"How to use category_filter in java for yelp","<p>Please kindly tell me how to use category_filter in search results for yelp API call in java. I have used Oauth to make request parameter. In this code, how can i add parameter for category_filter</p>

<pre><code>private static final String API_HOST = ""api.yelp.com"";
static  String DEFAULT_LOCATION = ""London""; 
private static final int SEARCH_LIMIT = 20;
private static final String SEARCH_PATH = ""/v2/search"";
private static final String BUSINESS_PATH = ""/v2/business"";



request =new OAuthRequest(Verb.GET, ""https://"" + API_HOST + SEARCH_PATH);
        request.addOAuthParameter(OAuthConstants.TIMESTAMP, seconds.toString());
        request.addHeader(OAuthConstants.TIMESTAMP, seconds.toString());
        request.addQuerystringParameter(""term"", DEFAULT_TERM);
        request.addQuerystringParameter(""location"", DEFAULT_LOCATION);
        request.addQuerystringParameter(""limit"", String.valueOf(SEARCH_LIMIT));
</code></pre>
","2016-04-07 15:29:47","","2","<android><yelp>","0","0"
"Yelp API on Android Studio","<p>Been a lurker on this site to help find answers to some of my problems before, but I am currently stuck on this and could not find a recent solution. The closest answers I found to my problem were <a href=""https://stackoverflow.com/questions/19370474/yelp-api-android-integration/19370497#19370497"">Yelp API Android Integration</a> and <a href=""https://stackoverflow.com/questions/6676733/yelp-integration-in-android"">Yelp Integration in Android</a></p>

<p>I tried following the steps in the 2nd link but they are a bit outdated. I have registered for an API, downloaded the jar files from the github and synced them, and made the YelpAPI.java and TwoStepOAuth.java files and removed the main method from YelpAPI. I am stuck on step 4 on the search part. I tried to call the queryAPI method from inside an onClick method I made for a button</p>

<pre><code>    public void getRandom(View view) {
    Intent intent = new Intent(this, SecondActivity.class);
    startActivity(intent);
    YelpAPI.YelpAPICLI yelpApiCli = new YelpAPI.YelpAPICLI();
    new JCommander(yelpApiCli);
    YelpAPI yelpApi = new YelpAPI(CONSUMER_KEY, CONSUMER_SECRET, TOKEN, TOKEN_SECRET);
    try {
        YelpAPI.queryAPI(yelpApi, yelpApiCli);
    } catch (JSONException e) {
        e.printStackTrace();
    }
}
</code></pre>

<p>Basically what I want this to do is, when the button is pressed, I want it to go to a second screen that will display what I query Yelp for. I haven't worked on that part yet, right now I just want to get a result back from Yelp. Keep in mind I am a complete noob at Android Studio and at most intermediate at Java.</p>

<p>Any help is greatly appreciated, it seems like its a really simple problem but its taking me forever to figure out on my own.</p>
","2015-03-27 16:21:31","","2","<java><android><android-studio><yelp>","1","0"
"Yelp API latitude longitude","<p>I am trying to use Yelp's API with a latitude/longitude location.  I used the javascript code that yelp gave out, which basically has a parameter array, and pushes values into it like so:   </p>

<pre><code>parameters.push(['term', terms]);
parameters.push(['location', near]);
parameters.push(['oauth_consumer_key', auth.consumerKey]);
</code></pre>

<p>On Yelp's documentation, it explains the call for latitude/longitude as 
    ""ll=latitude,longitude,accuracy,altitude,altitude_accuracy""
  with only latitude and longitude being the required values.</p>

<p>When I try to use the following code, however, only the latitude gets pushed into the array and Yelp returns a Bad Request error:</p>

<pre><code>parameters.push(['ll', latitude, longitude]);
</code></pre>

<p>What am I doing wrong?</p>
","2013-06-28 18:14:47","","1","<javascript><jquery><yelp>","2","0"
"API Request with HTTP Authorization Header inside of componentDidMount","<p>I'm very new to React, and to practice, I am trying to build an application that fetches information from the Yelp API, but I'm having trouble getting a response. Yelp Fusion v3 requires an 'access_token'(which I've successfully received as a response in Postman). So to make this request in my application, I am using Axios. When I am making this request inside of componentDidMount(), as a response I get </p>

<blockquote>
  <p>XMLHttpRequest cannot load <a href=""https://api.yelp.com/v3/businesses/search?term=sushi&amp;location=Boston"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search?term=sushi&amp;location=Boston</a>. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=""http://localhost:8080"" rel=""nofollow noreferrer"">http://localhost:8080</a>' is therefore not allowed access. The response had HTTP status code 500.</p>
</blockquote>

<p>Though it may seem that I am incorrectly specifying the access_token and parameters, when running the same code in a separate file(not part of the application), I get the JSON response that I am looking for in my app.</p>

<p>Here is my componentDidMount(): </p>

<pre><code>componentDidMount: function () {
    axios.get('https://api.yelp.com/v3/businesses/search?term=Sushi&amp;location=Boston',{
        headers: {
            Authorization: `Bearer ${token}`
        }
    })
    .then(function(res){
        console.log(res)
    })
    .catch(function(err){
        console.log(err)
    })
},
</code></pre>

<p>I've tried the Yelp node module as well, but I am having no luck. Please help!</p>
","2017-03-10 01:02:30","42708688","0","<reactjs><axios><yelp>","1","0"
"How do I use the Yelp API in Swift?","<p>I don't know Objective-C. They have no code samples on their page for Swift. Has anyone used their new V2 API with Swift yet who can provide some examples or simple searches such as querying local restaurants nearby and more importantly how to provide their required keys?</p>
","2015-07-13 21:13:45","","3","<ios><swift><api><yelp>","1","2"
"How to get results using yelp api","<p>Sorry, this might be pretty basic.  I'm trying to use the Yelp API and am running a test search for McDonalds in Baltimore.  </p>

<p>this is the code:</p>

<pre><code>&lt;?php

    $AccountKey = ""XXXX"";
    $restaurant = ""McDonalds"";
    $city = ""Baltimore"";

    $file = ""test.txt"";

    $data = http_get(""http://api.yelp.com/business_review_search?term="".$restaurant.""&amp;location="".$city.""&amp;ywsid="".$AccountKey);

    file_put_contents($file, $data);

 ?&gt;
</code></pre>

<p>I'm trying to store the results in test.txt which I can then parse but its not working.  Any ideas?  </p>

<p>Thanks in advance!</p>
","2014-05-13 20:51:36","24230951","1","<php><api><yelp>","1","1"
"Yelp mouse tracking mechanism","<p>I realized Yelp.com does some kind of tracking when the mouse move or something happens (click in element). How does it to this? Is there a library? How to do this without nearly zero performance impact?</p>

<p>You can see Console in Firebug below:</p>

<p><img src=""https://i.stack.imgur.com/m4BkD.jpg"" alt=""enter image description here""></p>
","2013-04-06 00:05:33","15846459","2","<javascript><jquery><web-applications><yelp>","2","5"
"Use Yelp API to search for restaurants by category using Python script","<p>I would like to search Yelp API for restaurants by category. However, the keyword I use gets me an invalid error. Here's what I mean: </p>

<p>Using Python code (search.py) from: <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/python"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/python</a></p>

<p>I have the following query: </p>

<pre><code>python search.py --consumer_key=XXX --consumer_secret=XXXX \
--token=XXX --token_secret=XXX --location=""sf"" --term=""restaurants"" --category='Indian'
</code></pre>

<p>I get the following error: </p>

<pre><code>{
  ""error"": {
    ""field"": ""category_filter"", 
    ""id"": ""INVALID_PARAMETER"", 
    ""text"": ""One or more parameters are invalid in request""
  }
}
</code></pre>

<p>Could you show me the correct query for category to make this work? Please note that when I remove the --category keyword, the query works. </p>
","2014-06-08 17:53:31","24109133","0","<python><yelp>","1","2"
"How to get coordinates for a bounding box","<p>I am trying to use the Yelp API's bounding box method: <a href=""http://www.yelp.com/developers/documentation/v2/search_api#searchGBB"" rel=""nofollow"">http://www.yelp.com/developers/documentation/v2/search_api#searchGBB</a></p>

<p>I want the bounding box to be the entire US. and I used the following coordinates for it: </p>

<pre><code>request.addQuerystringParameter(""bounds"", ""38.266224,-122.541803""+""|""+""44.018501,-72.092587"");
</code></pre>

<p>However, the API isn't finding business across the US. Am I doing something wrong? Should I be choosing other coordinates? </p>
","2014-06-08 19:31:02","","0","<java><geolocation><latitude-longitude><yelp>","1","1"
"Need advice related to yelp dataset","<p>We preprocessed the data of the yelp dataset and added category,subcategory for each restaurant. Our data now contains the rows <code>Business_id</code>, <code>name</code>, <code>review_count</code>, <code>stars received</code>, <code>nearby_school</code>, <code>category</code>, <code>subcategory</code>, <code>is_vegetarian</code>, <code>latitude</code>, <code>longitude</code>.</p>

<p>The columns descriptions are at this link:  <a href=""https://www.yelp.com/academic_dataset"" rel=""nofollow"">https://www.yelp.com/academic_dataset</a></p>

<p>Example row:</p>

<pre><code>__EmsZiRXiUmljbfpOqZig,Awful Arthur's Seafood Co,11,2.5,Virginia Tech,Restaurant,Seafood,no,37.2283389,-80.4142281
</code></pre>

<p>We want to understand which type of cuisine (eg. Seafood, Chinese, American, Indian) is more popular near a school. We are new to data analysis. Can someone help give any suggestions how to go about this?</p>
","2013-11-25 18:12:10","20200359","-1","<dataset><analysis><yelp>","1","1"
"Problems with Merging: 'by' must specify a uniquely valid column","<p>I am having a problem mergin my datasets together. I get the above error message after I run the last line of code. However, both data sets have the same column name. </p>

<p>The head of avgRev2 is:</p>

<pre><code>  avgRev         restaurantType
 1       33                 Afghan
 2       22                African
 3 56.84211         American (New)
 4 28.69203 American (Traditional)
 5        7              Argentine
 6 51.40909   Arts &amp; Entertainment
</code></pre>

<p>The last two rows in expandedDataframe are:</p>

<pre><code>isRestaurant restaurantType
X5          TRUE         Bagels
X10         TRUE     Sandwiches
X12         TRUE        Mexican
X14         TRUE          Pizza
X18         TRUE        Burgers
X23         TRUE        Buffets
</code></pre>

<p>I wrote the below code but it won't let me merge the data.
I get the error : </p>

<blockquote>
  <p>Error in fix.by(by.x, x) : 'by' must specify a uniquely valid column</p>
</blockquote>

<pre><code>avgRev &lt;- tapply(expandedDataFrame$review_count,expandedDataFrame$restaurantType,mean,simplify=FALSE)

avgRev2 &lt;- as.data.frame(avgRev,)
avgRev2$category&lt;-row.names(avgRev2)
row.names(avgRev2)=NULL

avgRev2 &lt;- rename(avgRev2, c(category=""restaurantType""))

expandedDataFrame2&lt;- merge(expandedDataFrame, avgRev2, by=""restuarantType"")
</code></pre>
","2013-11-25 22:22:15","","3","<r><dataset><yelp>","0","3"
"User Review - Topic modeling or Intent detection in R","<p>I am doing social media analysis in R - something like, reviewing user feedback on a particular business and trying to distinguish a user review to a category/topic(s). 
For example: Find if the user review talks about Neighborhood or Crime etc.. 
How do I find the intent of a given text? To train a model, I don’t have any pre-determined topics with titles. I am performing a un-known topic analysis.
Topic modeling (LDA) can give us several topics (or high frequent terms for each topic) but to identify the topics that were mentioned in the review is hard. I mean, there can be several words/vocabulary that relates to a topic but how do I understand a user review is exactly talking about a topic called ""Neighborhood"". Any thoughts? Thanks!</p>
","2017-07-28 19:59:37","","2","<r><nlp><stanford-nlp><topic-modeling><yelp>","0","0"
"Key Error Yelp v3 API","<p>I'm trying to create a df with all results for a set of search parameters.
My code works well with small sizes in loop and samples, but returns a key eror when accessing the entire length (not a call limit issue).
The same code can extract the dict from the response, but within the loop i'm getting error.</p>

<p>In:</p>

<pre><code>import requests
import pandas as pd
import pprint

app_id = ''
app_secret = ''

term='Automotive'

data = {'grant_type': 'client_credentials',
        'client_id': app_id,
        'client_secret': app_secret}
token = requests.post('https://api.yelp.com/oauth2/token', data=data)
access_token = token.json()['access_token']
url = 'https://api.yelp.com/v3/businesses/search'
headers = {'Authorization': 'bearer %s' % access_token}
params = {'location': 'New York, NY',
          'term': term
         }

resp = requests.get(url=url, params=params, headers=headers)
response1=resp.json()
response2=response1['businesses']
totalcount=response1['total']
pprint.pprint(totalcount)
counter=totalcount
offset=20
limit=50
dfa = pd.io.json.json_normalize(response1)
df = pd.io.json.json_normalize(response2)

if counter&gt;10000:
 stoplimit=10000
else:
 stoplimit=totalcount

while counter&gt;0:
 params = {'location': 'New York, NY',
          'term': term,
          'limit':limit,
          'offset':offset
         }
 resp = requests.get(url=url, params=params, headers=headers)
 response1=resp.json()
 response2=response1['businesses']
 df1 = pd.io.json.json_normalize(response2)
 df=df.append(df1,ignore_index=True)
 offset=offset+50
 counter=counter-50
 limit=min(50,counter)
 if offset&gt;=stoplimit:
  break
</code></pre>

<p>Out:</p>

<pre><code>8799
Traceback (most recent call last):
  File ""C:\Users\Ashutosh\Desktop\Yelp\test2\Automotive1.py"", line 52, in `&lt;module&gt;`
    response2=response1['businesses']
KeyError: 'businesses'
</code></pre>
","2017-08-12 10:03:53","","0","<python><yelp><keyerror>","0","1"
"Extract Yelp's rating","<p>I have this locations.json file where I store the titles, locations (lat, long), and phone numbers. The issue I'm facing right now might seem trivial to others but as a beginner I couldn't get it to work the way I like. I want to extract the ratings only from Yelp's api v3 and add it to the locations.rating array. The code I have below appends the whole response object return from Yelp, but when I tried to console.log (response.businesses[0].rating) it was able to print out only the rating. How do I make it return only the rating?  Thanks in advance.</p>

<pre><code>var yelpPhoneSearch = ""https://api.yelp.com/v3/businesses/search/phone?phone="";
var cors_anywhere_url = 'https://cors-anywhere.herokuapp.com/';  // Yelp v3 api doesn't support CORS, need to use this 3rd party proxy service
var locations = [];
$.getJSON('/locations.json', function(data){
  for (var i = 0; i &lt; data.length; i++) {
    var schools = {};
    schools.title = data[i].title;
    schools.location = data[i].location;
    schools.phone = data[i].phone;
    schools.rating = $.ajax({
      ""async"": true,
      ""crossDomain"": true,
      ""url"": cors_anywhere_url + yelpPhoneSearch + data[i].phone,
      ""method"": ""GET"",
      ""headers"": {
        ""authorization"": ""Bearer "" + yelpToken.access_token,
        ""cache-control"": ""public, max-age=31536000"",
      }
    }).done(function(response){
      // console.log(response);
      var rating = response.businesses[0].rating;
      return rating;
    });
    // Push all infos to locations array
    locations.push(schools);
  }
});
</code></pre>
","2017-08-15 00:10:50","45685107","-1","<javascript><ajax><api><yelp>","1","5"
"Integrating Yelp API v2 into iOS","<p>I am trying to use Yelp API, and I have received ConsumerKey, ConsumerSecret, Token, and TokenSecret from the developer site.</p>

<p>I tried to follow the sample code from GitHub, and I came up with two questions.</p>

<p><strong>Question 1</strong></p>

<p>Is it mandatory to use CocoaPod for OAuth? If not, can I create my own HTTP request?</p>

<p><strong>Question 2</strong></p>

<p>If I can create my own HTTP request, how is the URL structure for Yelp Authentication?</p>

<p>Ex. <a href=""https://host_address/"" rel=""nofollow"">https://host_address/</a>...</p>

<p>I am new to OAuth, so it will be very appreciated if you can help.</p>

<p>Thank you.</p>
","2016-04-05 03:50:33","","1","<ios><yelp>","0","0"
"Yelp reviews dont display","<p>I am looking at <a href=""https://stackoverflow.com/questions/1974929/trying-to-use-jquery-to-display-json-text-data"">Trying to use jQuery to display JSON text data</a> as an example, but I cannot get any information to display.
When I put the url (<a href=""http://api.yelp.com/business_review_search?name=pantibar&amp;term=gay&amp;location=Dublin&amp;limit=1&amp;ywsid=XXXXXXXXXXXXXXXXXX"" rel=""nofollow noreferrer"">http://api.yelp.com/business_review_search?name=pantibar&amp;term=gay&amp;location=Dublin&amp;limit=1&amp;ywsid=XXXXXXXXXXXXXXXXXX</a>) in chrome postman, it does return the information, but I cannot get it to display on my web page.
Any ideas?</p>

<pre><code>&lt;html&gt;
&lt;head&gt;

&lt;script src=""http://code.jquery.com/jquery-latest.js""&gt;&lt;/script&gt;

&lt;script&gt;
function showData(data) {
    $.each(data.businesses, function(i,business){
        // extra loop
        $.each(business.reviews, function(i,review){ 
            var content = '&lt;p&gt;' + review.text_excerpt + '&lt;/p&gt;';
            content += '&lt;p&gt;' +review.date + '&lt;/p&gt;';
            $(content).appendTo('#review');
        });
    });      
}


$(document).ready(function(){

    writeScriptTag( ""http://api.yelp.com/business_review_search?name=pantibar&amp;term=gay&amp;location=Dublin&amp;limit=1&amp;ywsid=XXXXXXXXXXXXXXXXXX""); 
});

function writeScriptTag(path) {
    var fileref = document.createElement('script');
    fileref.setAttribute(""type"",""text/javascript"");
    fileref.setAttribute(""src"", path);

    document.body.appendChild(fileref);
}
&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;



&lt;/body&gt;
</code></pre>
","2014-03-05 10:13:54","22196676","0","<javascript><json><yelp>","1","4"
"Backbone overwrite collection.sync for Oauth","<p>I'm trying to use backbone for a local project that's never going to see a real web server, and which interacts with the Yelp API via AJAX. The Yelp API requires we use oauth to authenticate, and gives <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/js/search.html"" rel=""nofollow"">sample code</a> that I've modeled my own code after. When I use the sample code, I don't run into any problems with Cross-Origin or anything. However, when I turn off my browser security options I just get a 400 response for errors.</p>

<p>I had tried overwriting the fetch method as follows:</p>

<pre><code>fetch: function(options) {
  var accessor, message, parameterMap, parameters;
  if (!options) {
    options = {};
  }
  accessor = {
    consumerSecret: LOAF.auth.conserumerSecret,
    tokenSecret: LOAF.auth.accessTokenSecret
  };
  parameters = [];
  parameters.push(['oauth_consumer_key', LOAF.auth.consumerKey]);
  parameters.push(['oauth_consumer_secret', LOAF.auth.consumerSecret]);
  parameters.push(['oauth_token', LOAF.auth.accessToken]);
  parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
  parameters.push(['location', ""New York City""]);
  message = {
    'action': this.url,
    'method': 'GET',
    'parameters': parameters
  };
  OAuth.setTimestampAndNonce(message);
  OAuth.SignatureMethod.sign(message, accessor);
  parameterMap = OAuth.getParameterMap(message.parameters);
  parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature);
  options.url = this.url;
  options.data = parameterMap;
  options.cache = true;
  options.dataType = 'json';
  options.success = this.onResponse;
  console.log(""Attempting"");
  console.log(options);
  return Backbone.Model.prototype.fetch.apply(this, options);
},
</code></pre>

<p>but this generates the 400 response. I have a feeling its because I'm not making the AJAX call properly because backbone does most of it for me and is likely overwriting some of the options I'm setting. I think what I need to do is overwrite this collection's ""sync"" method instead to just handle the OAuth and parse the response myself. Is there a better way to do this?</p>
","2012-12-02 21:42:28","13680178","2","<jquery><backbone.js><oauth><yelp>","1","0"
"Retreving URL String to generate JSON Object in JavaScript?","<p>I want to access the Yelp API 1.0, I have got for example this URL</p>

<blockquote>
  <p><a href=""http://api.yelp.com/business_review_search?term=burger&amp;location=Los%20Angeles%2A%20CA&amp;ywsid=SECRETKEY"" rel=""nofollow"">http://api.yelp.com/business_review_search?term=burger&amp;location=Los%20Angeles%2A%20CA&amp;ywsid=SECRETKEY</a></p>
</blockquote>

<p>which will give me some Burger Locations in LA in a JSON String.</p>

<p>How can I access this URL in order turn the response into a JS Object?</p>

<p>I know how to create JS Objects, the problem is getting the response from the server.</p>

<p>Here's my code right now: Maybe we can try to start from there:</p>

<pre><code>var url = ""http://api.yelp.com/business_review_search?term=burger&amp;location=Los%20Angeles%2A%20CA&amp;ywsid=secretKey"" ;


            $.getJSON(url, function(json) {
                alert(""JSON Data: "" + json.message.text);
            });
</code></pre>
","2011-11-21 19:39:54","","0","<javascript><jquery><get><yelp>","3","1"
"How we can make the own application of Facebook and yelp in android","<p>Can any body tell me How we can make the own application of Facebook and Yelp using the API of these application on Android?</p>

<p>Please give me some link and tips for develop it.</p>

<p>Thanx in Advance...</p>
","2011-11-22 12:49:07","8227368","1","<android><facebook><api><yelp>","2","0"
"Can't get Yelp API to display Business ID in Rails","<p>I'm trying to use the Yelp API to display a business' id</p>

<p>I installed the Yelp Gem as well as added my code to the initializer under Yelp.rb</p>

<pre><code>client = Yelp::Client.new({ consumer_key: 'n8jpEPZJkbXwqAw',
                            consumer_secret: 'ABuZv6OW0iVTqPD5irr4',
                            token: 'AjYSuqleh0Ihb',
                            token_secret: 'wWaBdFu_dFXqbFc'
                          })
</code></pre>

<p>After that I went to a controller and added this</p>

<pre><code> def reviews
    Yelp.client.search(‘San Francisco’)

  end
</code></pre>

<p>I then tried to call the @reviews in the views and nothing is displaying</p>

<pre><code>&lt;%= @reviews.id %&gt;
</code></pre>

<p>Any advice would be great thanks!</p>
","2015-09-06 23:11:33","32430467","0","<ruby-on-rails><ruby><yelp>","1","0"
"Response with bad encoding","<p>I have request to yelp, where i get a venue by id. All working successfull, but i find one issue with id, which return yelp.</p>

<pre><code>""yelp_id"" = ""caf\U00e9-de-paris-london-6"";
</code></pre>

<p>Bad encoding, and venue doesn't show. Should be this - <code>""yelp_id"" = ""cafe-de-paris-london-6"";</code></p>

<p>How to fix this issue? Help please.</p>

<p>P.S. data in json 
for example: <code>{
            address = ""3-4 Coventry Street"";
            id = 2;
            ""is_subscribed"" = 0;
            latitude = ""51.51052449"";
            longitude = ""-0.131816821801"";
            owner =             {
                ""fb_id"" = 513707602107780;
            };
            ""start_at"" = ""2014-07-31T15:40:40.333Z"";
            title = new;
            ""yelp_id"" = ""caf\U00e9-de-paris-london-6"";
        }
    );
</code></p>
","2014-08-01 08:15:03","25076529","0","<ios><objective-c><encoding><yelp>","1","0"
"How to Authenticate the Yelp API with Java","<h2>Overview</h2>

<ul>
<li><strong>Client ID:</strong> cRL42oGaCxq0BQ_mFTXbyg</li>
<li><strong>Issue type:</strong> Authenticating API</li>
<li><strong>Summary:</strong> Trying to utilize the API in Java in Android Studio</li>
<li><strong>Platform:</strong> Android</li>
</ul>

<h2>Description</h2>

<p>I apologize. I am new at this and I have seen posts similar to this, but I haven't yet been able to get this to work. I can't seem to be able to authenticate my API. Could anybody help me? I have tried a lot of what has been suggested online as well as what the website asked to do. Maybe I am missing something 
<a href=""https://www.yelp.com/developers/documentation/v3/authentication"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/authentication</a> </p>

<p>Here were my steps on using Postman to try to authorize the API:</p>

<p>1) On the URL bar dropdown, I changed from ""GET"" to ""POST
2) In the URL bar, I wrote ""<a href=""https://api.yelp.com/oauth2/token"" rel=""nofollow noreferrer"">https://api.yelp.com/oauth2/token</a>""
3) Under the ""Authorization"" tab, as Type, I set it as ""No Auth""
4) Under the ""Body"" tab, I chose the radio button: ""x-www-form-urlencoded""
5) Then I set the following keys:</p>

<pre><code>Key                             Value 
=============================================================
client_id                     cRL42oGaCxq0BQ_mFTXbyg
client_secret              5TN2CQ55SP6V7OijXtwnFYkt0...
grant_type                 client_credentials
</code></pre>

<p>6) Then ​I pressed ""SEND"" which returned</p>

<pre><code>{
    ""access_token"": ""YAL0kM_2qURGYX25nFn1B6re_zc6yQ..."",
    ""expires_in"": 635592747,
    ""token_type"": ""Bearer""
}
</code></pre>

<p>7) With that, I went back to the ""Headers"" tab, and wrote in</p>

<pre><code>Key                             Value
===========================================================
Authorization              Bearer YAL0kM_2qURGYX25nFn1B6re_zc6yQTVQ​...​
Content-Type               application/x-www-form-urlencoded​​​     &lt;---- This section was already here
</code></pre>

<p>​8. Then I pressed ""SEND"" again​</p>

<p>I am not sure if I am supposed to be doing some other form of OAuth inside my code or not, nor how would I do that</p>

<h3>Endpoint</h3>

<p><a href=""https://api.yelp.com/oauth2/token"" rel=""nofollow noreferrer"">https://api.yelp.com/oauth2/token</a></p>

<h3>Parameters or Sample Request</h3>

<pre><code>package com.nicolasshu.yelptest;

import com.yelp.clientlib.connection.YelpAPI;
import com.yelp.clientlib.connection.YelpAPIFactory;
import com.yelp.clientlib.entities.Business;
import com.yelp.clientlib.entities.SearchResponse;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;

import retrofit2.Call;
import retrofit2.Response;

/**
 * Created by nickshu on 11/28/17.
 */

public class TestYelp {


    public static void main(String[] args) throws IOException {
        String client_id = ""cRL42oGaCxq0BQ_mFTXbyg"";
        String client_secret = ""5TN2CQ55SP6V7OijXtwnFYkt0bF88BbVx67txzxr..."";
        String endpoint = ""https://api.yelp.com/oauth2/token"";
        String access_token = ""YAL0kM_2qURGYX25nFn1B6re_zc6yQTVQUnV..."";
        String token_type = ""Bearer"";
        // Expiration: January 18, 2038

        YelpAPIFactory apiFactory = new YelpAPIFactory(client_id,client_secret,token_type,access_token);
            System.out.println(apiFactory);
        YelpAPI yelpAPI = apiFactory.createAPI();

        Map&lt;String,String&gt; params = new HashMap&lt;&gt;();

        // Inputting general parameters
        params.put(""term"",""food"");
        params.put(""limit"",""3"");
        // locale params
        params.put(""lang"", ""fr"");


        Call&lt;Business&gt; call = yelpAPI.getBusiness(""yelp-san-francisco"");
        Response&lt;Business&gt; response = call.execute();
        // ##########################################
        // Here is where the Exception occurs
    }
}
</code></pre>

<h2>More information - Error Message</h2>

<pre><code>Exception in thread ""main"" com.yelp.clientlib.exception.exceptions.InvalidOAuthCredentials: Forbidden
    at com.yelp.clientlib.exception.ErrorHandlingInterceptor.parseError(ErrorHandlingInterceptor.java:79)
    at com.yelp.clientlib.exception.ErrorHandlingInterceptor.intercept(ErrorHandlingInterceptor.java:45)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at se.akerfeldt.okhttp.signpost.SigningInterceptor.intercept(SigningInterceptor.java:46)
    at okhttp3.RealCall$ApplicationInterceptorChain.proceed(RealCall.java:187)
    at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:160)
    at okhttp3.RealCall.execute(RealCall.java:57)
    at retrofit2.OkHttpCall.execute(OkHttpCall.java:174)
    at com.nicolasshu.yelptest.TestYelp.main(TestYelp.java:44)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)
</code></pre>
","2017-11-28 23:39:15","","0","<java><android><api><oauth-2.0><yelp>","0","0"
"Object Reference Not Set To An Instance Of An Object: Yelp Return Values","<p>I'm making a call to Yelp, to get reviews for some addresses in an apartment finder I've written, but it looks like some of the Yelp data isn't complete, so the following code results in Ye Olde ORNSTAIOAN error:</p>

<pre><code>    public IEnumerable&lt;Review&gt; GetReviews(Bounds searchBounds) {
        var yelp = new Y.Yelp(ConfigOptions);
        var searchOptions = GetSearchOptions(searchBounds);
        var searchTask = yelp.Search(searchOptions);
        var tasks = new Task&lt;Y.Data.SearchResults&gt;[GetTaskArraySize(searchTask)];

        tasks[0] = searchTask;

        for (var i = 1; i &lt; tasks.Length; i++) {
            searchOptions.GeneralOptions.offset = i * YelpResultsLimit;
            tasks[i] = yelp.Search(searchOptions);
        }

        Task.WaitAll(tasks);

        return tasks.SelectMany(t =&gt; t.Result.businesses != null
            ? t.Result.businesses
            : null)
                    .Select(MapYelpBusinessToReview);
    }
</code></pre>

<p>The error hits in the return line, on ""businesses"", even if I try a null catch, as I am above. The error outputs as:</p>

<pre><code>&lt;Error&gt;
    &lt;script id=""tinyhippos-injected""/&gt;
    &lt;Message&gt;
        An error has occurred.
    &lt;/Message&gt;
    &lt;ExceptionMessage&gt;
        Object reference not set to an instance of an object.
    &lt;/ExceptionMessage&gt;
    &lt;ExceptionType&gt;
        System.NullReferenceException
    &lt;/ExceptionType&gt;
    &lt;StackTrace&gt;
        at System.Linq.Enumerable.&lt;SelectManyIterator&gt;d__14`2.MoveNext() at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext() at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection) at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source) at ApartmentFinder.Infrastructure.Services.SearchEngine.&lt;&gt;c__DisplayClassc.&lt;FindProperties&gt;b__1() in c:\Development\myProject\ApartmentFinder.Infrastructure\Services\SearchEngine.cs:line 25 at System.Threading.Tasks.Task`1.InnerInvoke() at System.Threading.Tasks.Task.Execute()
    &lt;/StackTrace&gt;
&lt;/Error&gt;
</code></pre>

<p>How can I trap the missing business information, and proceed with/without it?</p>

<p>Update:</p>

<p><img src=""https://i.stack.imgur.com/JU48L.png"" alt=""YelpSharp.Data.Business""></p>

<pre><code>namespace ApartmentFinder.Infrastructure.Models {
    /// &lt;summary&gt;
    /// Provides the set of properties describing a review for a property.
    /// &lt;/summary&gt;
    public class Review {
        public string Id{ get; set; }
        public string Name{ get; set; }
        public string Address{ get; set; }
        public string City{ get; set; }
        public string State{ get; set; }
        public string ZipCode{ get; set; }
        public string PhoneNumber{ get; set; }
        public string RatingImageUrl{ get; set; }
        public int NumberOfReviews{ get; set; }
        public string Snippet{ get; set; }
        public string Url{ get; set; }
        public double Latitude{ get; set; }
        public double Longitude{ get; set; }
    }
}
</code></pre>

<p>Adding in the method for Review MapYelpBusinessToReview:</p>

<pre><code>    /// &lt;summary&gt;
    /// Maps a &lt;see cref=""Y.Data.Business""/&gt; instance to a new &lt;see cref=""Review""/&gt;.
    /// &lt;/summary&gt;
    /// &lt;param name=""business""&gt;Business object to map.&lt;/param&gt;
    /// &lt;returns&gt;A new &lt;see cref=""Review""/&gt; instance.&lt;/returns&gt;
    static Review MapYelpBusinessToReview(Y.Data.Business business) {
        return new Review {
            Id = business.id,
            Name = business.name,
            Address = business.location.address[0],
            City = business.location.city,
            State = business.location.state_code,
            ZipCode = business.location.postal_code,
            PhoneNumber = business.phone,
            RatingImageUrl = business.rating_img_url,
            Snippet = business.snippet_text,
            Url = business.url,
            NumberOfReviews = business.review_count,

        };
    }
</code></pre>
","2014-03-03 17:02:05","22152839","2","<c#><asp.net-mvc><yelp>","1","0"
"Coordinate based request does not work","<p>What i want to do is determining the location of user and then based on his location doing a request to Yelp API.</p>

<pre><code>function getLocation()
  {
  if (navigator.geolocation)
    {
    var y = navigator.geolocation.getCurrentPosition(showPosition);
    return y;
    }
  else{x.innerHTML=""Geolocation is not supported by this browser."";}
  }
function showPosition(position)
  {
 var y = position.coords.latitude + 
  "","" + position.coords.longitude;
  return y;
  }


function doRequest(){

var terms = 'turkish';
var near = 'San+Francisco';
var ll = getLocation();
... }
</code></pre>

<p>I have tested the variable y, it gives true latitude and longitude and if i write self a coordinate in ll, request code does work.</p>

<p>The problem is, in this situation, my ll parameter seems ""undefined"" in the request and i cant receive any response from API . I don't understand what the problem is. Any idea? </p>
","2013-12-11 16:16:14","20524522","0","<javascript><yelp>","1","6"
"plotting Yelp JSON data along given route on GoogleMaps","<p>I can plot yelp data on any given map without a problem, but am having a difficult time plotting them along a given route so that I only see (for example) food spots on the way from LA to SF. </p>

<p>I've got this code so far that routes two cities if anyone might be able to help. I know it's a lot but I figured I'd just include everything in case someone was bored.</p>

<pre><code>&lt;script type='text/javascript'&gt;//&lt;![CDATA[ 

function dayTripper($scope, $http, $route) {

    //var directionsDisplay = new google.maps.DirectionsRenderer({ draggable: true });
    //var directionsService = new google.maps.DirectionsService();
    //var map;

    $scope.directionsDisplay = new google.maps.DirectionsRenderer({ draggable: true });
    $scope.directionsService = new google.maps.DirectionsService();
    $scope.placeDetails = new Array();
    $scope.numPointsAlongRoute = 10;
    $scope.numPlacesPerPoint = 2;
    $scope.apiDelay = 1000;
    $scope.placesSearch = ""food"";

    //$scope.map;
    //$scope.routeFrom = ""Los Angeles, CA"";
    //$scope.routeTo == ""Madison, WI"";

    $scope.init = function() {

        var myOptions = {
            zoom: 10,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            center: new google.maps.LatLng(35.270, -80.837)
        };

        $scope.map = new google.maps.Map(document.getElementById(""map_canvas""), myOptions);
        $scope.placesService = new google.maps.places.PlacesService($scope.map);
        $scope.directionsDisplay.setMap($scope.map);
        $scope.directionsDisplay.setPanel(document.getElementById(""directions""));
    }

    $scope.calcRoute = function() {

        var request = {
            origin: $scope.routeTo,
            destination: $scope.routeFrom,
            travelMode: google.maps.TravelMode[""DRIVING""]
        };

        $scope.directionsService.route(request, function(response, status) {
            if (status == google.maps.DirectionsStatus.OK) {
                $scope.directionsDisplay.setDirections(response);
                console.log(""Route Response:"");
                console.log(response);

                var allPoints = response.routes[0].overview_path;
                var selectedPoints = $scope.cherryPickPoints(allPoints, $scope.numPointsAlongRoute);

                for (var i = 0; i &lt; selectedPoints.length; i++) {
                    $scope.findPlaces(selectedPoints[i].B, selectedPoints[i].k);
                }
            }
        });


    }

    $scope.findPlaces = function(lat, lng) {
        var coord = new google.maps.LatLng(lng, lat);

        var request = {
          location: coord,
          radius: '500000',
          keyword: $scope.placesSearch
        };

        setTimeout( function() {
            $scope.placesService.radarSearch(request, function(allPlaces, status) {
                if (status == google.maps.places.PlacesServiceStatus.OK) {
                    console.log(""Radar Response:"");
                    console.log(allPlaces);
                    var selectedPlaces = $scope.cherryPickPlaces(allPlaces, $scope.numPlacesPerPoint);

                    for (var i = 0; i &lt; selectedPlaces.length; i++) {
                        $scope.getPlaceDetails(selectedPlaces[i].place_id);
                    }
                }
                else {
                    console.log(""ERROR"");
                    console.log(status);
                }
            });
        }, $scope.apiDelay );
    }



    $scope.getPlaceDetails = function(place_id) {  

        var request = {
            placeId: place_id
        };

        //service = new google.maps.places.PlacesService(map);
        // Setting delay to prevent OVER_QUERY_LIMIT error
        setTimeout( function() {
              $scope.placesService.getDetails(request, function(place, status) {
                  if (status == google.maps.places.PlacesServiceStatus.OK) {
                        //createMarker(place);

                        $scope.placeDetails.push(place);
                        $scope.$apply(); // necessary to update list
                  }
                  else {
                      console.log(""Place Details ERROR:"");
                      console.log(status);
                  }
              });
          }, $scope.apiDelay );
    }

    $scope.clearDirections = function() {
        //$scope.directionsDisplay.setDirections({ routes: [] });
        $route.reload();
    }

    $scope.cherryPickPlaces = function(places, limit) {
        var selectedPlaces = $scope.splitArray(places, limit);
        console.log(""Selected Places:"");
        console.log(selectedPlaces);

        var rtn = new Array();
        for (var i = 0; i &lt; selectedPlaces.length; i++) {
            rtn.push(selectedPlaces[i][0]);
        }
        return rtn;
    }

    $scope.cherryPickPoints = function(points, limit) {
        var selectedPoints = $scope.splitArray(points, limit);
        console.log(""Selected Points:"");
        console.log(selectedPoints);

        var rtn = new Array();
        for (var i = 0; i &lt; selectedPoints.length; i++) {
            rtn.push(selectedPoints[i][0]);
        }
        return rtn;
    }

    $scope.splitArray = function(arr, chunkSize) {
        var len = arr.length,out = [], i = 0;

        while (i &lt; len) {
            var size = Math.ceil((len - i) / chunkSize--);
            out.push(arr.slice(i, i += size));
        }

        return out;
    }

    $scope.init();
}



//]]&gt;&lt;/script&gt;

&lt;div ng-app ng-controller=""dayTripper""&gt;

    &lt;!--
    &lt;input type=""text"" id=""routeFrom"" name=""routeFrom"" ng-model=""routeFrom"" placeholder=""Los Angeles, CA"" /&gt;
    &lt;label for=""routeFrom""&gt;From&lt;/label&gt;&lt;br /&gt;

    &lt;input type=""text"" id=""routeTo"" name=""routeTo"" ng-model=""routeTo"" placeholder=""Madison, WI"" /&gt;
    &lt;label for=""routeTo""&gt;To&lt;/label&gt;&lt;br /&gt;
--&gt;

    &lt;!--INPUT---FORM--&gt;
    &lt;div class=""col-sm-4 col-sm-offset-0""&gt;
      &lt;%= form_for @trip do |f| %&gt;


        &lt;%= f.text_field :origin, placeholder: ""origin"", value: ""{{routeFrom}}"", :'ng-model' =&gt; 'routeFrom' , class: 'form-control' %&gt;&lt;br/&gt;
        &lt;%= f.text_field :destination, placeholder: ""destination"", value: ""{{routeTo}}"", :'ng-model' =&gt; 'routeTo', class: 'form-control' %&gt;&lt;br/&gt;


        &lt;%= f.submit ""Save Trip"", class: 'btn btn-primary' %&gt;

      &lt;% end %&gt;
    &lt;/div&gt;  


    &lt;div class=""textcenter""&gt;
        &lt;button id=""routeGo"" ng-click=""calcRoute()""&gt;Route&lt;/button&gt;
        &lt;button id=""routeClear"" ng-click=""clearDirections()""&gt;Clear Route&lt;/button&gt;
    &lt;/div&gt;

    &lt;div id=""map_canvas""&gt;&lt;/div&gt;
    &lt;div id=""directions""&gt;&lt;/div&gt;

    &lt;div&gt;
      &lt;h2&gt;Way Points&lt;/h2&gt;
      &lt;ul&gt;
        &lt;li ng-repeat=""detail in placeDetails""&gt;
          &lt;h4&gt;{{detail.name}}&lt;/h4&gt;
          {{detail.formatted_address}}
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;


&lt;/div&gt;
</code></pre>

<p>Here is a function (minus the API key) that would allow me to extract certain JSON from yelp. It's not in my scope yet but the idea is to kind of combine this function with this map to see places along the route.</p>

<pre><code>     //function to get data from YELP
      yoh.getYelp = function(term)
     {
        bounds = new google.maps.LatLngBounds ();
        $.getJSON('http://api.yelp.com/business_review_search?lat='+map.getCenter().lat()+'&amp;long='+map.getCenter().lng()+'&amp;limit=20&amp;ywsid=""API KEY""&amp;term='+term+'&amp;callback=?',
            function(data)
            {
                $.each(data.businesses, function(i,item){
                    trace(item);
                    infowindowcontent = '&lt;strong&gt;'+item.name+'&lt;/strong&gt;&lt;br&gt;';
                    infowindowcontent += '&lt;img src=""'+item.photo_url+'""&gt;&lt;br&gt;';
         infowindowcontent += '&lt;a href=""'+item.url+'"" target=""_blank""&gt;see it on yelp&lt;/a&gt;';

         yoh.createYelpMarker(i,item.latitude,item.longitude,item.name, infowindowcontent);
                });                         
            }
        );
    }
</code></pre>
","2014-08-27 20:27:42","","0","<javascript><json><api><google-maps><yelp>","0","5"
"Yelp API invalid Signature","<p>I am sending request to yelp api to search place providing latitude and longitude but it giving me following error</p>

<pre><code>    error =     {
    description = ""Invalid signature. Expected signature base string: GET&amp;http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch&amp;ll%3D37.77493%252C-122.419415%26oauth_consumer_key%XXXXXXXXXXXX%26oauth_nonce%3D1D3331BF-4570-45E5-8DD0-5B85842E42E7%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1409214229%26oauth_token%XXXXXXXXXXXX%26oauth_version%3D1.0%26radius_filter%3D300%26term%3Dcafe"";
    id = ""INVALID_SIGNATURE"";
    text = ""Signature was invalid"";
                 };

http://api.yelp.com/v2/search?term=%@&amp;ll=37.77493,-122.419415&amp;radius_filter=300
</code></pre>

<p>This is my sample request, am i doing it wrong.</p>
","2014-08-28 08:29:00","25811592","1","<ios><yelp>","1","0"
"Scraping Yelp Reviews With wget","<p>I am trying to pull the full html of yelp reviews. I know I can use the API to pull reviews, but I'm collecting a corpus of raw html. I tried the code below, but it gets way more than the reviews. How can I restrict it to jus pages of reviews? It currently scrapes from domains like communityblog.yelp.com, seatme.yelp.com, etc.</p>

<pre><code>wget -rH -Dyelp.com http://www.yelp.com/nyc -l 5 -w 2
</code></pre>
","2015-03-01 19:05:46","","0","<web-crawler><wget><yelp>","0","4"
"Subsequent JSONP requests give status 404 despite GET status 200","<p>So I am able to make the first JSONP request to the yelp API work to return business data for me, but any subsequent requests I make lead to the callback for failure that logs a status code of 404. Yet when I pull up the network tab in Chrome Dev Tools I see that all the subsequent GET requests I made all have status 200 and I do see valid response data. How can that be when the callback for failure was called? How can I fix this? I'd like to be able to receive data more than once.</p>

<p>The following code in question is based off the answer to this other question <a href=""https://stackoverflow.com/questions/23716264/yelp-api-and-angularjs"">Yelp API and AngularJS</a>, the difference being the statements directly below the comments</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;script src=""https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js""&gt;&lt;/script&gt;
    &lt;script src=""oauth-signature.js""&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body ng-app=""plunker""&gt;
    &lt;div  ng-controller=""MainCtrl""&gt;
        &lt;p&gt;&lt;date-input name=""info.name"" message=""info.message""&gt;&lt;/date-input&gt;&lt;/p&gt;
        &lt;ul&gt;
            &lt;li data-ng-repeat=""business in businesses""&gt;
                {{business.name}}
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;
    &lt;script&gt;
        function randomString(length, chars) {
            var result = '';
            for (var i = length; i &gt; 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
            return result;
        }

        var app = angular.module('plunker', []);
        app.controller('MainCtrl', ['$scope', 'MyYelpAPI', function($scope, MyYelpAPI) {
            $scope.businesses = [];

            // first time for the callback gets executed
            MyYelpAPI.retrieveYelp('', function(data) {
                console.log('callback1');
                console.log('data');
                $scope.businesses = data.businesses;
            });

            // the second time for the callback doesn't get executed
            MyYelpAPI.retrieveYelp('', function(data) {
                console.log('callback2');
                $scope.businesses = data.businesses;
            });

        }]).factory(""MyYelpAPI"", function($http) {
            return {
                ""retrieveYelp"": function(name, callback) {
                    var method = 'GET';
                    var url = 'http://api.yelp.com/v2/search';
                    var params = {
                            callback: 'angular.callbacks._0',
                            location: 'San+Francisco',
                            oauth_consumer_key: '', 
                            oauth_token: '', 
                            oauth_signature_method: ""HMAC-SHA1"",
                            oauth_timestamp: new Date().getTime(),
                            oauth_nonce: randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'),
                            term: 'food'
                        };
                    var consumerSecret = '',
                    var tokenSecret = '',
                    var signature = oauthSignature.generate(method, url, params, consumerSecret, tokenSecret, { encodeSignature: false});
                    params['oauth_signature'] = signature;
                    $http.jsonp(url, {params: params})
                        .success(callback)
                        // second time fails
                        // data -&gt; undefined; status -&gt; 404
                        .error(function(data, status) {
                            console.log(data, status); // why is this happening?
                        });
                }
            }
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
","2015-09-09 10:25:36","32480362","0","<javascript><angularjs><asynchronous><jsonp><yelp>","1","3"
"Get multiple business images (image_url) from yelp api","<p>Using the Yelp Business API, is it possible to get more than one business image?</p>

<p>According to the documentation, the json returns only one image:
<a href=""http://www.yelp.com/developers/documentation/v2/business"" rel=""nofollow"">http://www.yelp.com/developers/documentation/v2/business</a></p>
","2014-08-04 13:47:11","","0","<yelp>","2","3"
"How to convert data from spinner to format API can use?","<p>I have a spinner for an Android app that's populated with restaurant types in normal English defined in my strings.xml file as such (a few examples):</p>

<pre><code>&lt;string-array name=""restaurantType""&gt;
    &lt;item&gt;American (Traditional)&lt;/item&gt;
    &lt;item&gt;Asian Fusion&lt;/item&gt;
    &lt;item&gt;Australian&lt;/item&gt;
    &lt;item&gt;Barbeque&lt;/item&gt;
    &lt;item&gt;Brazilian&lt;/item&gt;
    &lt;item&gt;Buffets&lt;/item&gt;
    &lt;item&gt;Burgers&lt;/item&gt;
    &lt;item&gt;Chinese&lt;/item&gt;
    &lt;item&gt;Fast Food&lt;/item&gt;
    &lt;item&gt;German&lt;/item&gt;
</code></pre>

<p>I take the selected item and convert it to string to send as a query to Yelp's API.  On most, all I need to do to make it work properly is convert it to lower case and it works (Example: the spinner selection says Chinese but when the query is sent it's changed to chinese).  Unfortunately it doesn't work for others like American (Traditional) that needs to be submitted as tradamerican.  I don't want my spinner option to say tradamerican so is there a way to set the string-array items to display correctly but map to the API required format?</p>
","2014-08-04 19:00:52","25126075","0","<java><android><api><yelp>","1","0"
"Yelp Fusion API - filtering by categories","<p>Currently leveraging Yelp API to pull different bars in my area.  However, it seems as though the category filter option returns any option that contains subcategory “bars”.  This is causing a lot of restaurants to be pulled in that have a secondary or tertiary category of “bar”.  Is there a way to only pull in options with a primarily category classification of “bars” to avoid this issue?</p>
","2018-05-13 21:45:51","","0","<yelp>","0","0"
"C# - Formatting Yelp API Output","<p>So I'm brand new to APIs in general. They're exciting because I can actually start making real programs. That said, I've figured out how to get results back from Yelp. The thing is, they come back formatted like this:</p>

<pre><code>{
    ""businesses"": [
        {
            ""categories"": [
                [
                    ""Local Flavor"",
                    ""localflavor""
                ],
                [
                    ""Mass Media"",
                    ""massmedia""
                ]
            ],
            ""display_phone"": ""+1-415-908-3801"",
            ""id"": ""yelp-san-francisco"",
            ""image_url"": ""http://s3-media3.fl.yelpcdn.com/bphoto/nQK-6_vZMt5n88zsAS94ew/ms.jpg"",
            ""is_claimed"": true,
            ""is_closed"": false,
            ""location"": {
                ""address"": [
                    ""140 New Montgomery St""
                ],
                ""city"": ""San Francisco"",
                ""coordinate"": {
                    ""latitude"": 37.7867703362929,
                    ""longitude"": -122.399958372115
                },
                ""country_code"": ""US"",
                ""cross_streets"": ""Natoma St &amp; Minna St"",
                ""display_address"": [
                    ""140 New Montgomery St"",
                    ""Financial District"",
                    ""San Francisco, CA 94105""
                ],
                ""geo_accuracy"": 9.5,
                ""neighborhoods"": [
                    ""Financial District"",
                    ""SoMa""
                ],
                ""postal_code"": ""94105"",
                ""state_code"": ""CA""
            },
            ""mobile_url"": ""http://m.yelp.com/biz/yelp-san-francisco"",
            ""name"": ""Yelp"",
            ""phone"": ""4159083801"",
            ""rating"": 2.5,
            ""rating_img_url"": ""http://s3-media4.fl.yelpcdn.com/assets/2/www/img/c7fb9aff59f9/ico/stars/v1/stars_2_half.png"",
            ""rating_img_url_large"": ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/d63e3add9901/ico/stars/v1/stars_large_2_half.png"",
            ""rating_img_url_small"": ""http://s3-media4.fl.yelpcdn.com/assets/2/www/img/8e8633e5f8f0/ico/stars/v1/stars_small_2_half.png"",
            ""review_count"": 7140,
            ""snippet_image_url"": ""http://s3-media4.fl.yelpcdn.com/photo/YcjPScwVxF05kj6zt10Fxw/ms.jpg"",
            ""snippet_text"": ""What would I do without Yelp?\n\nI wouldn't be HALF the foodie I've become it weren't for this business.    \n\nYelp makes it virtually effortless to discover new..."",
            ""url"": ""http://www.yelp.com/biz/yelp-san-francisco""
        }
    ],
    ""total"": 2316
}
</code></pre>

<p>I don't understand how I would separate this data out and insert proper formatting into it to display it normally on a WinForm or web page. There does not seem to be a way for me to access each piece of data. I typed ""response."" in the IDE in reference to the JObject, but for example, there is no bool type called response.is_closed... Here is the code for my simple program below. Obviously I'm wanting to convert this to a web app or WinForm but I'd even explore formatting it nicely in the command line window,because this data displayed this way is ugly. Thank you.</p>

<pre><code>using System;
using System.Collections.Generic;
using System.IO;
using System.Net;
using System.Text;
using CommandLine;
using Newtonsoft.Json.Linq;
using SimpleOAuth;

/// &lt;summary&gt;
/// Yelp API v2.0 code sample.
/// This program demonstrates the capability of the Yelp API version 2.0
/// by using the Search API to query for businesses by a search term and location,
/// and the Business API to query additional information about the top result
/// from the search query.
///
/// Please refer to http://www.yelp.com/developers/documentation for the API documentation.
///
/// Sample usage of the program:
/// `YelpAPI.exe --term=""bars"" --location=""San Francisco, CA""`
/// &lt;/summary&gt;
namespace YelpAPI
{
    /// &lt;summary&gt;
    /// Class that encapsulates the logic for querying the API.
    ///
    /// Users have to set the OAuth credentials properties
    /// in order to use this class.
    /// &lt;/summary&gt;
    class YelpAPIClient
    {
        /// &lt;summary&gt;
        /// Consumer key used for OAuth authentication.
        /// This must be set by the user.
        /// &lt;/summary&gt;
        private const string CONSUMER_KEY = ""CENSORED"";

        /// &lt;summary&gt;
        /// Consumer secret used for OAuth authentication.
        /// This must be set by the user.
        /// &lt;/summary&gt;
        private const string CONSUMER_SECRET = ""CENSORED"";

        /// &lt;summary&gt;
        /// Token used for OAuth authentication.
        /// This must be set by the user.
        /// &lt;/summary&gt;
        private const string TOKEN = ""CENSORED"";

        /// &lt;summary&gt;
        /// Token secret used for OAuth authentication.
        /// This must be set by the user.
        /// &lt;/summary&gt;
        private const string TOKEN_SECRET = ""CENSORED"";

        /// &lt;summary&gt;
        /// Host of the API.
        /// &lt;/summary&gt;
        private const string API_HOST = ""https://api.yelp.com"";

        /// &lt;summary&gt;
        /// Relative path for the Search API.
        /// &lt;/summary&gt;
        private const string SEARCH_PATH = ""/v2/search/"";

        /// &lt;summary&gt;
        /// Relative path for the Business API.
        /// &lt;/summary&gt;
        private const string BUSINESS_PATH = ""/v2/business/"";

        /// &lt;summary&gt;
        /// Search limit that dictates the number of businesses returned.
        /// &lt;/summary&gt;
        private const int SEARCH_LIMIT = 3;

        /// &lt;summary&gt;
        /// Prepares OAuth authentication and sends the request to the API.
        /// &lt;/summary&gt;
        /// &lt;param name=""baseURL""&gt;The base URL of the API.&lt;/param&gt;
        /// &lt;param name=""queryParams""&gt;The set of query parameters.&lt;/param&gt;
        /// &lt;returns&gt;The JSON response from the API.&lt;/returns&gt;
        /// &lt;exception&gt;Throws WebException if there is an error from the HTTP request.&lt;/exception&gt;
        private JObject PerformRequest(string baseURL, Dictionary&lt;string, string&gt; queryParams=null)
        {
            var query = System.Web.HttpUtility.ParseQueryString(String.Empty);

            if (queryParams == null)
            {
                queryParams = new Dictionary&lt;string, string&gt;();
            }

            foreach (var queryParam in queryParams)
            {
                query[queryParam.Key] = queryParam.Value;
            }

            var uriBuilder = new UriBuilder(baseURL);
            uriBuilder.Query = query.ToString();

            var request = WebRequest.Create(uriBuilder.ToString());
            request.Method = ""GET"";

            request.SignRequest(
                new Tokens {
                    ConsumerKey = CONSUMER_KEY,
                    ConsumerSecret = CONSUMER_SECRET,
                    AccessToken = TOKEN,
                    AccessTokenSecret = TOKEN_SECRET
                }
            ).WithEncryption(EncryptionMethod.HMACSHA1).InHeader();

            HttpWebResponse response = (HttpWebResponse)request.GetResponse();
            var stream = new StreamReader(response.GetResponseStream(), Encoding.UTF8);
            return JObject.Parse(stream.ReadToEnd());
        }

        /// &lt;summary&gt;
        /// Query the Search API by a search term and location.
        /// &lt;/summary&gt;
        /// &lt;param name=""term""&gt;The search term passed to the API.&lt;/param&gt;
        /// &lt;param name=""location""&gt;The search location passed to the API.&lt;/param&gt;
        /// &lt;returns&gt;The JSON response from the API.&lt;/returns&gt;
        public JObject Search(string term, string location)
        {
            string baseURL = API_HOST + SEARCH_PATH;
            var queryParams = new Dictionary&lt;string, string&gt;()
            {
                { ""term"", term },
                { ""location"", location },
                { ""limit"", SEARCH_LIMIT.ToString() }
            };
            return PerformRequest(baseURL, queryParams);
        }

        /// &lt;summary&gt;
        /// Query the Business API by a business ID.
        /// &lt;/summary&gt;
        /// &lt;param name=""business_id""&gt;The ID of the business to query.&lt;/param&gt;
        /// &lt;returns&gt;The JSON response from the API.&lt;/returns&gt;
        public JObject GetBusiness(string business_id)
        {
            string baseURL = API_HOST + BUSINESS_PATH + business_id;
            return PerformRequest(baseURL);
        }
    }

    /// &lt;summary&gt;
    /// Command-line options abstraction.
    /// &lt;/summary&gt;
    class Options
    {
        /// &lt;summary&gt;
        /// Gets and sets the Term property.
        /// &lt;/summary&gt;
        /// &lt;value&gt;The search term specified by the user.&lt;/value&gt;
        [Option('t', ""term"", DefaultValue=""dinner"", HelpText = ""Search term"")]
        public string Term { get; set; }

        /// &lt;summary&gt;
        /// Gets and sets the Location property.
        /// &lt;/summary&gt;
        /// &lt;value&gt;The location term specified by the user.&lt;/value&gt;
        [Option('l', ""location"", DefaultValue=""San Francisco, CA"", HelpText = ""Search Location"")]
        public string Location { get; set; }
    }

    /// &lt;summary&gt;
    /// Class that encapsulates the program entry point.
    /// &lt;/summary&gt;
    class Program
    {
        /// &lt;summary&gt;
        /// Queries the API by the input values from the user, and prints
        /// the result on the console.
        /// &lt;/summary&gt;
        /// &lt;param name=""term""&gt;The search term to query.&lt;/param&gt;
        /// &lt;param name=""location""&gt;The location of the business to query.&lt;/param&gt;
        public static void QueryAPIAndPrintResult(string term, string location)
        {
            var client = new YelpAPIClient();

            Console.WriteLine(""Querying for {0} in {1}..."", term, location);

            JObject response = client.Search(term, location);

            JArray businesses = (JArray)response.GetValue(""businesses"");

            if (businesses.Count == 0)
            {
                Console.WriteLine(""No businesses for {0} in {1} found."", term, location);
                return;
            }

            string business_id = (string)businesses[0][""id""];

            Console.WriteLine(
                ""{0} businesses found, querying business info for the top result \""{1}\""..."",
                businesses.Count,
                business_id
            );

            response = client.GetBusiness(business_id);

            Console.WriteLine(String.Format(""Result for business {0} found:"", business_id));        
            Console.WriteLine(response.ToString());
        }

        /// &lt;summary&gt;
        /// Program entry point.
        /// &lt;/summary&gt;
        /// &lt;param name=""args""&gt;The command-line arguments.&lt;/param&gt;
        static void Main(string[] args)
        {
            bool exit = false;
            do
            {
                var options = new Options();
                string locationInput = """";
                string businessTypeInput = """";
                try
                {
                    CommandLine.Parser.Default.ParseArguments(args, options);
                }
                catch (CommandLine.ParserException)
                {
                    Console.Error.WriteLine(""Failed to parse command line options."");
                    Console.ReadKey();
                    Environment.Exit(-1);
                }

                try
                {
                    Console.WriteLine(""Enter the location: "");
                    locationInput = Console.ReadLine();
                    Console.WriteLine(""Enter the type of business:"");
                    businessTypeInput = Console.ReadLine();
                    Program.QueryAPIAndPrintResult(businessTypeInput, locationInput);
                    Console.WriteLine(""Would you like to search again? Y/N?"");
                    if (Console.ReadLine().ToUpper() == ""N"")
                        exit = true;
                    else
                        exit = false;
                }
                catch (WebException error)
                {
                    if (error.Response != null)
                        using (var reader = new StreamReader(error.Response.GetResponseStream()))
                        {
                            Console.Error.WriteLine(""Response returned: {0}"", reader.ReadToEnd());
                        }

                    Console.Error.WriteLine(""HTTP request failed, got {0}, abort program."", error.Message);
                }
            } while (exit == false);
                Console.ReadKey();
                Environment.Exit(-1);
            }
        }
    }
</code></pre>

<p>Documentation is here: <a href=""https://www.yelp.com/developers/documentation/v2/search_api"" rel=""nofollow"">https://www.yelp.com/developers/documentation/v2/search_api</a></p>

<p>Which lists out all of the data I am supposed to be able to grab.</p>

<p>If you want to run this, you'll need the Oauth info which you can get here: <a href=""https://www.yelp.com/developers/manage_api_keys"" rel=""nofollow"">https://www.yelp.com/developers/manage_api_keys</a></p>
","2016-06-17 11:49:56","","0","<c#><json><api><formatting><yelp>","1","0"
"understanding arrow tips in MySQL Workbench EER diagram","<p>I used the reverse-engineer function to generate an EER diagram of the Yelp dataset as per this question <a href=""https://stackoverflow.com/questions/2488/auto-generate-database-diagram-mysql"">here</a>. It looks like this:</p>

<p><a href=""https://i.stack.imgur.com/oU13w.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/oU13w.png"" alt=""EER diagram yelp dataset""></a></p>

<p>Does anyone know exactly how to interpret it? What do the arrow tips mean, eg the one with 3 tips and a line, the one with 2 parallel lines. Then there are some without any tips.</p>

<p>Then, does the point at which the arrow enter or leave a table mean anything, eg one leaves the tip table around text and enters the checkin table around count, or is that irrelevant?</p>

<p>Another detail I noticed in there is that the yellow lightbulb is probably a primary key and the red diamond, a foreign key. Still can't see from the diagram however how the coloured symbols and arrows connect.</p>
","2017-11-22 15:35:32","47439158","2","<mysql><database><database-design><mysql-workbench><yelp>","3","2"
"Accessing yelp API points in Python","<p>I have a yelp response as linked <a href=""http://pastebin.com/d9Lz4sKR"" rel=""nofollow"">here</a>. I am trying to print out just a list of the names returned. I have tried the following:</p>

<pre><code>print response['name']
print response[0]
print response[0]['name']
</code></pre>

<p>And all seem to give error. How do I access a list of just place names? Or just one place name?</p>
","2013-11-03 10:09:53","19752074","-1","<python><api><yelp>","1","1"
"Yelp JSON output is not converting to ruby hash","<p>Here is my YELP client using signet but once I get response, I'm not able to convert to ruby hash to inspect response element.</p>

<pre><code>require 'rubygems'
require 'json'
require 'net/http'


client = Signet::OAuth1::Client.new(
  :client_credential_key =&gt;
    'xxxxxxxxxxxxxxxxxxx',
  :client_credential_secret =&gt;
    'xxxxxxxxxxxxxxxxxxx',
  :token_credential_key =&gt;
    'xxxxxxxxxxxxxxxxxxx',
  :token_credential_secret =&gt; 
    'xxxxxxxxxxxxxxxxxxx'
)
response = client.fetch_protected_resource(
  :uri =&gt; 'http://api.yelp.com/v2/search?term=food&amp;location=san+francisco'
)
# The Rack response format is used here
status, headers, body = response
puts body[""businesses""]
</code></pre>

<p>Error:
`[]': can't convert String into Integer (TypeError)</p>

<p>Body prints fine in nice JSON format but I can do body[""businesses""] for instance
JSON.parse(body).inspect is also not working. </p>

<p>Btw body outputs itself appears as JSON format but JSON.parse(body) doesn't produce hash</p>

<pre><code>puts body

{""region"":{""span"":{""latitude_delta"":0.0,""longitude_delta"":0.0},""center"":{""latitude"":37.660418999999997,""longitude"":-121.876508}},""total"":853,""businesses"":[{""rating"":4.0,""mobile_url"":""http://m.yelp.com/biz/TT1t4oHeZmqkoiuwgCN4bQ"",""rating_img_url"":""http://media2.ak.yelpcdn.com/static/201012164084228337/img/ico/stars/stars_4.png"",""review_count"":150,""name"":""India Garden"",""rating_img_url_small"":""http://media2.ak.yelpcdn.com/static/20101216418129184/img/ico/stars/stars_small_4.png"",""url"":""http://www.yelp.com/biz/india-garden-pleasanton-2"",""phone"":""9254854800"",""snippet_text"":""We went to this place without seeing any reviews while we returning to San Jose from Cache Creek in Brooks. This place looks like a house which was..."",""image_url"":""http://s3-media4.ak.yelpcdn.com/bphoto/8iFj1S9YaU5IdUazwZOG8A/ms.jpg"",""snippet_image_url"":""http://s3-media3.ak.yelpcdn.com/photo/d2TovvsTn2eUw4xqTB4jyw/ms.jpg"",""display_phone"":""+1-925-485-4800"",""rating_img_url_large"":""http://media4.ak.yelpcdn.com/static/20101216169592178/img/ico/stars/stars_large_4.png"",""id"":""india-garden-pleasanton-2"",""categories"":[[""Indian"",""indpak""],[""Pakistani"",""pakistani""]],""location"":{""cross_streets"":""Main St &amp; Neal St"",""city"":""Pleasanton"",""display_address"":[""210 Rose Ave"",""(b/t Main St &amp; Neal St)"",""Pleasanton, CA 94566""],""geo_accuracy"":8,""postal_code"":""94566"",""country_code"":""US"",""address"":[""210 Rose Ave""],""coordinate"":{""latitude"":37.660418999999997,""longitude"":-121.876508},""state_code"":""CA""}}]}
</code></pre>
","2011-10-21 05:48:12","","0","<ruby><oauth><rubygems><yelp>","2","6"
"Using Yelp Fusion API with Django v 1.2","<p>I'm building a simple web application. I'm trying to query Yelp API to get a list of businesses in my area. I'm using django v 1.2 with python2 to build this. My previous exposure to APIs were using jquery where using API key was just within the request get url. But yelp API seems a lot more confusing, and since they updated the authentication protocol a few months ago, I couldn't find a lot of resources regarding this matter. I considered their official github documentation for python code usage. It makes sense, but whenever I try to use it on my views.py file inside Django, I get WSGIRequest object is not callable error. </p>

<p>Here is my code for the relevant parts:</p>

<pre><code>def requets(host, path, api_key, url_params = None):
    url_params = url_params or {}
    url = '{0}{1}'.format(host, quote(path.encode('utf8')))

    headers = {
        'Authorization': 'Bearer {}'.format(API_KEY)
    }

    response = requests.request('GET', url, headers = headers, params = 
        url_params)

    return response.json()

def businesses(request):
    url_params = {
        'term': DEFAULT_TERM,
        'location': DEFAULT_LOCATION
    }
    content = {
        'results': request(API_HOST, SEARCH_PATH, API_KEY, url_params = 
    url_params)
    }

    return render(request, 'adinba_app/business.html', content)
</code></pre>

<p>where I have set the DEFAULT_TERM, DEFAULT_LOCATION, SEARCH_PATH, API_KEY etc above. </p>

<p>Any input and guidance is greatly appreciated!!! Thank you very much!</p>
","2018-03-23 02:37:07","","0","<django><python-2.7><yelp>","0","0"
"Swift - can only print object's memory address","<p>I'm using the Yelp API and pulling down a YLPBusiness. When I attempt to print() or dump() the YLPBusiness, I only receive the memory address in the console log. </p>

<p>If I print(YLPBusiness.name) however, I will receive the name. How can I fully print out all property values of the YLPBusiness object?</p>

<p><a href=""https://i.stack.imgur.com/uqRYZ.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/uqRYZ.png"" alt=""Screen shot of code and console log""></a></p>
","2016-06-24 06:22:07","38006866","3","<ios><swift><api><rest><yelp>","2","0"
"Using the Yelp api in iOS","<p>I'm still new to programming so any help would be greatly appreciated.</p>

<p>I'm trying to use the Yelp api in a new app I'm making. I integrated the api using the example project provided by Yelp here: <a href=""https://github.com/Yelp/yelp-api"" rel=""nofollow"">https://github.com/Yelp/yelp-api</a> (v2/objective c). My question is how do I access the information that the sample program logs out. It saves it in an NSDictionary but I can't figure out how to access the info so I can for example display the business's phone number in a label in one of my view controllers.</p>

<p>Thanks </p>
","2015-06-04 00:19:17","30633260","2","<ios><objective-c><xcode><dictionary><yelp>","1","0"
"Rails Yelp::Error::InvalidParameter - One or more parameters are invalid in request","<p>I am building a web app using rails and using the yelp api through yelp api gem. The api was working until yesterday, I got this error:</p>

<pre><code>Yelp::Error::InvalidParameter - One or more parameters are invalid in request
</code></pre>

<p>I haven't changed any code.</p>

<p>Here is my yelp service :</p>

<pre><code>require 'yelp'
class YelpService
    def get_detail(id)
        begin
            yelp_client = Yelp::Client.new({ consumer_key: 'my-consumer-key',
                            consumer_secret: 'mysecret',
                            token: 'my-token',
                            token_secret: 'mytoken-secret'
                          })  
            Rails.logger.info ""yelp client #{yelp_client}""
            Rails.logger.info ""id #{id}""
            yelp_response = yelp_client.business(id)
            Rails.logger.info ""yelp response #{yelp_response}""
            if yelp_response
                return yelp_response.rating_img_url
            else
                Rails.logger.info ""Error in yelp client call""
            end 
        rescue Exception =&gt; e
            # Mandrill errors are thrown as exceptions
            Rails.logger.info ""Error occurred in yelp service: #{e.class} - #{e.message}""
            return ""none""
        end 
    end 
  private
    attr_reader :id 
end
</code></pre>

<p>I have tried changing the mandrill key, but with no effect. Please help me resolve this issue.</p>
","2015-06-05 15:52:47","","3","<ruby><yelp>","1","2"
"Yahoo, Google, Yelp API","<p>Is there any php API to gather information about a business(address, reviews) by its phone number from Yelp, Google, Insiderpages, Yahoo..
Please help, i have done research about these, but did't get the right info, though yelp is providing info by it's phone number but there they ask ywsid as mendatory (<a href=""http://api.yelp.com/phone_search?phone=1234567890&amp;ywsid=XXXXXXXXXXXXXXXX"" rel=""nofollow"">http://api.yelp.com/phone_search?phone=1234567890&amp;ywsid=XXXXXXXXXXXXXXXX</a>) but i want by phone number only.</p>
","2013-03-10 05:55:35","15361468","0","<yahoo><yelp>","1","0"
"I have Node.js package in Meteor app, how do I call the function?","<p>I want to use this Node code <a href=""https://www.npmjs.com/package/node-yelp"" rel=""nofollow"">https://arian.io/how-to-use-yelps-api-with-node/</a> in my Meteor app, to interface with Yelp's 2.0 API and return results that I can use.</p>

<p>I have installed <strong>meteorhacks:npm</strong> and added the appropriate node packages to packages.json:</p>

<pre><code>{
""oauth-signature"" : ""1.3.0"",
""nonce"" : ""1.0.3"",
""request"" : ""2.58.0"",
""lodash"" : ""3.10.0""
}
</code></pre>

<p>This is my .js file</p>

<pre><code>//Start IsCLient
if (Meteor.isClient) {

//Call Yelp Helper
  Template.yelper.events({
    'click button': function () {
    data = callYelp();
    }
  });
//Call Yelp Helper


//Call Yelp
  callYelp = function callYelp(user) {
    Meteor.call('callYelp', user);
  }
//End Call Yelp

}
//End IsClient



if (Meteor.isServer) {
  Meteor.startup(function () {
    // code to run on server at startup
  });
}



//Methods
Meteor.methods({
'callYelp': function callYelp(user) {


/* require the modules needed */
var oauthSignature = Meteor.npmRequire('oauth-signature');  
var n = Meteor.npmRequire('nonce')();  
var request = Meteor.npmRequire('request');  
var qs = Meteor.npmRequire('querystring');  
var _ = Meteor.npmRequire('lodash');

/* Function for yelp call
 * ------------------------
 * set_parameters: object with params to search
 * callback: callback(error, response, body)
 */


request_yelp = function(set_parameters, callback) {


  /* The type of request */
  var httpMethod = 'GET';

  /* The url we are using for the request */
  var url = 'http://api.yelp.com/v2/search';

  /* We can setup default parameters here */
  var default_parameters = {
    location: 'San+Francisco',
    sort: '2'
  };

  /* We set the require parameters here */
  var required_parameters = {
    oauth_consumer_key : process.env.oauth_consumer_key,
    oauth_token : process.env.oauth_token,
    oauth_nonce : n(),
    oauth_timestamp : n().toString().substr(0,10),
    oauth_signature_method : 'HMAC-SHA1',
    oauth_version : '1.0'
  };

  /* We combine all the parameters in order of importance */ 
  var parameters = _.assign(default_parameters, set_parameters, required_parameters);

  /* We set our secrets here */
  var consumerSecret = process.env.consumerSecret;
  var tokenSecret = process.env.tokenSecret;

  /* Then we call Yelp's Oauth 1.0a server, and it returns a signature */
  /* Note: This signature is only good for 300 seconds after the oauth_timestamp */
  var signature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret, { encodeSignature: false});

  /* We add the signature to the list of paramters */
  parameters.oauth_signature = signature;

  /* Then we turn the paramters object, to a query string */
  var paramURL = qs.stringify(parameters);

  /* Add the query string to the url */
  var apiURL = url+'?'+paramURL;

  /* Then we use request to send make the API Request */
  request(apiURL, function(error, response, body){
    return callback(error, response, body);
  });
};


}

})
</code></pre>

<p>Everything seems to include properly, and I believe I have things set up right, adding the code to a Method and then calling it with the button press.</p>

<p>My problem is that within the callYelp method, there is a function created that makes the actual request to Yelp, and I'm not sure how to fire that.</p>

<p>You can see in the comments in my code where I've tried to make it work.</p>

<p>Is this is a scope issue? An issue with Node?</p>

<p><strong>Also I know I don't have my Yelp API parameters (token, etc) set yet, I will add those, I'm just trying to get it to at least connect and throw an error first.</strong></p>

<pre><code>request(apiURL, function(error, response, body){
    return callback(error, response, body);
  });
</code></pre>
","2015-07-15 00:39:45","","-1","<javascript><node.js><meteor><yelp>","1","0"
"How can I know if there is a restaurant at given latitude and longitude location?","<p>How do I know if there is a restaurant at a given lat-long location?</p>

<p>Can we use google maps/ google places/ Yelp/ FourSquare for the same?</p>

<p><strong>Input</strong> : lat, long pair ( 1.280634,103.845392 ) </p>

<p><strong>Output</strong> : Meii Sushi</p>
","2018-01-30 11:21:22","","-4","<google-maps><foursquare><google-places><yelp>","1","2"
"Yelp API and AngularJS","<p>I'm trying to call the Yelp API using AngularJS, but I'm having trouble. I keep getting a 400 bad request and I don't know why.</p>

<p>Yelp API documentation:</p>

<p><a href=""http://www.yelp.com/developers/documentation/v2/authentication"">http://www.yelp.com/developers/documentation/v2/authentication</a>
<a href=""http://www.yelp.com/developers/documentation/v2/search_api"">http://www.yelp.com/developers/documentation/v2/search_api</a></p>

<p>Page containing Yelp API generated keys:</p>

<p><a href=""http://gyazo.com/fa918329eb0cde18a5db242d1d0b0b0e"">http://gyazo.com/fa918329eb0cde18a5db242d1d0b0b0e</a></p>

<p>This is the snippet of my code doing the call:</p>

<pre><code>function randomString(length, chars) {
var result = '';
for (var i = length; i &gt; 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
return result;
}

app.factory(""MyYelpAPI"", function($http) {
return {
    ""retrieveYelp"": function(name, callback) {
        $http.jsonp(""http://api.yelp.com/v2/search?term=food&amp;location=San+Francisco&amp;callback=JSON_CALLBACK"",
            {
                params: {
                    oauth_consumer_key: /* Consumer Key */,
                    oauth_token: /* Token */,
                    oauth_signature_method: ""hmac-sha1"",
                    oauth_signature: /* Token Secret */,
                    oauth_timestamp: new Date().getTime(),
                    oauth_nonce: randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ')
                }
            }
        ).success(callback);
    }
}
});
</code></pre>
","2014-05-17 21:30:56","26152065","6","<angularjs><jsonp><yelp>","1","0"
"How to retrieve yelp category_filter with PHP? A JSON object inside a JSON object","<p>I am working with the Yelp API v1 and i'm trying to get the category_filter which is stored in  category object.A small part of my JSON looks like this:</p>

<pre><code>""businesses"": [
{
 ""address1"": ""800 N Point St"",
 ""phone"": ""4157492060"",
 ""categories"": [{
""category_filter"": ""newamerican"",
""search_url"": ""http://www.yelp.com/search?cflt=newamerican\u0026find_desc=\u0026find_loc=800+N+Point+St%2C+San+Francisco+94109"",
""name"": ""American (New)""
}],
 ""name"": ""Gary Danko"",
 }]
</code></pre>

<p>My php script looks like this:</p>

<pre><code>&lt;?php
$yelpstring = file_get_contents(""PATH TO JSON"", true); 

$obj = json_decode($yelpstring, true);
foreach($obj['businesses'] as $business){
echo ""Restaurant name: "" . $business['name'].""&lt;br/&gt;"";
echo ""Restaurant Type: "" . $business['categories']['category_filter'].""&lt;br/&gt;"";
echo ""Address 1: "" . $business['address1'].""&lt;br/&gt;"";
echo ""Phone: "" . $business['phone'] .""&lt;br/&gt;"";
echo ""&lt;hr&gt;"";
}
?&gt;
</code></pre>

<p>I'm getting the name,address1 and phone,but not the category_filter i get a php error that says:</p>

<p>""Notice: Undefined index: category_filter in file.php on line 12""</p>

<p>I don't understand what i am doing wrong.</p>
","2013-04-09 19:57:00","","0","<php><json><multidimensional-array><yelp>","1","0"
"Possible to get images of food from the Yelp API v2?","<p>Is it possible to get images of food using the Yelp API v2? I'm specifically looking for images like in the screenshot below:
<img src=""https://i.stack.imgur.com/ro2wh.png"" alt=""Images of food from Yelp""></p>
","2014-05-18 16:02:36","","3","<yelp>","0","3"
"How do I validate a PHP integer within a variable?","<p>I have integrated Yelp reviews into my directory site with each venue that has a Yelp ID returning the number of reviews and overall score.</p>

<p>Following a successful MySQL query for all venue details, I output the results of the database formatted for the user. The Yelp element is:</p>

<pre><code>while ($searchresults = mysql_fetch_array($sql_result)) {
  if ($yelpID = $searchresults['yelpID']) {
        require('yelp.php');
        if ( $numreviews &gt; 0 ) {
            $yelp = '&lt;img src=""'.$ratingimg.'"" border=""0"" /&gt; Read &lt;a href=""'.$url.'"" target=""_blank""&gt;'.$numreviews.' reviews&lt;/a&gt; on &lt;a href=""http://www.tkqlhce.com/click-7842347-10756740-1314724701000"" target=""_blank""&gt;&lt;img src=""graphics/yelp_logo_50x25.png"" border=""0"" /&gt;&lt;/a&gt;&lt;br /&gt;';
        } else {
            $yelp = '';
        }
    } //END if ($yelpID = $searchresults['yelpID']) {
} //END while ($searchresults = mysql_fetch_array($sql_result)) {
</code></pre>

<p>The yelp.php file returns:</p>

<pre><code>$yrating = $result-&gt;rating;
$numreviews = $result-&gt;review_count;
$ratingimg = $result-&gt;rating_img_url;
$url = $result-&gt;url;
</code></pre>

<p>If a venue has a Yelp ID and one or more reviews then the output displays correctly, but if the venue has no Yelp ID or zero reviews then it displays the Yelp review number of the previous venue.</p>

<p>I've checked the $numreviews variable type and it's an integer.
So far I've tried multiple variations of the ""if ( $numreviews > 0 )"" statement such as testing it against >=1, !$numreviews etc., also converting the integer to a string and comparing it against other strings.
There are no errors and printing all of the variables returned gives the correct number of reviews for each property with venues having no ID or no reviews returning nothing (as opposed to zero). I've also compared it directly against $result->review_count with the same problem.</p>

<p>Is there a better way to make the comparison or better format of variable to work with to get the correct result?</p>

<p><strong>EDIT:</strong>
The statement <code>if ($yelpID = $searchresults['yelpID']) {</code> is not operating as it should. It is identical to other statements in the file, validating row contents which work correctly for their given variable, e.g. $fbID = $searchresults['fbID'] etc.<br>
When I changed <code>require('yelp.php');</code> to require_once('yelp.php'); all of the venue outputs changed to showing only the first iterated result. Looking through the venues outputted, the error occurs on the first venue after a successful result which makes me think there is a pervasive piece of code in the yelp.php file, causing <code>if ($yelpID = $searchresults['yelpID']) {</code> to be ignored until a positive result is found (a yelpID in the db), i.e. each venue is correctly displayed with a yelp number of reviews until a blank venue is encountered. The preceding venues' number of  reviews is then displayed and this continues for each blank venue until a venue is found with a yelpID when it shows the correct number again. The error reoccurs on the next venue output with no yelpID and so on.</p>

<p>Sample erroneous output: (line 1 is var_dump)<br>
string(23) ""bayview-hotel-bushmills""<br>
Bayview Hotel<br>
Read 3 reviews on yelp  </p>

<p>Benedicts<br>
Read 3 reviews on yelp (note no var_dump output, this link contains the url for the Bayview Hotel entry above)</p>

<p>string(31) ""bushmills-inn-hotel-bushmills-2""<br>
Bushmills Inn Hotel<br>
Read 7 reviews on yelp  </p>

<p>I suspect this would be a new question rather than clutter/confuse this one further?</p>

<p><strong>END OF EDIT</strong></p>

<p>Note: I'm aware of the need to upgrade to mysqli but I have thousands of lines of legacy code to update. For now I'm working on functionality before reviewing the code for best practice.</p>
","2015-07-22 15:41:46","","1","<php><mysql><yelp>","1","3"
"How to use a stringify JSON data from Yelp API","<p>I am trying to figure out how to use the data in <a href=""http://www.yelp.com/developers/documentation"" rel=""nofollow"">Yelp API v2</a>. How do you read the data given by yelp after you json.stringify it. This is what I did,</p>

<pre><code>var output = JSON.stringify(data);
alert(output[0].id) // This comes out to be undefined.
</code></pre>

<p>How do you read the json data from yelp api?</p>
","2013-04-11 02:03:02","","0","<javascript><json><stringify><yelp>","1","2"
"Authorization header not recognized by Yelp Fusion API","<p>I am passing an authorization header with my Retrofit GET requests as documented by the Yelp Fusion documentation, which is shown below:</p>

<p>Authorization: Bearer MY_API_KEY</p>

<p>I am adding a network interceptor in my onCreate() method as shown below:</p>

<pre><code>    OkHttpClient.Builder okHttpBuilder = new OkHttpClient.Builder();

    okHttpBuilder.addInterceptor(new Interceptor() {
        @Override
        public okhttp3.Response intercept(Interceptor.Chain chain) throws IOException {
            Request original = chain.request();

            // Request customization: add request headers
            Request.Builder requestBuilder = original.newBuilder()
                    .addHeader(""Authorization"", ""Bearer MY_API_KEY"");
            Request request = requestBuilder.build();

            return chain.proceed(request);
        }
    });

    //Yelp Client init
    yelpRetrofit = new Retrofit.Builder()
            .baseUrl(""https://httpbin.org/"")
            .client(okHttpBuilder.build())
            .addConverterFactory(GsonConverterFactory.create())
            .build();
    yelpClient = yelpRetrofit.create(YelpClient.class);
</code></pre>

<p>Here is my YelpClient class :</p>

<pre><code>public interface YelpClient {
@GET(""headers"")
Call&lt;YelpJSON&gt; searchTest(); }
</code></pre>

<p>This is the response I get when sending the request:</p>

<blockquote>
  <p>{""error"": {""code"": ""TOKEN_MISSING"", ""description"": ""An access token must be supplied in order to use this endpoint.""}}</p>
</blockquote>

<p>I have successfully retrieved a response from the Yelp Fusion API with Postman and curl both using identical parameters and headers as my Retrofit request, so I can't blame Yelp. I have also attempted statically and dynamically setting the header with no success. Can anyone help me figure out what is wrong here? </p>
","2018-02-01 23:04:56","","1","<java><android><retrofit><yelp>","0","6"
"Yelp API v3 PHP library or tool","<p>Please advice, is there some unofficial php library for new Yelp API v3 (for now only v2 php library exist on official github page - <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/php"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/php</a>).</p>
","2016-10-06 12:09:58","","1","<php><yelp>","1","0"
"How to find places near your location with Yelp API v2","<p>I know how to use most utilities on Yelp API v2, but I can't seem to figure out how to find stores near me. There is a section of the code that shows: </p>

<p>var terms = 'supermarkets';
var near = 'santa+clara';</p>

<p>This helps me find supermarkets near cupertino. But what do I put in ""near"" to find supermarkets near me (whereever I am)? I tried ""current+location"", but that doesn't work</p>
","2013-04-11 22:43:01","","0","<javascript><html5><api><yelp>","1","0"
"OAuth2 and Yelp access in Ruby","<p>I'm  trying to use the Yelp API. v3 is using OAuth2 but I'm not sure about the processing of all the data. </p>

<p>This is the code to get the token associated to the key:</p>

<pre><code>client = OAuth2::Client.new(  ENV[ 'YELP_APP_ID' ], 
                                  ENV[ 'YELP_APP_SECRET' ],
                                  :token_url =&gt; ENV[ 'YELP_OAUTH2_TOKEN_URL' ],
                                  :site =&gt; ENV[ 'YELP_ENDPOINT_URL' ],
                                  :access_token_method =&gt; :post, 
                                  :grant_type =&gt; :client_credentials)

puts(""this is my blabla #{client}"")
code =  client.auth_code.authorize_url(:redirect_uri =&gt; ""http://localhost:4000"")
token = client.auth_code.get_token(code, :redirect_uri =&gt; ""http://localhost:4000"")
puts(""this is my blabla #{token.token}"")
OAuth2::AccessToken.new(client, token.token)
</code></pre>

<p><code>TOKEN_URL</code> is <code>/oauth2/token</code> and <code>ENDPOINT</code> is <code>https://api.yelp.com</code>.</p>

<p>I receiving a code like:</p>

<pre><code>69gSGF4oPNzyd2GTK824wlYOAwX8ibbsdEF5bmPsqUVj22WqK6X5alGRv0cahoXL-W9z0TVHvMxgWZNk2xpwDPJFLKbZBCuDfHQEDImlG6dPajgp23B-NFGzj
</code></pre>

<p>First, can I be sure to be granted with the right token?</p>

<p>I am not sure also about the <code>redirect_uri</code>. My code will run an Heroku but now it's on my local machine.</p>

<p>Can I use something like <code>:@domain</code> instead of <code>local</code>?</p>

<p>I am asking this because, when sending a request to Yelp, it always gives me the same result. I ask for Sushi and it sends back five restaurants.</p>

<p>I want first to make sure that my OAuth2 processing is correct.</p>
","2016-10-06 21:45:07","","0","<ruby><oauth-2.0><yelp>","1","1"
"Yelp API 400 Unavailable For Location Error","<p>I have setup my request to the Yelp v2 search api using the location parameter passing in a full address to work using the scribe-java OAuth encoding code as given in the Java sample on their github repository.  </p>

<p>I am testing a local address in the US to search but have been getting a 400 (UNAVAILABLE_FOR_LOCATION) through my application running on localhost.  </p>

<p>The strange part is that the request works if I take the URL that my application generates (after OAuth signature) and paste it into the browser, the request succeeds and I see the data I need. </p>

<p>I have tried adding a user agent header to my request (which was my best guess as to why this behaviour would happen), but to no avail. </p>

<p>Has anyone ran across this error or have an idea as to how to solve this issue? The Yelp support Google group has been useless.</p>
","2014-05-21 19:10:02","23936148","0","<java><scribe><yelp>","1","0"
"Opening yelp deep link from android app","<p>I am using the following code and it is not opening the yelp app:</p>

<pre><code>    String uriString = ""yelp://biz/"" + ""some name""; 
    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(uriString))); 
</code></pre>

<p>Instead it says</p>

<blockquote>
  <p>Could not execute method of the activity !</p>
</blockquote>

<p>Any pointers?</p>
","2015-07-23 12:11:27","31935521","2","<android><deep-linking><yelp>","1","0"
"Getting data from Yelp API","<p>I'm starting to look into Yelp API. When I send a search request I get a data returned in an array $response. So If I output it like this</p>

<pre><code>echo '&lt;pre&gt;';
print_r($response);
echo '&lt;/pre&gt;';
</code></pre>

<p>I see results in the following format</p>

<pre><code>stdClass Object
(
    [message] =&gt; stdClass Object
        (
            [text] =&gt; OK
            [code] =&gt; 0
            [version] =&gt; 1.1.1
        )

    [businesses] =&gt; Array
        (
            [0] =&gt; stdClass Object
                (
                    [rating_img_url] =&gt; http://s3-media2.ak.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png
                    [country_code] =&gt; US
                    ...
                 )
         )
)
</code></pre>

<p>So, let's say I want to get the country code, shouldn't I be able to get it with something like?</p>

<pre><code>echo $response['businesses'][0]-&gt;country_code;
</code></pre>

<p>I'm not getting any results. What am I missing?</p>
","2014-05-22 15:21:12","23811056","1","<php><yelp>","1","0"
"How can I access public API Information without Login?","<p>I'm trying to access public information from API's without actually having users grant access to the API in my mobile Application. Is this actually possible, or are the Oauth permissions for any sort of access to an API?</p>

<p><b>For example</b>, I want my application to be able to pull a list of nearby restaurants for my application without asking the user if Yelp can access the application. Since the user just wants nearby food information, the request for restaurants isn't user specific, and the user shouldn't actually have to login.</p>

<p><b>Another example</b> is if I want Eventbrite to simply give me a list of upcoming events. Is there a way to get this list without having a user authenticate Eventbrite within my application itsself?</p>
","2014-05-22 16:19:57","","0","<objective-c><oauth-2.0><eventbrite><yelp>","1","1"
"Writing HTTP Headers in XML","<p>I have to code this HTTP Request to Yelp API in XML </p>

<pre><code>    GET /v2/business/yelp-san-francisco HTTP/1.1
Host: api.yelp.com
Authorization: OAuth realm="""",oauth_consumer_key=""xxxxxxxxxxxxxxxx"",oauth_token=""xxxxxxxxxxxxxxxx"",oauth_signature_method=""HMAC-SHA1"",oauth_timestamp=""1402918725"",oauth_nonce=""vCTAQl"",oauth_version=""1.0"",oauth_signature=""xxxxxxxxxxxxxxxx""
Cache-Control: no-cache
Postman-Token: 338ad760-49be-df0b-a4ba-3eaa12586cd1
</code></pre>

<p>How can I implement it in XML? I have tried like this: </p>

<pre><code>&lt;property name=""yelp.apiUri"" value=""http://api.yelp.com/v2/"" /&gt;
    &lt;property name=""yelp.oauth.consumerKey"" expression=""$func:consumerKey"" /&gt;
    &lt;property name=""yelp.oauth.consumerKeySecret"" expression=""$func:consumerKeySecret"" /&gt;
    &lt;property name=""yelp.oauth.accessToken"" expression=""$func:accessToken"" /&gt;
    &lt;property name=""yelp.oauth.accessTokenSecret"" expression=""$func:accessTokenSecret"" /&gt;

    &lt;property name=""yelp.oauth.nonce"" value=""dummynonce""/&gt;
    &lt;property name=""yelp.oauth.timestamp"" value=""dummytimestamp""/&gt;

    &lt;property name=""Authentication"" expression=""fn:concat(
    'OAuth realm=',
    'oauth_consumer_key=', get-property('yelp.oauth.consumerKey'),
    'oauth_token=', get-property('yelp.oauth.accessToken'),
    'oauth_signature_method=HMAC-SHA1',
    'oauth_timestamp=', get-property('yelp.oauth.timestamp'),
    'oauth_nonce=', get-property('yelp.oauth.nonce'),
    'oauth_version=1.0',
    'oauth_signature=', get-property('yelp.oauth.accessTokenSecret')
    )""/&gt;
</code></pre>

<p>But it didn't work.</p>
","2014-06-16 11:50:40","24314160","3","<xml><rest><oauth><http-headers><yelp>","1","3"
"How to retrieve response JSON data with Swift","<p>I am trying to use the Yelp API and receive the corresponding JSON according to a search term. Here is the YelpAPI Client I am using: </p>

<pre><code>import Foundation
import UIKit

let yelpConsumerKey = ""KLGXXXXfnmhQ""
let yelpConsumerSecret = ""wPmXXXXvOA""
let yelpToken = ""0-3DsXXXXhAq""
let yelpTokenSecret = ""BViXXXXQ-Dz3Y""

class YelpClient: BDBOAuth1RequestOperationManager {
    var accessToken: String!
    var accessSecret: String!

    required init(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
    }

    class var sharedInstance : YelpClient {
        struct Static {
            static var token : dispatch_once_t = 0
            static var instance : YelpClient? = nil
        }
        dispatch_once(&amp;Static.token) {
            Static.instance = YelpClient(consumerKey: yelpConsumerKey, consumerSecret: yelpConsumerSecret, accessToken: yelpToken, accessSecret: yelpTokenSecret)
        }
        return Static.instance!
    }

    init(consumerKey key: String!, consumerSecret secret: String!, accessToken: String!, accessSecret: String!) {
        self.accessToken = accessToken
        self.accessSecret = accessSecret
        var baseUrl = NSURL(string: ""http://api.yelp.com/v2/"")
        super.init(baseURL: baseUrl, consumerKey: key, consumerSecret: secret);

        var token = BDBOAuthToken(token: accessToken, secret: accessSecret, expiration: nil)
        self.requestSerializer.saveAccessToken(token)
    }

    func searchWithTerm(term: String, success: (AFHTTPRequestOperation!, AnyObject!) -&gt; Void, failure: (AFHTTPRequestOperation!, NSError!) -&gt; Void) -&gt; AFHTTPRequestOperation! {
        // For additional parameters, see http://www.yelp.com/developers/documentation/v2/search_api
        var parameters = [""term"": term, ""ll"": ""37.77493,-122.419415""]
        return self.GET(""search"", parameters: parameters, success: success, failure: failure)
    }

    func searchWithTerm(term: String, deal: Bool, radius: Int, sort: Int, categories: String, success: (AFHTTPRequestOperation!, AnyObject!) -&gt; Void, failure: (AFHTTPRequestOperation!, NSError!) -&gt; Void) -&gt; AFHTTPRequestOperation! {
        // For additional parameters, see http://www.yelp.com/developers/documentation/v2/search_api
        var parameters = NSDictionary()
        if (radius == -1) {
            parameters = [""term"": term, ""ll"": ""37.77493,-122.419415"", ""deals_filter"": deal, ""sort"": sort, ""category_filter"":categories]
        }
        else {
            var meter:Double = Double(radius) * 1609.34
            parameters = [""term"": term, ""ll"": ""37.77493,-122.419415"", ""deals_filter"": deal, ""radius_filter"": meter, ""sort"": sort, ""category_filter"":categories]
        }
        return self.GET(""search"", parameters: parameters as [NSObject : AnyObject], success: success, failure: failure)
    }


}
</code></pre>

<p>I made a model class for the restaurants here: </p>

<pre><code>import UIKit

class Resturant: NSObject {
    var name: String!
    var thumbUrl: String!
    var address: String!
    var jsonData: NSData!

    init(dictionary: NSDictionary) {
        name = dictionary[""name""] as? String
        thumbUrl = dictionary[""thumbUrl""] as? String
        address = dictionary[""address""] as? String
    }

    class func searchWithQuery(query: String, completion: ([Resturant]!, NSError!) -&gt; Void) {
        YelpClient.sharedInstance.searchWithTerm(query, success: { (operation: AFHTTPRequestOperation!, response: AnyObject!) -&gt; Void in
            println(response)
        let JSONObject = NSJSONSerialization.JSONObjectWithData(response as! NSData, options: NSJSONReadingOptions(0), error: nil)
            }) { (operation: AFHTTPRequestOperation!, error: NSError!) -&gt; Void in

        }
    }
}
</code></pre>

<p><code>let JSONObject = NSJSONSerialization.JSONObjectWithData(response as! NSData, options: NSJSONReadingOptions(0), error: nil)
</code></p>

<p>This line of code prompts this error: </p>

<p><code>Could not cast value of type '__NSCFDictionary' (0x10b914a60) to 'NSData' (0x10b913a48).
</code> </p>
","2015-07-31 18:09:05","31752684","3","<ios><swift><yelp>","1","0"
"yelp api v3 javascript how to get access token","<p>I'm learning how to use it but not sure what's wrong with my code.</p>

<pre><code>    $.ajax({
      dataType: ""POST"",
      url: ""https://api.yelp.com/oauth2/token"",
      grant_type: ""client_credentials"",
      client_id: ""my_client_id"",
      client_secret: ""my_client_secret"",
      success: function(data,textStatus,jqXHR) {
        console.log(data,textStatus,jqXHR);
      }
    });
</code></pre>

<p>my_client_id and my_client_secret are got from yelp. The error in browser looks like this:</p>

<pre><code>XMLHttpRequest cannot load https://api.yelp.com/oauth2/token. 
No 'Access-Control-Allow-Origin' header is present on the requested resource. 
Origin 'null' is therefore not allowed access. The response had HTTP status code 404.
</code></pre>

<p>Edit: </p>

<p>Tried again with </p>

<pre><code>  yelpTokenURL = ""https://api.yelp.com/oauth2/token?grant_type=client_credentials&amp;client_id=""
    + id + ""&amp;client_secret="" + secret;
  jQuery.post(yelpTokenURL, function(){
    console.log(data);
  });
</code></pre>

<p>Got error:</p>

<p>XMLHttpRequest cannot load https://...
No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access.</p>
","2016-10-29 19:26:44","","1","<javascript><ajax><api><yelp>","1","0"
"Need to Find Nearby Restaurants Android","<p>I'm making an app for school that will show your location and display nearby pizza restaurants. I've looked into both the Yelp api and the Google Places api, but I'm not sure of the pros and cons of each.</p>

<p>It seems that Yelp would work a little better because it will have reviews. While this is true, I haven't seen any good resources about learning Yelp with android. </p>
","2013-05-14 02:29:24","","1","<android><location><google-places-api><yelp>","0","2"
"Yelp search Api in iOS","<p>I am working on a app in which I have to show  accessories, their price &amp; other information from Yelp.<br>
After a lot of searching I have found a useful link: <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/ios"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/ios</a><br>
But this method is not working for me.</p>

<p>Until now I have only used a single web service which is working &amp; other's giving error like missing parameter.</p>

<p>This is working:</p>

<pre><code>http://api.yelp.com/business_review_search?term=mobile&amp;ywsid=PyHVqegFdleV******&amp;tl_lat=37.9&amp;tl_long=-122.5&amp;br_lat=37.788022&amp;br_long=-122.399797
</code></pre>

<p>Is there another API call which returns me the price , offers &amp; other information because above one is for review.</p>
","2014-06-18 08:34:45","","0","<ios><yelp>","1","1"
"Yelp API - Too Many Request Per Second in Node.js","<p>Experts,</p>

<p>It seems that yelp recently changed their REST API to limit the amount of requests you can make per second.  I've tried using setTimeout and various sleep functions with no success.  I believe it has to do with setTimeout although.  I only get a few responses back and a slew of TOO_Many_Requests_Per_Second.  Also, I'm using the Node.js Fusion API Client.  Any help would be appreciated.  Thanks in advance.</p>

<p>Here is the code below as I'm getting the Yelp URL from my Parse Server, and I want to get the Yelp Business Name response:</p>

<pre><code>'use strict';

var Parse = require('parse/node');

Parse.initialize(""ServerName"");
Parse.serverURL = 'ParseServerURL';
const yelp = require('yelp-fusion');
const client = yelp.client('Key');

var object;
var Business = Parse.Object.extend(""Business"");
var query = new Parse.Query(Business);

query.notEqualTo(""YelpURL"", ""Bus"");

query.find({
success: function(results) {

  for (var i = 0; i &lt; results.length; i++) {
    object = results[i];
    //I belive a setTimeout block needs to come somewhere in here.  Tried many places but with no success.
    client.business(object.get('YelpURL')).then(response =&gt; {
     console.log(response.jsonBody.name);

    }).catch(e =&gt; {
     console.log(e);
    });
   }
  },

  error: function(error) {
   alert(""Error"" + error.code + "" "" + error.message);
  }

 });
</code></pre>
","2018-03-02 20:40:19","49077904","-1","<node.js><parse.com><yelp>","2","0"
"using Node.js to make request, Yelp API error","<p>I am writing my Node.js file now, which is to send requests to Yelp API and get the JSON response for client. I test my code in localhost.</p>

<p>I have seen the requesting url and both format and data are correct.</p>

<p>However, I get an error message when requesting this API:</p>

<blockquote>
  <p>connect ECONNREFUSED 127.0.0.1:443</p>
</blockquote>

<p>Here is my Node.js code:</p>

<pre><code>http.createServer(function (req, res) {
  // data from the client
  var some_data;

  // send a GET request to Yelp’s API
  var https = require('https');
  var yelpMatch_url = encodeURI(""https://api.yelp.com/v3/businesses/matches/best?some_data;

  var headers = {
     'Authorization': 'Bearer myAPI_KEY'
  };

  https.get({url: yelpMatch_url, headers: headers}, function(response) {
      var body = '';
      response.on('data', function (chunk) {
          body += chunk;
      });

      response.on('end', function () {
          // write response json
          res.write(body);
          res.end();
      });
  }).on('error', function(e) {
      console.log(e.message);
  });

}).listen(myPort);
</code></pre>

<p>Why this error ?</p>
","2018-03-23 08:13:30","","0","<node.js><api><server><request><yelp>","2","0"
"how to retrieve a url from a link on a website using Jsoup?","<p>Alright so I finished my Yelp scanner, and everything is running great. What I want to do now is have the program retrieve the url for each link to each business, go to that page, and scan for whether it contains:</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-html lang-html prettyprint-override""><code>xlink:href=""#30x30_bullhorn""&gt;&lt;/use&gt;</code></pre>
</div>
</div>
</p>

<p>I pretty much have a good idea of how I'm going to go about doing that, however, I can't seem to find a jSoup method that would retrieve a link's url. Is there somewhere in the page's HTML that would have the url? I'm not very proficient with HTML at all, so 90% of what I'm looking at is gibbering. Here's an example link if you want to check out what I'm referring to.</p>

<p><a href=""https://www.yelp.com/search?find_loc=nj&amp;start=10"" rel=""nofollow noreferrer"">https://www.yelp.com/search?find_loc=nj&amp;start=10</a> is the main page, that I need to obtain the url for the page <a href=""https://www.yelp.com/biz/la-cocina-newark"" rel=""nofollow noreferrer"">https://www.yelp.com/biz/la-cocina-newark</a>. The orange bullhorn is what I am trying to get it to retrieve. Here's my code btw:</p>

<pre><code>import java.util.ArrayList;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
import java.io.IOException;
import java.util.Scanner;

public class YelpScrapper
{
    public static void main(String[] args) throws IOException, Exception
    {        
        //Variables
        String description;
        String location;
        int pages;
        int parseCount = 0;
        Document document;

        Scanner keyboard = new Scanner(System.in);

        //Perform a Search
        System.out.print(""Enter a description: "");
        description = keyboard.nextLine();

        System.out.print(""Enter a state: "");
        location = keyboard.nextLine();

        System.out.print(""How many pages should we scan? "");
        pages = keyboard.nextInt();

        String descString = ""find_desc="" + description.replace(' ', '+') + ""&amp;"";
        String locString = ""find_loc="" + location.replace(' ', '+') + ""&amp;"";
        int number = 0;

        String url = ""https://www.yelp.com/search?"" + descString + locString + ""start="" + number;
        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();
        ArrayList&lt;String&gt; address = new ArrayList&lt;String&gt;();
        ArrayList&lt;String&gt; phone = new ArrayList&lt;String&gt;();

        //Fetch Data From Yelp
        for (int i = 0 ; i &lt;= pages ; i++)
        {

            document = Jsoup.connect(url).get();

            Elements nameElements = document.select("".indexed-biz-name span"");
            Elements addressElements = document.select("".secondary-attributes address"");
            Elements phoneElements = document.select("".biz-phone"");

            for (Element element : nameElements)
            {
                names.add(element.text());
            }

            for (Element element : addressElements)
            {
                address.add(element.text());
            }

            for (Element element : phoneElements)
            {
                phone.add(element.text());
            }

            for (int index = 0 ; index &lt; 10 ; index++)
            {
                System.out.println(""\nLead "" + parseCount);
                System.out.println(""Company Name: "" + names.get(parseCount));
                System.out.println(""Address: "" + address.get(parseCount));
                System.out.println(""Phone Number: "" + phone.get(parseCount));

                parseCount = parseCount + 1;
            }

            number = number + 10;

        }
    }
}
</code></pre>
","2016-11-23 16:26:05","","0","<java><html><url><jsoup><yelp>","1","0"
"YELP json to CSV","<p>I want to use Yelp.com academic data that is in json format and size in 125MB and 3GB .when i run this code for sample small file its work but for my task Yelp json data its give error that size is over .@Dan Loewenherz </p>

<pre><code>import json
import csv

with open(""data.json"") as file:
    data = json.load(file)

with open(""data.csv"", ""w"") as file:
    csv_file = csv.writer(file)
    for item in data:
        csv_file.writerow([item['pk'], item['model']] + item['fields'].values())
</code></pre>
","2017-10-26 17:57:30","","0","<json><csv><bigdata><yelp>","0","0"
"Any way to get a Restaurant menu from Yelp! API","<p>Trying to extract some menu data from a restaurant on Yelp using the v2.0 API. The only thing i am getting via the API response is a <code>menu_provider</code> field which i don't know how to use - any ideas?</p>
","2014-07-12 18:44:05","","2","<api><yelp>","1","0"
"Yelp authentication in http headers","<p>I'm simply trying to search for business location using the yelp api (<a href=""https://www.yelp.com/developers/documentation/v2/authentication"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v2/authentication</a>). However, I am unable to authenticate with their service despite adding the required fields to the header. Here is the code:</p>

<pre><code>    private func generateAuthorizationHeaders() -&gt; String {
    let consumer = ""oauth_consumer_key=\""\(consumerKey!)\""""
    let accessToken = ""oauth_token=\""\(token!)\""""
    let signatureMethod = ""oauth_signature_method=\""HMAC-SHA1\""""
    let signature = ""oauth_signature=\""\(token!.hmacsha1(key: tokenSecret!))\"""" //More than likely wrong
    let timestamp = ""oauth_timestamp=\""\(Int(Date.timeIntervalBetween1970AndReferenceDate))\""""
    let uniqueString = ""oauth_nonce=\""nvgnhvfvfvffvvf\""""
    return ""\(consumer),\(accessToken),\(signatureMethod),\(signature),\(timestamp),\(uniqueString)""
}

func search(for place: String, at location: CLLocationCoordinate2D) {
    let authorization = generateAuthorizationHeaders()
    let string = ""https://api.yelp.com/v2/search?term=\(place)&amp;ll=\(location.latitude),\(location.longitude)""
    let request = NSMutableURLRequest(url: NSURL(string: string) as! URL)
    request.httpMethod = ""GET""
    request.addValue(""application/json"", forHTTPHeaderField: ""Content-Type"")
    request.addValue(""\(authorization)"", forHTTPHeaderField: ""Authorization"")

    URLSession.shared.dataTask(with: request as URLRequest, completionHandler: {data, response, error in
       ... JSON stuff
    }).resume()
</code></pre>

<p>The error message I am receiving is:</p>

<pre><code>{
error =     {
    field = ""oauth_consumer_key"";
    id = ""MISSING_PARAMETER"";
    text = ""One or more parameters are missing in request"";
};
</code></pre>

<p>}</p>

<p>Can someone spot the problem? thank you.</p>
","2017-01-22 19:12:23","","1","<swift><oauth><yelp><hmacsha1>","0","1"
"How to use Yelp's new API","<p>I am pretty new to programing so I am sure this is not correct but its the best I can do based on my research. Thanks.</p>

<pre><code>import pandas as pd
import numpy as np
import requests
import yelp
requests.get(https://api.yelp.com/v3/autocomplete?text=del&amp;latitude=37.786882&amp;longitude=-122.399972,headers={'Authorization: Bearer &lt;API KEY that I have&gt;'})
</code></pre>

<p>My noob self tells me this is a dictonary</p>

<pre><code>headers={'Authorization: Bearer &lt;API KeY&gt;'}
</code></pre>

<p>I know this is prob 100% wrong so I would really love to learn more about using rest API's in Python. I am just doing this as a personal project. My overall goal is to be able to access yelps public data via API. For example, I want to get the reviews for business X.</p>

<p>Update</p>

<pre><code>requests.get(""https://api.yelp.com/v3/autocomplete?text=del&amp;latitude=37.786882&amp;longitude=-122.399972"",headers={'Authorization: Bearer &lt;API KEY&gt;'})
</code></pre>

<p>I now get the following error</p>

<pre><code>AttributeError: 'set' object has no attribute 'items'
</code></pre>
","2018-03-27 00:16:34","49502850","2","<python><python-3.x><api><yelp>","1","4"
"Initialization error with CDYelpFusionKit","<p>Trying to use the <a href=""https://github.com/chrisdhaan/CDYelpFusionKit"" rel=""nofollow noreferrer"">CDYelpFusionKit</a> api for an app, and I'm getting an error on the first step:</p>

<pre><code> let yelpAPIClient = CDYelpAPIClient(apiKey: ""myapikeyhere"")
</code></pre>

<p>It's saying that it's an </p>

<blockquote>
  <p>Use of unresolved identifier 'CDYelpAPIClient'</p>
</blockquote>

<p>but I have already installed the dependencies with cocoapods.</p>
","2018-05-21 20:48:04","50456520","0","<ios><swift><yelp>","1","0"
"Javascript OAuth for Yelp API","<p>I'm trying to retrieve information from the Yelp API for an HTML5/Javascript phone app I'm writing. I've been through quite a number of examples and keep receiving an error message stating:</p>

<blockquote>
  <blockquote>
    <p>/**/cb({""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: 
    GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026_%3D1405603996179%26callback%3Dcb%26location%3DSan%252BFrancisco%26oauth_consumer_key%3DXXX%26oauth_consumer_secret%3DXXX%26oauth_nonce%3DFGmffH%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1405603996%26oauth_token%3DXXX%26term%3Dfood""
    }})</p>
  </blockquote>
</blockquote>

<p>I've used the same code in a jsfiddle and having filled in my OAuth details get a perfect response with an array of 20 locations. So authentication from the web works but from the phone does not, given the same credentials. I suspect it may have something to do with the callback.</p>

<p>The project is written uses Apache Cordova through the Intel XDK ide. I've tested both in the emulator and on a device to the same end. The script that works online but not on my phone is available at <a href=""http://jsfiddle.net/93YKC/"" rel=""nofollow"">http://jsfiddle.net/93YKC/</a> but is really just a sample taken from an online forum I found in my trails. </p>

<pre><code>       $.ajax({
            'url' : message.action,
            'data' : parameterMap,
            'dataType' : 'jsonp',
            'jsonpCallback' : 'cb',
            'success' : function(data, textStats, XMLHttpRequest) {
                console.log(data);
            }
        });
</code></pre>

<p>I'm very open to suggestions as I'm contemplating implementing a Restful API to get the information from Yelp and pass it on to my app. This really isn't the way I'd like to get around this and would most likely contravene Yelp's fine print. </p>

<p>Stephen</p>
","2014-07-17 17:10:29","","0","<javascript><html5><oauth><intel-xdk><yelp>","1","0"
"Yelp API Produces Invalid Signature Error","<p>After looking at several articles online, StackOverflow, and the Yelp Google Group, I've been unable to figure out the problem to an <code>Invalid Signature</code> error being produced from my Yelp API request.</p>

<p>Here is the exact error:</p>

<pre><code>{'error': {'text': 'Signature was invalid', 'description': 'Invalid signature. Expected signature base string: [some text here with keys]}}
</code></pre>

<p>And the code I've written to go along with it:</p>

<pre><code>import rauth
import time

def get_results():

    #Obtain these from Yelp's manage access page
    consumer_key = ''
    consumer_secret = ''
    token = ''
    token_secret = ''

    session = rauth.OAuth1Session(
            consumer_key = consumer_key
            ,consumer_secret = consumer_secret
            ,access_token = token
            ,access_token_secret = token_secret)

    request = session.get(""http://api.yelp.com/v2/search?location=Boston&amp;term=food"")

    #Transforms the JSON API response into a Python dictionary
    data = request.json()
    print(data)
    session.close()

    return data

if __name__==""__main__"":
    print(get_results())
</code></pre>

<p>So what exactly is causing this error? I've done some modifications prior to this attempt, and the previous attempts I made I got similar errors; except one time I only got a ""<strong>Invalid Signature</strong>"" error, with no ""<strong>Expect signature base string</strong>"" message</p>
","2015-10-16 23:59:37","33265726","1","<python><yelp><oauth-1.0a>","2","0"
"Yelp-Android InvalidSignature Exception","<p>I'm following the steps from the readme on GitHub to hit the Yelp Search API: <a href=""https://github.com/Yelp/yelp-android"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-android</a> but it is yielding the following error and I'm not quite certain why my oauth_signature for the request is invalid:</p>

<pre><code>com.yelp.clientlib.exception.exceptions.InvalidSignature
</code></pre>

<p>I'm not doing anything special outside of the suggested setup: </p>

<pre><code>    YelpAPIFactory apiFactory = new YelpAPIFactory(Constants.YELP_CONSUMER_KEY, Constants.YELP_CONSUMER_SECRET, Constants.YELP_TOKEN, Constants.YELP_TOKEN_SECRET);
    YelpAPI yelpAPI = apiFactory.createAPI();

    Map&lt;String, String&gt; params = new HashMap&lt;&gt;();

    // general params
    params.put(""limit"", ""10"");
    params.put(""radius_filter"",""16094"");
    params.put(""cll"", latitude + "","" + longitude);

    final Call&lt;SearchResponse&gt; yelpDataCall = yelpAPI.search(getCity(latitude,longitude), params);

    yelpDataCall.enqueue(new Callback&lt;SearchResponse&gt;() {
        @Override
        public void onResponse(Call&lt;SearchResponse&gt; call, Response&lt;SearchResponse&gt; response) {
            int statusCode = response.code();
            SearchResponse yelpData = response.body();
            Timber.d(""Response status code: "" + statusCode + "" - "" + response.message());
            Timber.d(""GET &lt;-- "" + call.request().url().toString());
        }

        @Override
        public void onFailure(Call&lt;SearchResponse&gt; call, Throwable t) {
            Timber.d(""Response error code: "" + t.toString());
            Timber.d(""GET &lt;-- "" + call.request().url().toString());
        }
    });
</code></pre>

<p>The really strange thing is, this exact code worked just yesterday. I have tried setting up the call synchronously and well as asynchronously and both yield the same exception.</p>
","2017-02-08 16:37:37","","1","<android><api><retrofit><retrofit2><yelp>","0","0"
"Querying Yelp API in R returns invalid signature error","<p>I'm designing a Shiny app that will pull the top 10 bars near you from yelp and give them from you in a list. I'm trying to have it so that it will accept an address as an input. I'm currently working on the server end and when I try to pull the results using this code it throws this error:</p>

<p>""Error: No method asJSON S3 class: XMLAbstractDocument""</p>

<p>So when I try to call the prior step locationdataList it gives me a longer error message saying I have an invalid signature. Please help! Here's the code (API information concealed deliberately):</p>

<pre><code>consumerKey = ""xxxx""
consumerSecret = ""xxxx""
token = ""xxxx""
token_secret = ""xxxx""
require(httr)
require(httpuv)
require(jsonlite)
# authorization
myapp = oauth_app(""YELP"", key=consumerKey, secret=consumerSecret)
sig=sign_oauth1.0(myapp, token=token,token_secret=token_secret)
location &lt;- ""9500 Gilman Dr, San Diego CA 92092""

# 10 bars most near
proxGet &lt;- paste0(""http://api.yelp.com/v2/search/?limit=10&amp;term=bar&amp;location="",location,""&amp;"")
locationdata=GET(proxGet, sig)
locationdataContent = content(locationdata)
locationdataList=jsonlite::fromJSON(toJSON(locationdataContent))
head(data.frame(locationdataList))
</code></pre>
","2015-10-29 21:26:31","","0","<r><api><yelp><httr><jsonlite>","0","6"
"Experimenting with Yelp API PHP","<p>Getting the Error Message - <strong>Notice: Trying to get property of non-object in</strong> I'm trying to experiment/learn with the YELP API but I'm getting stuck with a simple error message, I can't seem to figure out. Following this: <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/php"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/php</a> </p>

<pre><code>function query_api($term, $location) {     
$response = json_decode(search($term, $location));
$business_id = $response-&gt;businesses[0]-&gt;id;

print sprintf(
    ""%d businesses found, querying business info for the top result \""%s\""\n\n"",         
    count($response-&gt;businesses),
    $business_id
);

$response = get_business($business_id);

print sprintf(""Result for business \""%s\"" found:\n"", $business_id);
print ""$response\n"";
</code></pre>

<p>}</p>

<p>Calling the function</p>

<pre><code>$longopts  = array(
""term::"",
""location::"",
);

$options = getopt("""", $longopts);

$term = $options['term'] ?: '';
$location = $options['location'] ?: '';

query_api($term, $location);   
</code></pre>
","2015-11-01 18:39:29","33465939","1","<php><api><yelp>","1","0"
"Parameters for Yelp API v3.0 Search for IOS","<p>I am using Yelp API v3.0 in my ios app development.
And I can't find how to set price filter to my search result.
For example, I wanna get the result with ""$$$"" , ""$$"".
At that time, I need to add a parameter about the price in the request to search.
According to the documentation, they tell me that the parameter name is ""price"" and to meet my demand, I can set price parameter as  ""2,3"".
But it doesn't work.
I hope yelp developers can help me!
Thank you.</p>
","2017-02-12 22:21:31","","1","<yelp>","0","0"
"argparse in nested function makes JSON go crazy?","<p>I have a question, with this code:</p>

<pre><code>#!/usr/bin/env python
# -*- coding: utf-8 -*-

# We import the requests module which allows us to make the API call
import requests
import argparse
import pyodbc                                                                       
import sys                                                                          
import json                                                                         

# Here we organize the choices command line aruments                                
parser = argparse.ArgumentParser()                                                  
parser.add_argument('--country', dest='country', default='NZ',                      
                    type=str, help=""input a country code"", metavar='')              
parser.add_argument('--location', dest='location', default= 'Auckland',             
                    type=str, help= ""enter a location"", metavar='')                 
parser.add_argument('--category', dest='category', default='movietheaters',         
                    type=str, help=""enter a business category"", metavar='')         
parser.add_argument('--limit', dest='limit', default='50',                          
                    type=int, help=""enter a limit"", metavar='')                     
parser.add_argument('--do', dest='do', default='show',                              
                    type=str, choices=['show', 'save'],                             
                    help=""arguments are show or save"", metavar='')                  
parser.add_argument('--SQL', dest='SQL',                                            
                    default='SELECT top 3 Country, City FROM worldcitiespop',       
                    type=str, help=""input a SQL statement"", metavar='')             
args = parser.parse_args()                                                          




# OAuth credential at https://www.yelp.com/developers/v3/manage_app\                
app_id = 'MYAPPID'                                                  
app_secret = 'MYAPPSECRET'      
data = {'grant_type': 'client_credentials',                                         
        'client_id': app_id,                                                        
        'client_secret': app_secret}                                                
token = requests.post('https://api.yelp.com/oauth2/token', data = data)             
access_token = token.json()['access_token']                                         
headers = {'Authorization': 'bearer %s' % access_token}                             



def get_movietheaters_for(country, city):                                           
    connection2 = pyodbc.connect('DRIVER={SQL Server};'                              
                            'SERVER=ASPIRES3;'                                      
                            'DATABASE=worldcitiespop;'                              
                            'UID=sqlninja;'                                         
                            'PWD=sqlninja')                                         
    cursor2 = connection2.cursor()                                                  
    # Call Yelp API to pull business data                                           
    # (Yelp v3 API: https://nz.yelp.com/developers/documentation/v3)                
    url = 'https://api.yelp.com/v3/businesses/search'                               
    params = {'cc': country,                                                        
              'location': city,                                             
              'categories': args.category,                                          
              'limit': args.limit}                                                  
    response = requests.get(url = url, headers = headers, params=params)            
    # if response.status_code == 200:                                               
    response_data = response.json()                                                 

    sqlStatement = ""INSERT INTO Yelp (ID, Name, City, Zip_code, Country, State, Address1, Address2, Address3, Latitude, Longitude, Phone) values (?,?,?,?,?,?,?,?,?,?,?,?)"" # Query
    # Here we go to store JSON elements for SQL
    for SQL_element in response_data['businesses']:
        SQL_ID = SQL_element['id']                                                      
        SQL_Name = SQL_element['name']                                                  
        SQL_City = SQL_element['location']['city']                                      
        SQL_Zip_code = SQL_element['location']['zip_code']                              
        SQL_Country = SQL_element['location']['country']                                
        SQL_State = SQL_element['location']['state']                                    
        SQL_Address1 = SQL_element['location']['address1']                              
        SQL_Address2 = SQL_element['location']['address2']                              
        SQL_Address3 = SQL_element['location']['address3']                              
        SQL_Latitude = SQL_element['coordinates']['latitude']                           
        SQL_Longitude = SQL_element['coordinates']['longitude']                         
        SQL_Phone = SQL_element['phone']                                                



        if args.do == 'show':   
            print (SQL_ID,SQL_Name,SQL_City,SQL_Zip_code,SQL_Country,SQL_State,
                SQL_Address1,SQL_Address2,SQL_Address3,SQL_Latitude,SQL_Longitude,SQL_Phone)
        elif args.do == 'save':    
            cursor2.execute(sqlStatement, SQL_ID,SQL_Name,SQL_City,SQL_Zip_code,SQL_Country,SQL_State,SQL_Address1,SQL_Address2,SQL_Address3,SQL_Latitude,SQL_Longitude,SQL_Phone)
            connection2.commit()

    if args.do == 'show':
        print ('\nTotal Cinemas found: ' , len(response_data['businesses']))
    elif args.do == 'save':
        print ('\nTotal Cinemas found and saved in database: ' , len(response_data['businesses']))

def SQLQuery():
    # We connect to SQL Server Management Studio
    connection = pyodbc.connect('DRIVER={SQL Server};'                                   
                                'SERVER=ASPIRES3;'                                      
                                'DATABASE=worldcitiespop;'                              
                                'UID=sqlninja;'                                         
                                'PWD=sqlninja')                                         
    cursor = connection.cursor()
    try:    
        cursor.execute(args.SQL)
        for country, city in cursor:
            get_movietheaters_for(country, city)
    finally:
        cursor.close()
        connection.close()  
SQLQuery()
</code></pre>

<p>I receive this error: </p>

<pre><code>Total Cinemas found:  11
Traceback (most recent call last):
  File ""Check.py"", line 107, in &lt;module&gt;
    SQLQuery()
  File ""Check.py"", line 103, in SQLQuery
    get_movietheaters_for(country, city)
  File ""Check.py"", line 64, in get_movietheaters_for
    for SQL_element in response_data['businesses']:
KeyError: 'businesses'
</code></pre>

<p>But <strong>only</strong> if I use argparse this way:</p>

<pre><code>python Check.py --country fr --location Toulouse --do show
</code></pre>

<p><a href=""https://i.stack.imgur.com/ssktw.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/ssktw.png"" alt=""enter image description here""></a></p>

<p>But if I use my second argparse option:</p>

<pre><code>python Check.py --SQL ""select top 1 Country, City from worldcitiespop where Country = 'fr' and City = 'Toulouse'"" --do show
</code></pre>

<p>Everything works fine: </p>

<p><a href=""https://i.stack.imgur.com/Yn6gl.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Yn6gl.png"" alt=""enter image description here""></a></p>

<p>So I think the root of the problem is <code>argparse</code>. Should I put it inside the function but also outside the function for the second option?</p>
","2017-06-01 06:58:28","","0","<python><json><argparse><yelp>","1","1"
"""INVALID_SIGNATURE"" in yelp API request","<p>i'm getting the following error when trying to make a get request to the yelp API (v2):</p>

<pre><code>/**/cb({""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: 

GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026_%3D1442688327244%26callback%3Dcb%26location%3DSan%252BFrancisco%26oauth_consumer_key%3DXI67kdnHbzVrvcY6jAfQKQ%26oauth_consumer_secret%3DWg3-20tFWx82F952ORa7ZIotsVE%26oauth_nonce%3DXQbTeX%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1442688327%26oauth_token%3Dazu7S1QVuyIhn-LrHvBWIMR99OXceUyY%26term%3Dfood""}})
</code></pre>

<p>Here is the request that I am making:</p>

<pre><code>http://api.yelp.com/v2/search?callback=cb&amp;callback=cb&amp;location=San%2BFrancisco&amp;oauth_consumer_key=XI67kdnHbzVrvcY6jAfQKQ&amp;oauth_consumer_secret=Wg3-20tFWx82F952ORa7ZIotsVE&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_token=azu7S1QVuyIhn-LrHvBWIMR99OXceUyY&amp;term=food&amp;oauth_timestamp=1442688327&amp;oauth_nonce=XQbTeX&amp;oauth_signature=boKHi1X0rcUfcic8EgOVpXQHi4M%3D&amp;_=1442688327244
</code></pre>

<p>How can I solve this error? Thank you :)</p>
","2015-09-19 18:46:50","","0","<javascript><api><oauth><http-status-code-400><yelp>","1","0"
"Accessing Yelp API on Javascript using XMLHttpsRequest","<p>I'm new to coding and right now I'm trying to use Yelp API on javascript using xmlhttpsrequest. When I use Postman to request API from Yelp, I get a response when I input my API key in the proper place and when I use the XHR code provided from the Postman and input it into my script and run it on html, I get an 403 error saying,</p>

<p>'Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. The response had HTTP status code 403.'</p>

<p>Can anyone recommend where I can start troubleshooting this again? 
Thank you.</p>
","2018-04-25 07:50:51","","0","<javascript><html><api><yelp>","0","1"
"Category Search in Yelp is not Filtering properly in nodejs. I have given category as ""Restaurants"" but my o/p is : parks and Playgrounds","<p>I have been trying to implement the business search in yelp fusion. But I couldn't get the results, I have given the category in order to get filtered 
 code:</p>

<pre><code>            function yelpSearchReuslt(latitude,longitude,radius,listOfResult){
                const searchRequest = {
                    categories:""Restaurants"",
                    latitude:latitude,
                    longitude:longitude,
                    radius:radius
                };
                const client = yelp.client(API_KEY);
                client.search(searchRequest).then(response =&gt; {
                    const firstResult = response.jsonBody.businesses;
                 })
</code></pre>

<p>In the o/p I am getting categories like Playground and parks
o/p:</p>

<pre><code>{
            ""id"": ""U2lT4qo4R80vsYKUFaBoCA"",
            ""alias"": ""lost-hills-wonderful-park-lost-hills"",
            ""name"": ""Lost Hills Wonderful Park"",
            ""image_url"": ""https://s3-media1.fl.yelpcdn.com/bphoto/t5y8zHqDfx5mN2v7wtvUxw/o.jpg"",
            ""is_closed"": false,
            ""url"": ""https://www.yelp.com/biz/lost-hills-wonderful-park-lost-hills?adjust_creative=KOlGv8v3EO9ZpCUlYru9eg&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_search&amp;utm_source=KOlGv8v3EO9ZpCUlYru9eg"",
            ""review_count"": 10,
            ""categories"": [
                {
                    ""alias"": ""playgrounds"",
                    ""title"": ""Playgrounds""
                },
                {
                    ""alias"": ""parks"",
                    ""title"": ""Parks""
                }
            ],
            ""rating"": 4.5,
            ""coordinates"": {
                ""latitude"": 35.6164124330499,
                ""longitude"": -119.689275188145
            },
            ""transactions"": [],
            ""location"": {
                ""address1"": ""14688 Lost Hills Rd"",
                ""address2"": """",
                ""address3"": """",
                ""city"": ""Lost Hills"",
                ""zip_code"": ""93249"",
                ""country"": ""US"",
                ""state"": ""CA"",
                ""display_address"": [
                    ""14688 Lost Hills Rd"",
                    ""Lost Hills, CA 93249""
                ]
            },
            ""phone"": ""+16614482149"",
            ""display_phone"": ""(661) 448-2149"",
            ""distance"": 13784.418058437912
        }
</code></pre>
","2018-05-26 10:25:28","","3","<node.js><yelp>","1","0"
"Yelp embedded widget width - wordpress","<p>I am facing an issue with a yelp widget on my website. Currently, I went to yelp website and copied the embed code from a review and pasted it into custom HTML widget using easy custom sidebars plug-in. </p>

<p><img src=""https://i.stack.imgur.com/K1hb2.png"" alt=""enter image description here""></p>

<p>The problem is the yelp review has a scrollbar to it. I did an inspect element on the yelp review and changed the min-width value and it seemed to fix the issue. But, this is only on the browser so when I hit on refresh it goes back to scrollbar. I tried to find the location of the css file and it has a url that I cannot access. </p>

<p>I attached a screenshot for reference. Image 1 is the yelp review with scrollbar and image 2 is css for it and same for Image 3 and 4.</p>

<p>Thank you in advance.  </p>

<p><img src=""https://i.stack.imgur.com/lCzlz.png"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/ljwKP.png"" alt=""enter image description here""></p>

<p><img src=""https://i.stack.imgur.com/cA5an.png"" alt=""enter image description here""></p>
","2018-05-27 17:44:58","","0","<css><wordpress><yelp>","0","0"
"Install yelp package using npm in meteor","<p>I am trying to install yelp package using npm in meteor.
 The commands provided is</p>

<pre><code> npm install yelp
</code></pre>

<p>in my config.js file </p>

<pre><code>yelp = Npm.require(""yelp"")
</code></pre>

<p>But i am getting an error as</p>

<pre><code>ReferenceError: module is not defined
W20151022-13:28:11.884(5.5)? (STDERR)     at 
app/node_modules/yelp/node_modules/oauth/lib/_utils.js:2:1
 W20151022-13:28:11.884(5.5)? (STDERR)     at
app/node_modules/yelp/node_modules/oauth/lib/_utils.js:6:3
</code></pre>

<p>Is this the right way to add npm module in meteor. Or i have to define it somewhere else? Thanks in advance.</p>
","2015-10-22 08:08:53","","1","<meteor><npm><yelp>","1","0"
"Target host must not be null JSON Request","<p>I am trying to make a query to Yelp API. However I keep getting this result</p>

<pre><code>{""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: GET\u0026https%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026category_filter%3DAmerican%26cc%3DAUll%253D-37.81107631570312%252C144.96785815805197%26limit%3D10%26oauth_consumer_key%3DyiuyLqUyFVE_-0tOCUkPhw%26oauth_nonce%3Db4f1509d-39ef-4206-8620-1d3dd278c842%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1445592027%26oauth_token%3DkrEbYb38zOb6Id9shO9bOMjBWuGhBnWz%26radius_filter%3D2000%26sort%3D1%26term%3DAmerican""}}
</code></pre>

<p>This is my code to generate the request and the Oauth signature itself.</p>

<pre><code>private static String hmacSha1(String value, String key)
        throws UnsupportedEncodingException, NoSuchAlgorithmException,
        InvalidKeyException {
    String type = ""HmacSHA1"";
    SecretKeySpec secret = new SecretKeySpec(key.getBytes(), type);
    Mac mac = Mac.getInstance(type);
    mac.init(secret);
    byte[] bytes = mac.doFinal(value.getBytes());
    return bytesToHex(bytes);
}

private final static char[] hexArray = ""0123456789abcdef"".toCharArray();

private static String bytesToHex(byte[] bytes) {
    char[] hexChars = new char[bytes.length * 2];
    int v;
    for (int j = 0; j &lt; bytes.length; j++) {
        v = bytes[j] &amp; 0xFF;
        hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];
        hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];
    }
    return new String(hexChars);
}
</code></pre>

<p>My request signature that I input into the hmacsha1 method is as follows</p>

<pre><code>String nonsense = UUID.randomUUID().toString();
    Long authSeconds = System.currentTimeMillis()/1000;
    String req = ""https://api.yelp.com/v2/search?""+
            ""&amp;category_filter="" + chosen+
            ""&amp;cc=AU""+
            ""ll="" + x + "","" + y+
            ""&amp;limit=10""+
            ""&amp;oauth_consumer_key="" + YELP_CONSUMER_KEY+
            ""&amp;oauth_nonce=""+nonsense+
            ""&amp;oauth_signature_method=HMAC-SHA1""+
            ""&amp;oauth_timestamp=""+authSeconds+
            ""&amp;oauth_token=""+YELP_TOKEN+
            ""&amp;radius_filter=2000""+
            ""&amp;sort=1""+
            ""&amp;term="" + chosen;
    String final_req = null;
    try{
        String signature = hmacSha1(URLEncoder.encode(req), YELP_TOKEN_SECRET);
        String arg = ""&amp;oauth_signature="";
        final_req = URLEncoder.encode(req+arg+signature);
    }catch(Exception e){
        Log.d(""YELPEXCEPTION"",e.toString());
    }
    new GetPlacesJSONFeed().execute(final_req);
</code></pre>

<p>My question is how can I correct this? Do i need to put a GET\ somewhere in the string that is passed? Also, I have followed the format that was stated in the error so my String should pass. Hope I can get help with this.</p>

<p>EDIT - I've placed a URL Encoder around my request line and it managed to send it through. However, I'm now getting this message </p>

<p>Target host must not be null, or set in parameters. scheme=null, host=null, path=<a href=""https://api.yelp.com/v2/search?&amp;category_filter=American&amp;cc=AUll=-37.80499706070189,144.9538392573595&amp;limit=10&amp;oauth_consumer_key=yiuyLqUyFVE_-0tOCUkPhw&amp;oauth_nonce=37230bd9-2b3b-4c2d-8d46-39c9c42da743&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=1445594839&amp;oauth_token=krEbYb38zOb6Id9shO9bOMjBWuGhBnWz&amp;radius_filter=2000&amp;sort=1&amp;term=American&amp;oauth_signature=36ab3eb5be7cec26c3dacb24cf7906b9426f589a"" rel=""nofollow"">https://api.yelp.com/v2/search?&amp;category_filter=American&amp;cc=AUll=-37.80499706070189,144.9538392573595&amp;limit=10&amp;oauth_consumer_key=yiuyLqUyFVE_-0tOCUkPhw&amp;oauth_nonce=37230bd9-2b3b-4c2d-8d46-39c9c42da743&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=1445594839&amp;oauth_token=krEbYb38zOb6Id9shO9bOMjBWuGhBnWz&amp;radius_filter=2000&amp;sort=1&amp;term=American&amp;oauth_signature=36ab3eb5be7cec26c3dacb24cf7906b9426f589a</a></p>
","2015-10-23 09:27:01","","0","<java><android><json><oauth><yelp>","1","0"
"Getting 401 error with Yelp Fusion API","<p>I read the authentication guide here on the site 
<a href=""https://www.yelp.com/developers/documentation/v3/authentication"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/authentication</a></p>

<p>It tells me to define the header as Authorization Bearer API_KEY.</p>

<pre><code>fetch('https://api.yelp.com/v3/businesses/search?term=food', {
'method': 'get',
'headers': {
    'Authorization': 'Bearer XXXX'
},
'mode': 'no-cors'
}).then(data =&gt; {
    console.log(data);
})
</code></pre>

<p>I keep getting status code 401. Am I defining my headers wrong?</p>
","2018-05-30 03:47:34","","0","<javascript><fetch><fetch-api><yelp>","0","1"
"How to integrate yelp v3 search api in android","<p>Currently I have used <code>yelp v2 search api</code> but this api will be deprecated after <strong>On June 30, 2018, API v2 will be discontinued and v2 endpoints will no longer work</strong> and now new version v3 is available and I could not find suitable example for it...</p>

<p>Please help me for integrate v3 search api in android.</p>

<blockquote>
  <p>GET
  <a href=""https://api.yelp.com/v3/businesses/search?term=delis&amp;latitude=37.786882&amp;longitude=-122.399972"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search?term=delis&amp;latitude=37.786882&amp;longitude=-122.399972</a></p>
</blockquote>

<p>Any help would be appreciated... Thanks</p>
","2018-05-30 06:44:30","","0","<java><android><yelp>","0","0"
"How to use Yelp api v3 in swift","<p>So long story short I want to be able to get reviews, images, etc. about locations and add them to a map. Using Yelp's api v3 seemed to be the best way to do this but i'm having trouble finding decent/updated/working documentation. </p>

<p>I looked here:
<a href=""https://github.com/codepath/ios_yelp_swift/tree/master/Yelp"" rel=""nofollow noreferrer"">https://github.com/codepath/ios_yelp_swift/tree/master/Yelp</a></p>

<p>but it is outdated(both version of api and swift)</p>

<p>I did manage to find this updated doc. on v3:
<a href=""https://github.com/Yelp/yelp-fusion/tree/master/fusion/swift"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-fusion/tree/master/fusion/swift</a></p>

<p>but the code doesn't work. </p>

<p>I also looked through just about ever question/thread on here about yelp's api but most question are outdated or never answered.</p>

<p>But from my understanding of looking through other questions, in order to use the api I have to create a HTTP GET request, change authorization, and decode the data with the url: <a href=""https://api.yelp.com/v3"" rel=""nofollow noreferrer"">https://api.yelp.com/v3</a> (but with my desired terms and such) but the documentation yelp provides doesn't include any of that?</p>

<p>My question is, can anyone provide a full example (or link) of using the v3 api in swift properly or provide some clarity about how to use it?</p>

<p>Any help would be appreciated</p>
","2018-05-30 16:01:04","50634926","-3","<swift><yelp>","1","0"
"Unknown category error","<p>When I use the category property I see this error:</p>

<blockquote>
  <p>Fatal error: Uncaught CloudRail\Error\IllegalArgumentError: Illegal
  argument used: Unknown category. in
  ...\vendor\cloudrail\library-php\src\Service\GooglePlaces.php</p>
</blockquote>

<p>Without category all work fine.
My code:</p>

<pre><code>$cr_service = load_cloudrail_service('GooglePlaces');
$retrievedPOIs = $cr_service-&gt;getNearbyPOIs(50.45594, 30.465612, 40000, '', ['restaurant']);

function load_cloudrail_service($serviceName = 'Foursquare') {
  global $options;

  Settings::$licenseKey = $options['cr_key'];

  switch ($serviceName) {
    case 'Foursquare':
    $result = new Foursquare( $options['fsquare_id'], $options['fsquare_secret'] );
    break;
    case 'Yelp':
    $result = new \CloudRail\Service\Yelp( $options['yelp_key'] );
    break;
    case 'GooglePlaces':
    $result = new GooglePlaces( $options['gplaces_key'] );
    break;
  }
  return $result;
}
</code></pre>

<p>The same error with other services. What wrong? Thank you.</p>
","2018-06-01 06:30:56","","0","<php><foursquare><google-places><yelp><cloudrail>","0","0"
"cll parameters in Yelp API iOS","<p>I am trying to integrate Yelp's search and business APIs into my app. However, i'm running into some issues. I want to give the yelp geocoder a businesses latitude and longitude. According to Yelps Developer website</p>

<p><a href=""https://i.stack.imgur.com/AD9z0.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/AD9z0.png"" alt=""How to add CLL param""></a></p>

<p>This is very vague and I don't really know what/ how to implement the cll parameters. 
Here is the yelp api i'm using</p>

<p><a href=""https://i.stack.imgur.com/KUUtT.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/KUUtT.jpg"" alt=""enter image description here""></a></p>

<p><a href=""https://i.stack.imgur.com/Fl9pt.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/Fl9pt.jpg"" alt=""enter image description here""></a></p>

<p>I don't really know where/how to implement these cll parameters, so any help with that would be great. For the full API i'm using, you can access it here: <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/objective-c"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-api/tree/master/v2/objective-c</a></p>

<p>Any help would be greatly appreciated!</p>
","2015-07-24 07:02:44","","1","<ios><objective-c><swift><yelp>","0","0"
"Android app development advice","<p>I want to create an Android application that utilizes a map feature that similar to what Yelp uses with creating a visual directory of businesses in the area. </p>

<p>I am a beginner but I am eager to learn. I'm merely posting this question to get some pointers on this task. </p>

<p>Your help would be much appreciated! </p>
","2014-05-27 00:50:57","23879718","0","<android><maps><yelp>","1","0"
"Sample swift code for Yelp 2.0 API","<p>I'm a naive developer trying my hand on Swift. I'm trying to find some code samples / tutorials / for using Yelp search ( 2.0 ) api call using Swift. I think I can use NSURLSession for rest call but not sure how to make oauth work.</p>
","2015-07-25 05:40:11","","2","<ios><swift><rest><oauth-2.0><yelp>","0","1"
"Yelp API call from Typescript","<p>I've got some code in node js that i need for a simple web app that i'm working on, however it needs to be written in typescript. The app i am working on will call the yelp api and receive data on food deals around an input location. I'm unsure about how to write up this code in typescript and how it will integrate with the html/css side of things. Or is there a better way to make a yelp API call using Typescript? This is the code:</p>

<pre><code>var express = require('express');
var app = express();
var OAuth = require('oauth-request');
app.set('port', (process.env.PORT || 3000));// checks for environment variable port

app.use(function(req, res, next) {
  res.header(""Access-Control-Allow-Origin"", ""*"");
  next();
});

app.get('/getdealsforlocation', function (req, res) {
  var data = OAuth({
      consumer: {
          public: 'zyiAgV9Jbea1BSrpVPFl0w',
          secret: 's-jcY90vXvG9UOx8pYE8g0WOosw'
      }
  });

  data.setToken({
      public: 'vfZcastyjgwkfXaDKtczSLY8JVBW943B',
      secret: 'F8-P5ZsXTkhEH_brQfVdeZAPLDs'
  });

//list user timeline
  data.get('https://api.yelp.com/v2/search?cll='+ req.query.lat + ',' + req.query.lon +'&amp;location=' + req.query.location + '&amp;deals_filter=true&amp;term=food&amp;radius_filter='+35000, function(err, thing, data) {//req.query.radius_filter, function(err, thing, data) {
    res.setHeader('Content-Type','application/json');
      if(err){
          console.log(err);
      }
      var filteredData = filterData(JSON.parse(data))//(data);
      res.send(filteredData);//data);
  });
});

app.get('/hello', function(request, response) {
    response.send('Hello World!')
});

function filterData(data) { //data from API call is fed in
  var filteredData = []; //array for filtered data
  var businesses = data.businesses;
  businesses.map(function(business){//loops through each element in businesses array
      var businessObject = {};//create businessObject which will store the details of a business
      businessObject.name = business.name;
      businessObject.deals = business.deals;
      businessObject.address = business.location.display_address;
      businessObject.coordinates = business.location.coordinate
      filteredData.push(businessObject);//appends businessObject into the filteredData array
  });
  return filteredData;

}

app.listen(app.get('port'), function () {//listens on allocated port
  console.log('Example app listening on port ' + app.get('port') + '!');
});
</code></pre>
","2016-09-02 11:04:52","","1","<javascript><node.js><typescript><oauth><yelp>","0","0"
"Rails - How to send front-end javascript data retrieved from an external API to the controller","<p>As the question states, I want to retrieve some coordinates from an external API (the google maps API) and send it to my controller. Currently I am using jQuery/Ajax but I am getting a 500 internal server error. I googled the error and it appears that I may be making a cross-domain ajax request. Here is the relevant javascript and controller code:</p>

<p>Javascript:</p>

<pre><code>//google maps API code goes here. The points variable ultimately gives me an object with an array of coorindates. 
var points = polyline.GetPointsAtDistance(16000);

$.ajax({
    type: ""POST"",
    url: '/pages/calculate',
    mydata: points,
    success: function(response) {
    //do something with the response here
    }
});
</code></pre>

<p>Controller:</p>

<pre><code>def calculate
    x = params[:mydata]
    #do something with x ...
end
</code></pre>

<p>Is it possible to send this javascript data to my controller? Can I somehow submit the data using a hidden form instead? Or, if I want to manipulate the google maps data on the backend, do I have to use a google maps gem and perform all my data manipulation on the backend? </p>
","2015-06-24 19:23:29","","1","<javascript><ruby-on-rails><ajax><google-maps><yelp>","1","1"
"Authenticating with Yelp","<p>I am trying to build an small application in that i am allowing user to register a business. to avoid creation of fake business profiles i want to make the registration(Authentication) via YELP.Is there any way out i can achieve this with yelp.I read that the Yelp API uses oAuth1.0a to authorize and identifiy the API caller not the end user that might be using the application.Any help appreciated
Regards,
Bijesh</p>
","2013-02-26 10:37:57","15256774","0","<javascript><oauth><yelp>","1","0"
"Retrieve the reviews of a particular user on Yelp using Python","<p>Given a user ID on YELP.com, how can I fetch the reviews written by that person? PS, I'm using yelpapi package in Python. My code is simple and as an example to search for a specific term I have it is something like the following. But I need to search based on a ""user_id"" instead of ""term"" or ""location"" in my example. Apparently search_query doesn't have any argument for user ID.</p>

<pre><code>from yelpapi import YelpAPI
from pprint import pprint


CONSUMER_KEY = ''
CONSUMER_SECRET = ''
TOKEN = ''
TOKEN_SECRET = ''


yelp_api = YelpAPI(CONSUMER_KEY, CONSUMER_SECRET, TOKEN, TOKEN_SECRET)

response = yelp_api.search_query(term = 'Restaurant', location = 'Prodidence, RI',
                                 sort = 2, limit = 1)
pprint(response)
</code></pre>
","2015-06-29 19:29:50","","-1","<python><api><yelp><review>","1","2"
"Json-Opening Yelp Data Challenge's data set","<p>I am interested in data mining and I am writing my thesis about it. For my thesis I want to use yelp's data challenge's data set, however i can not open it since it is in json format and almost 2 gb. In its website its been said that the dataset can be opened in phyton using mrjob, but I am also not very good with programming. I searched online and looked some of the codes yelp provided in github however I couldn't seem to find an article or something which explains how to open the dataset, clearly.
Can you please tell me step by step how to open this file and maybe how to convert it to csv?</p>

<p><a href=""https://www.yelp.com.tr/dataset_challenge"" rel=""nofollow"">https://www.yelp.com.tr/dataset_challenge</a></p>

<p><a href=""https://github.com/Yelp/dataset-examples"" rel=""nofollow"">https://github.com/Yelp/dataset-examples</a></p>
","2016-02-23 21:26:43","","2","<json><dataset><yelp><mrjob>","3","4"
"Yelp API Validation_Error when making post request","<p>I'm trying to get an access token from the Yelp API and have read the instructions from the developers page as well as the documentation for requests and when I try to make the request, it returns <code>{""error"": {""code"": ""VALIDATION_ERROR"", ""description"": ""/oauth2/token/""}}</code> I looked up error codes on the Yelp developer page but didn't find this error code.</p>

<pre><code>import json
from pip._vendor import requests
clientID= 'my id as a string'
clientSecret ='my secret as a string'
par = {'grant_type' : 'client_credentials', 'client_id':clientID,'client_secret':clientSecret}
content = requests.post('https://api.yelp.com/oauth2/token/',params=par)
print(content.text)
</code></pre>

<p>Can someone please help me see what's wrong? Thanks in advance.</p>
","2016-11-06 17:47:49","","0","<python><api><yelp>","1","0"
"Need To Resolve Yelp API Response Error: “Signature is invalid”","<p>My issue is when I try and fetch the Yelp API I keep getting this error time after time and i'm not sure why i've checked all the parameters and still cant get anything back from Yelp</p>

<p><strong>My Yelp API Fetch Link -</strong> </p>

<a href=""https://api.yelp.com/v2/search?term=food&amp;ll=37.788022,-122.399797&amp;"" rel=""nofollow"">https://api.yelp.com/v2/search?term=food&amp;ll=37.788022,-122.399797&amp;</a><em>oauth_consumer_key</em>=<strong>MY_Consumer_Key</strong>&amp;oauth_token=<strong>MY_TOKEN</strong>&amp;<em>oauth_signature_method</em>=<strong>HMAC-SHA1</strong>&amp;<em>oauth_signature</em>=<strong>TOKEN_SECRET</strong>&amp;<em>oauth_timestamp</em>=<strong>1456337018</strong>&amp;<em>oauth_nonce</em>=<strong>1456337018</strong>

<p><br>
<strong>My Error -</strong></p>

<h3>error: {</h3>

<pre><code>  text: ""Signature was invalid"",
  id: ""INVALID_SIGNATURE"",
  description: ""Invalid signature. Expected signature base string:          
</code></pre>

<p><strong>GET&amp;https%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch&amp;ll%3D37.788022%252C-122.399797%26oauth_consumer_key%3DG02O6tXnFkSbsGYOJxCQDw%26oauth_nonce%3D1456337018%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1456337018%26oauth_token%3DBPMpqKrD4dA4xGGHKtC_-xitzb5LRNn8%26term%3Dfood""</strong>
}</p>
","2016-02-24 18:22:20","","0","<api><oauth><yelp>","1","0"
"Why does Yelp v2 Search by Phone API return (400) bad request?","<p>I am trying to upgrade to the latest Yelp API v2. I have implemented the v1 API, which has been working for years.</p>

<p>The URI I am passing: ""<a href=""http://api.yelp.com/v2/phone_search?phone=2127507100&amp;cc=US"" rel=""nofollow"">http://api.yelp.com/v2/phone_search?phone=2127507100&amp;cc=US</a>""</p>

<p>(I tried it without the cc=US first).</p>

<p>The error message: ""The remote server returned an error: (400) Bad Request.""
(Inner Exception is null)</p>

<p>Yelp v1 is working fine and I am certain the daily limit has not been reached.</p>

<p>Here is the C# code:</p>

<pre><code>    public Stream GetYelpResponse(string uri)
    {
        try
        {
            HttpWebRequest webRequest = WebRequest.Create(uri) as HttpWebRequest;
            webRequest.Timeout = 60 * 1000;
            webRequest.Method = ""GET"";

            using (WebResponse response = webRequest.GetResponse())
            {
                using (var stream = response.GetResponseStream())
                {
                    return stream;
                }
            }
        }
        catch (Exception ex)
        {
            Util.WriteDBLog(""GetYelpResponse"" + uri, ex.Message);
            return null;
        }
    }
</code></pre>

<p>I posted this question on the Yelp forum, but haven't received a single response.</p>

<p>Any help is much appreciated.</p>
","2015-07-04 17:51:04","","0","<c#><api><webforms><yelp>","1","1"
"Yelp API Not working with Angular but works with JQuery","<p>I am building an angular application, where I am using both the Yelp search as well as business api. While, I am able to get data using search API and display it. When I am further using the restaurant id to get the details using business API, I am seeing something weird. When I use callback as angular.callbacks._0, the data does not come the first time the page loads(only comes after page refresh). And when I used callback as angular.callbacks._1, data comes the first time, but vanishes from the view after page refresh. Let me know If I am doing the API call correctly. I am attaching the YelpService that I have created . Problem is when I call : findRestDetailsbyId().</p>

<p>Note : Yelp requires Oauth and datatype is JSONP.</p>

<p>But when I tried with JQuery ajax call for the Business search api, it works fine. Is there a known problem with JSONP data and Angular callback??</p>

<p>I didn't find much help with this weird issue.</p>

<p>Posting code(This does not work):
YelpService:</p>

<pre><code>""use strict"";
(function () {
angular
    .module(""RestApp"")
    .factory(""YelpService"",yelpService);

function yelpService($http){
    var api = {
        findRestbyNameLocation: findRestbyNameLocation,
        findRestDetailsbyId: findRestDetailsbyId
    };
    return api;

    function findRestbyNameLocation(restname, location, callback){
        if(!restname){
            restname="""";
        }
        var accessor = {
            consumerSecret: auth.consumerSecret,
            tokenSecret: auth.accessTokenSecret
        };
        var parameters = [];
        parameters.push(['term', restname]);
        parameters.push(['location', location]);
        parameters.push(['limit', 10]);
        parameters.push(['category_filter', 'restaurants']);
        parameters.push(['callback', 'angular.callbacks._0']);
        parameters.push(['oauth_consumer_key', auth.consumerKey]);
        parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
        parameters.push(['oauth_token', auth.accessToken]);
        parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
        var message = {
            'action': 'http://api.yelp.com/v2/search',
            'method': 'GET',
            'parameters': parameters
        };
        OAuth.setTimestampAndNonce(message);
        OAuth.SignatureMethod.sign(message, accessor);
        var parameterMap = OAuth.getParameterMap(message.parameters);
        parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature);

        $http.jsonp(message.action, {params: parameterMap}).success(callback);

    }

    function findRestDetailsbyId(restId, callback){
        var accessor = {
            consumerSecret: auth.consumerSecret,
            tokenSecret: auth.accessTokenSecret
        };
        var parameters = [];
        parameters.push(['callback', 'angular.callbacks._0']);
        parameters.push(['oauth_consumer_key', auth.consumerKey]);
        parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
        parameters.push(['oauth_token', auth.accessToken]);
        parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
        var message = {
            'action': 'http://api.yelp.com/v2/business/'+restId,
            'method': 'GET',
            'parameters': parameters
        };
        OAuth.setTimestampAndNonce(message);
        OAuth.SignatureMethod.sign(message, accessor);
        var parameterMap = OAuth.getParameterMap(message.parameters);
        parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature);

        $http.jsonp(message.action, {params: parameterMap})
            .success(callback)
            .error(function(error){
                console.log(""Error findRestDetailsbyId: "", error)
            });

    }

}
})();
</code></pre>

<p>controller that calls the above service:</p>

<pre><code>""use strict"";
(function () {
angular
    .module(""RestApp"")
    .controller(""DetailController"", DetailController);

function DetailController($scope, $routeParams, YelpService){
    $scope.restId = $routeParams.restId;

    YelpService.findRestDetailsbyId(
        $scope.restId,
        function(response){

            console.log(response);
            $scope.rest = response;
        }
    )
}
})();
</code></pre>

<p>Yelp service with Jquery ajax call: (<strong>THIS WORKS</strong>)</p>

<pre><code>""use strict"";
(function () {
    angular
        .module(""RestApp"")
        .factory(""YelpService"",yelpService);

    function yelpService($http){
        var api = {
            findRestbyNameLocation: findRestbyNameLocation,
            findRestDetailsbyId: findRestDetailsbyId
        };
        return api;

        function findRestbyNameLocation(restname, location, callback){
            if(!restname){
                restname="""";
            }
            var accessor = {
                consumerSecret: auth.consumerSecret,
                tokenSecret: auth.accessTokenSecret
            };
            var parameters = [];
            parameters.push(['term', restname]);
            parameters.push(['location', location]);
            parameters.push(['limit', 10]);
            parameters.push(['category_filter', 'restaurants']);
            parameters.push(['callback', 'angular.callbacks._0']);
            //parameters.push(['callback', 'JSON_CALLBACK']);
            parameters.push(['oauth_consumer_key', auth.consumerKey]);
            parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
            parameters.push(['oauth_token', auth.accessToken]);
            parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
            var message = {
                'action': 'http://api.yelp.com/v2/search',
                //'action': 'http://api.yelp.com/v2/search?callback=JSON_CALLBACK',
                'method': 'GET',
                'parameters': parameters
            };
            OAuth.setTimestampAndNonce(message);
            OAuth.SignatureMethod.sign(message, accessor);
            var parameterMap = OAuth.getParameterMap(message.parameters);
            parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature);

            $http.jsonp(message.action, {params: parameterMap}).success(callback);

        }
        function randomString(length) {
            var text = """";
            var possible = ""ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"";
            for(var i = 0; i &lt; length; i++) {
                text += possible.charAt(Math.floor(Math.random() * possible.length));
            }
            return text;
        };

        function findRestDetailsbyId(restId, callback){
            var accessor = {
                consumerSecret: auth.consumerSecret,
                tokenSecret: auth.accessTokenSecret
            };
            var parameters = [];
            parameters.push(['callback', 'angular.callbacks._0']);
            //parameters.push(['callback', 'JSON_CALLBACK']);
            parameters.push(['oauth_consumer_key', auth.consumerKey]);
            parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
            parameters.push(['oauth_token', auth.accessToken]);
            parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
            var message = {
                'action': 'http://api.yelp.com/v2/business/'+restId,
                'method': 'GET',
                'parameters': parameters
            };
            OAuth.setTimestampAndNonce(message);
            OAuth.SignatureMethod.sign(message, accessor);
            var parameterMap = OAuth.getParameterMap(message.parameters);
            parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature);

            //$http.jsonp(message.action, {params: parameterMap})
            //    .then(function(response){
            //        console.log(response);
            //    }, function(error){
            //        console.log(error);
            //        $http.jsonp(message.action, {params: parameterMap})
            //            .then(function(res){
            //                console.log(res);
            //            });
            //
            //    });


            $.ajax({
                'url': message.action,
                'data': parameterMap,
                'cache': true,
                'dataType': 'jsonp',
                'jsonpCallback': 'cb',
                success: callback
            });

            //$.ajax({
            //    url: message.action,
            //    data: {params: parameterMap},
            //    dataType: 'jsonp',
            //    success: function(response) {
            //        console.log(response);
            //    }
            //})

                //.success(
                //    function(response) {
                //        console.log(response);
                //    }
                //)
                //.catch(function(data, status, headers, config){
                //    console.log(data);
                //});
        }

    }
})();
</code></pre>

<p>Controller that gets data from above service:</p>

<pre><code>""use strict"";
(function () {
    angular
        .module(""RestApp"")
        .controller(""DetailController"", DetailController);

    function DetailController($scope, $routeParams, YelpService){
        $scope.restId = $routeParams.restId;

        YelpService.findRestDetailsbyId(
            $scope.restId,
            function(response){
                console.log(response);
                $scope.rest = response;
                $scope.$apply();
            }
        )
    }
})();
</code></pre>
","2016-02-25 19:21:55","","1","<jquery><angularjs><jsonp><yelp>","0","0"
"Yelp API Python Not Getting Any Results","<p>I am using sample.py: <a href=""https://github.com/Yelp/yelp-fusion/blob/master/fusion/python/sample.py"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-fusion/blob/master/fusion/python/sample.py</a></p>

<p>Provided by Yelp Fusion. I have inserted my API_KEY where it is necessary and I am not sure what else I need to do to receive results. This is currently what I see when I run sample.py.</p>

<pre><code>PS C:\Users\jacob\OneDrive\Documents\se319\yelp-fusion\fusion\python&gt; python sample.py
Querying https://api.yelp.com/v3/businesses/search ...
No businesses for dinner in San Francisco, CA found.
PS C:\Users\jacob\OneDrive\Documents\se319\yelp-fusion\fusion\python&gt;
</code></pre>

<p>Here is what happens when I print the args that are in the request function:</p>

<pre><code>PS C:\Users\jacob\OneDrive\Documents\se319\yelp-fusion\fusion\python&gt; python sample.py
Querying https://api.yelp.com/v3/businesses/search ...

https://api.yelp.com //this is the host

/v3/businesses/search //this is the path

(Censored API Key) //api key correctly prints out

{'term': 'dinner', 'location': 'San+Francisco,+CA', 'limit': 3} //url params

No businesses for dinner in San Francisco, CA found.
</code></pre>

<p>I added spaces in between for readability.</p>

<p>When I add a print option at response = search(API_KEY, term, location)</p>

<p>Querying <a href=""https://api.yelp.com/v3/businesses/search"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search</a> ...
{'error': {'code': 'TOKEN_INVALID', 'description': 'Invalid access token or authorization header.'}}
No businesses for dinner in San Francisco, CA found.</p>

<p>Could someone point me in the right direction to fix this issue please?</p>

<p>EDIT: I didn't have the full API key pasted. Rookie mistake.</p>
","2018-02-14 18:09:52","","0","<python><api><yelp>","0","11"
"pod install YelpAPI producing error","<p>I have setup CocoaPods in my project and successfully installed AFNetworking so I know I am good there...</p>

<p>When I try to install 'YelpAPI', I receive this error in my terminal...</p>

<p>[!] The platform of the target <code>ForTheTroops</code> (iOS 9.3) is not compatible with <code>YelpAPI (1.0.3)</code>, which does not support <code>ios</code>.</p>

<p>I can't seem to figure out why and I can't find any instructions to set this up properly... even in Yelp's developer site.</p>

<p>Here's a screenshot of my podfile as well.</p>

<p><a href=""http://i.stack.imgur.com/JayMY.png"" rel=""nofollow"">Podfile</a></p>
","2016-06-15 03:59:54","38007514","1","<ios><swift><api><cocoapods><yelp>","3","5"
"How to post a review using Yelp API?","<p>I know we can search posted reviews on Yelp using Yelp Review Search API. Is it possible to post a review using Yelp API?</p>
","2011-06-12 09:46:26","6321301","4","<yelp>","2","0"
"iPhone App: Yelp Api integration problem","<p>in My iPhone App I want to integrate Yelp API</p>

<p>for that I download Yelp example from GitHub</p>

<p>I tried to Add All library files ,both Frameworks for Yelp and Github into my project</p>

<p>but still I am not able to  reference the files which are in framework""s Header.</p>

<p>like:GHAsyncTestCase and it is giving message  can not find interface declaration ""GHAsyncTestCase"" superClass of AOuthTest</p>

<p>What could be wrong ?</p>

<p>please help me to integrate it and if possible explain me all required steps to integrate it into my project.  </p>

<p>Thanks</p>
","2011-07-28 10:08:44","6897357","2","<iphone><objective-c><cocoa-touch><yelp>","1","10"
"Ajax Yelp API Call from Javascript","<p>I'm trying to make a call to the Yelp API from JavaScript, but getting an error. Below is my code. I believe I will have to use Oauth, but I don't know where should I put it in the header.</p>

<pre><code>function doAjax(){
    var xhr = new XMLHttpRequest();
    var url = ""http://api.yelp.com/v2/searchterm=cream+puffs&amp;location=chicago"";
    xhr.onreadystatechange = function(){
        if(xhr.readyState == 4 &amp;&amp; xhr.status == 200){
        var some = JSON.parse(xhr.responseText);
        }
    }
    xhr.open('GET', url, true);
    xhr.send();
}
</code></pre>
","2015-04-24 21:58:17","","1","<javascript><ajax><api><yelp>","1","3"
"Google maps with a Yelp search overlay","<h2>Original Question:  I am trying to embed a map in my site with search results overlayed on it, for instance all the bars or hospitals in the vicinity.  I know this is a common thing to do - but I am having a hard time finding example code or a tutorial on how to do this.  Can anyone provide me some pointers?</h2>

<p>What I ended up doing was using Google maps to search on the address, then do a 'search nearby' and copy the embed code that Google provides.  Then I used innerHtml to swap that embed code out based on the checkbox clicked (whether it by bars, stores, etc) - for example:</p>

<pre><code>    var bars       = 'embed map code from Google Maps';

            if(document.getElementById('ChkBar').checked) {
        document.getElementById('MapBlock').innerHTML = bars;
    }
</code></pre>

<p>This was a work around from trying to figure out the Yelp API and manually placing markers on the map provided from the Google maps API.  </p>

<p>The only problem with this solution is that the embed code provided strips out the marker for the location that you did the ""search nearby"" for - even though it appears in the map displayed when you did the ""search nearby"".   I tried using custom google maps - where you are supposed to be able to add custom markers as shown here: (http://insideout.com/blog/2012/02/26/create-a-custom-google-map-for-your-blog-post-imw/) but the embed code provided by Google will not work - in fact it gives you the message:  ""This map can not be embedded"" - I think this is due to licensing issues.  I have tried other map sites with the same result...</p>

<p>This leaves me with two questions:  Does anyone know of a site that provides embed code that will display the marker for the location search around as well as markers for the locations returned from the search?  Based on what I have done the past day I think this is unlikely - but possible so worth asking.</p>

<p>If not - then I am left to using the yelp API and manually place markers on a google map provided by the google map API.  I have the google api figured out.  The Yelp API I am having problems with.  Does anyone know of a good tutorial or have sample code that extracts location information from a yelp search through the yelp api?</p>

<p>Thanks in advance.        </p>
","2012-11-12 21:59:56","13581356","1","<search><yelp>","1","0"
"Yelp V2 API INVALID_SIGNATURE Error in response in iPhone","<p>I am using yelp V2 API in my app. Till now I was getting proper response(result) from yelp, but now I am getting below response for same request using same API key. I requesting for restaurant and food detail in any particular area.</p>

<hr>

<p>my request :</p>

<p><a href=""http://api.yelp.com/v2/search?term=mcdonalds&amp;location=la&amp;category_filter=restaurants,food"" rel=""nofollow"">http://api.yelp.com/v2/search?term=mcdonalds&amp;location=la&amp;category_filter=restaurants,food</a></p>

<p>yelp response :</p>

<pre><code>error =     {
description = ""Invalid signature. Expected signature base string: GET&amp;http%3A%2F%2Flocalhost%2Fv2%2Fsearch&amp;category_filter%3Drestaurants%252Cfood%26location%3Dla%26oauth_consumer_key%3DQcDLfDCmeSlI**********%26oauth_nonce%3DAC37FDC4-11A1-40EA-AD66-B402E7D54EFD%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1317792252%26oauth_token%3DRYQ0HAfm0oQMqcASn5QDofj23ipsoH1-%26oauth_version%3D1.0%26term%3Dmcdonalds"";

id = ""INVALID_SIGNATURE"";

text = ""Signature was invalid"";
    };
</code></pre>

<hr>

<p>I am not getting what is the problem exactly. So please help me for the same...</p>

<p>Thanks in advance.</p>
","2011-10-05 07:54:58","","3","<iphone><objective-c><yelp>","1","1"
"Yelp Business API 2.0 List Reviews with PHP","<p>I am using the Yelp Business API v2.0 as documented at <a href=""http://www.yelp.com/developers/documentation/v2/business"" rel=""nofollow"">http://www.yelp.com/developers/documentation/v2/business</a></p>

<p>My goal is to list three reviews of a specific business, using PHP to make the API call and retrieve the json. I seem to only be able to fetch one review, however, with the API. I have the script prepared to loop and display all reviews returned. How can I call the API to retrieve more than one review?</p>

<p>I tried using the search API instead but it didn't seem to show multiple reviews either.</p>

<pre><code>$unsigned_url = ""http://api.yelp.com/v2/business/[the-business-name]"";

...

// Handle Yelp response data
$response = json_decode($data, TRUE);

// for business API
foreach($response['reviews'] as $item) {
    print '&lt;img src=""' . $item['user']['image_url'] . '"" alt="""" /&gt; ';
    print $item['user']['name'];
    print ' ';
    print '&lt;img src=""' . $item['rating_image_url'] . '"" alt="""" /&gt;&lt;br/&gt;';
    print $item['excerpt'];
}
</code></pre>
","2014-02-23 00:50:48","22443320","2","<php><json><yelp>","1","0"
"YelpSharp returns error ""Additional information: No OAuth info available.""","<p>I am using @JustinBeckwith's project <a href=""https://github.com/JustinBeckwith/YelpSharp"" rel=""nofollow"">YelpSharp</a>. I have the config file and I have edited it with my own Yelp API keys. I actually have not wrote a single line of code yet - I am using the tests included with YelpSharp.</p>

<p>Using VS2013 on Windows 7 x64.</p>

<p>Unfortunately when I try to run his (Justin's) tests I run into the error mentioned in the title:</p>

<pre><code>An unhandled exception of type 'System.InvalidOperationException' occurred in     
BusinessResearcher.exe

Additional information: No OAuth info available.  Please modify 
Config.cs to add your YELP API OAuth keys
</code></pre>

<p>Here (or <a href=""https://github.com/JustinBeckwith/YelpSharp/blob/master/YelpSharpTests/Config.cs"" rel=""nofollow"">here</a> - the code is the same as the original) is my config file (I have edited out my keys):</p>

<pre><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using YelpSharp;

namespace BusinessResearcher
{
    class Config
    {
        private static Options _options;

        /// &lt;summary&gt;
        /// return the oauth options for using the Yelp API.  I store my keys in the environment settings, but you
        /// can just write them out here, or put them into an app.config file.  For more info, visit
        /// http://www.yelp.com/developers/getting_started/api_access
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        public static Options Options
        {
            get
            {
                if (_options == null)
                {
                    // get all of the options out of EnvironmentSettings.  You can easily just put your own keys in here without
                    // doing the env dance, if you so choose
                    _options = new Options()
                    {
                        AccessToken = Environment.GetEnvironmentVariable(""my_code_is_hidden_here_from_stackoverflow"", EnvironmentVariableTarget.User),
                        AccessTokenSecret = Environment.GetEnvironmentVariable(""my_code_is_hidden_here_from_stackoverflow"", EnvironmentVariableTarget.User),
                        ConsumerKey = Environment.GetEnvironmentVariable(""my_code_is_hidden_here_from_stackoverflow"", EnvironmentVariableTarget.User),
                        ConsumerSecret = Environment.GetEnvironmentVariable(""my_code_is_hidden_here_from_stackoverflow"", EnvironmentVariableTarget.User)
                    };

                    if (String.IsNullOrEmpty(_options.AccessToken) ||
                        String.IsNullOrEmpty(_options.AccessTokenSecret) ||
                        String.IsNullOrEmpty(_options.ConsumerKey) ||
                        String.IsNullOrEmpty(_options.ConsumerSecret))
                    {
                        throw new InvalidOperationException(""No OAuth info available.  Please modify Config.cs to add your YELP API OAuth keys"");
                    }
                }
                  return _options;
            }
        }
    }
}
</code></pre>

<p>And here is the method from my <code>Form1.cs</code> button(click event):</p>

<pre><code>        Yelp y = new Yelp(Config.Options);
        var task = y.Search(""coffee"", ""seattle, wa"").ContinueWith((searchResults) =&gt;
        {
            foreach (var business in searchResults.Result.businesses)
            {
                Console.WriteLine(business.name);
            }
        });
</code></pre>
","2014-02-23 22:01:20","21982067","0","<c#><yelp>","1","3"
"Yelp API - returns only 20 results","<p>I am searching since 3 days and i am not successful yet</p>

<p>I have integrated Yelp with reference to : <a href=""https://github.com/Pretz/android-example"" rel=""nofollow"">https://github.com/Pretz/android-example</a></p>

<p>When i run the code with all my credentials given , I get only 20 results . Am not sure where i am going wrong . Find below the code attached</p>

<pre><code>new AsyncTask&lt;Void, Void, String&gt;() {
            @Override
            protected String doInBackground(Void... params) {
                Yelp yelp = Yelp.getYelp(YelpSearchActivity.this);
                String businesses = yelp.search(""shopping"", 37.788022, -122.399797);
                try {
                    return processJson(businesses);
                } catch (JSONException e) {
                    return businesses;
                }
            }

            @Override
            protected void onPostExecute(String result) {
                mSearchResultsText.setText(result);
                setProgressBarIndeterminateVisibility(false);
            }
        }.execute();

String processJson(String jsonStuff) throws JSONException {
        JSONObject json = new JSONObject(jsonStuff);
        Log.e(""return data"", """"+json);
        JSONArray businesses = json.getJSONArray(""businesses"");
        ArrayList&lt;String&gt; businessNames = new ArrayList&lt;String&gt;(businesses.length());
        for (int i = 0; i &lt; businesses.length(); i++) {
            JSONObject business = businesses.getJSONObject(i);
            businessNames.add(business.getString(""name""));
        }
        return TextUtils.join(""\n"", businessNames);
    }
</code></pre>

<p>FYI :</p>

<p>//Yelp.getYelp</p>

<pre><code>public static Yelp getYelp(Context context) {
      return new Yelp(context.getString(R.string.consumer_key), context.getString(R.string.consumer_secret),
              context.getString(R.string.token), context.getString(R.string.token_secret));
  }
</code></pre>

<p>// yelp.search</p>

<pre><code>public String search(String term, double latitude, double longitude) {
    OAuthRequest request = new OAuthRequest(Verb.GET, ""http://api.yelp.com/v2/search"");
    request.addQuerystringParameter(""term"", term);
    request.addQuerystringParameter(""ll"", latitude + "","" + longitude);
    this.service.signRequest(this.accessToken, request);
    Response response = request.send();
    return response.getBody();
  }
</code></pre>

<p>Any related answers are welcomed . Thanks in advance . </p>
","2015-05-02 07:34:10","","0","<android><yelp>","1","0"
"load large JCON file in Python - Error = JSONDecodeError: Extra data","<blockquote>
  <p>I am trying to load in python the file business.json from yelp
  academic data available for their academic challenge, see below
  (<a href=""https://www.yelp.com/dataset/documentation/json"" rel=""nofollow noreferrer"">https://www.yelp.com/dataset/documentation/json</a>) My Goal is to extract all restaurant and their ID to then find the one restaurant I
  am interested for. Once I have this restaurant id, I want to load
  review.json and extract all reviews for that given restaurant. Sadly I
  am stuck at the initial stage of landing the .json</p>
</blockquote>

<p>this is what business.json looks like:</p>

<pre><code>{
    // string, 22 character unique string business id
    ""business_id"": ""tnhfDv5Il8EaGSXZGiuQGg"",

    // string, the business's name
    ""name"": ""Garaje"",

    // string, the neighborhood's name
    ""neighborhood"": ""SoMa"",

    // string, the full address of the business
    ""address"": ""475 3rd St"",

    // string, the city
    ""city"": ""San Francisco"",

    // string, 2 character state code, if applicable
    ""state"": ""CA"",

    // string, the postal code
    ""postal code"": ""94107"",

    // float, latitude
    ""latitude"": 37.7817529521,

    // float, longitude
    ""longitude"": -122.39612197,

    // float, star rating, rounded to half-stars
    ""stars"": 4.5,

    // interger, number of reviews
    ""review_count"": 1198,

    // integer, 0 or 1 for closed or open, respectively
    ""is_open"": 1,

    // object, business attributes to values. note: some attribute values might be objects
    ""attributes"": {
        ""RestaurantsTakeOut"": true,
        ""BusinessParking"": {
            ""garage"": false,
            ""street"": true,
            ""validated"": false,
            ""lot"": false,
            ""valet"": false
        },
    },

    // an array of strings of business categories
    ""categories"": [
        ""Mexican"",
        ""Burgers"",
        ""Gastropubs""
    ],

    // an object of key day to value hours, hours are using a 24hr clock
    ""hours"": {
        ""Monday"": ""10:00-21:00"",
        ""Tuesday"": ""10:00-21:00"",
        ""Friday"": ""10:00-21:00"",
        ""Wednesday"": ""10:00-21:00"",
        ""Thursday"": ""10:00-21:00"",
        ""Sunday"": ""11:00-18:00"",
        ""Saturday"": ""10:00-21:00""
    }
}
</code></pre>

<p>When I try to import business.json with the following code:</p>

<pre><code>import json

jsonBus = json.loads(open('business.json').read())
for item in jsonBus:
    name = item.get(""Name"")
    businessID = item.get(""business_id"")
</code></pre>

<p>I get the following error:</p>

<pre><code>runfile('/Users/Nico/Google Drive/Python/yelp/yelp_academic.py', wdir='/Users/Nico/Google Drive/Python/yelp')
Traceback (most recent call last):

  File ""&lt;ipython-input-46-68ba9d6458bc&gt;"", line 1, in &lt;module&gt;
    runfile('/Users/Nico/Google Drive/Python/yelp/yelp_academic.py', wdir='/Users/Nico/Google Drive/Python/yelp')

  File ""/anaconda3/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py"", line 710, in runfile
    execfile(filename, namespace)

  File ""/anaconda3/lib/python3.6/site-packages/spyder/utils/site/sitecustomize.py"", line 101, in execfile
    exec(compile(f.read(), filename, 'exec'), namespace)

  File ""/Users/Nico/Google Drive/Python/yelp/yelp_academic.py"", line 3, in &lt;module&gt;
    jsonBus = json.loads(open('business.json').read())

  File ""/anaconda3/lib/python3.6/json/__init__.py"", line 354, in loads
    return _default_decoder.decode(s)

  File ""/anaconda3/lib/python3.6/json/decoder.py"", line 342, in decode
    raise JSONDecodeError(""Extra data"", s, end)

JSONDecodeError: Extra data
</code></pre>

<p>Does anyone know why such errors appears?</p>

<p>I am also open to any smarter way to proceed!</p>

<p>Best,</p>

<p>Nico</p>
","2017-10-08 02:21:02","","1","<python><json><yelp>","2","0"
"How to integrate Yelp APi in iPhone application?","<p>I am developing an application. In that I want to use the Yelp Api. So after registering on Yelp site how to integrate that Api in our application. Please provide me any examples or any stuff. </p>
","2011-07-07 06:15:39","6606623","3","<iphone><yelp>","1","0"
"Parsing JSON response using PHP for Yelp API","<p>I can't seem to parse information sent by the Yelp API. Here's the output: <a href=""http://www.coroomer.com/apartments/yelp.php"" rel=""nofollow"">http://www.coroomer.com/apartments/yelp.php</a>.</p>

<p>Here is the segment of the code I am having trouble with:</p>

<pre><code>// Send Yelp API Call
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $signed_url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 30);
$response = curl_exec($ch);
curl_close($ch);

// Handle Yelp response data
$obj = json_decode($response,true);

// Print it for debugging
//print_r($obj);

echo var_dump($obj);

if (isset($bus)) {
foreach($obj[businesses] as $bus){
    echo $bus[name];
    echo $bus[reviews];
    }
}
</code></pre>

<p>The problem is that I can't get a correctly ""formatted"" output. Formatted as in it looks like the review threads on Yelp. Any help is appreciated.</p>
","2011-07-12 10:21:26","6662842","0","<php><json><api><parsing><yelp>","1","5"
"Yelp Integration in Android","<p>I have to integrate yelp api in my android app. I have never done it so need a bit of help.
I want to know how do I start, what all things are required, etc.</p>

<p>I tried implementing this code  <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/java/Yelp.java"" rel=""noreferrer"">https://github.com/Yelp/yelp-api/blob/master/v2/java/Yelp.java</a> in android.
It gives a NoSuchMethodError at line request.send()</p>

<p>What might be the problem?</p>
","2011-07-13 09:22:03","7426034","6","<android><yelp>","2","0"
"problem to get response from Yelp API","<p>Yelp API V2.0 have problem to get response .when i send request in yelp API V2.0 with all authentication key and token , i get error missing parameter . if any one have idea regarding Yelp help me </p>
","2011-07-18 05:10:44","","0","<iphone><yelp>","2","3"
"How do I manually assign values to a Django Serializers fields?","<p>I am writing a Django REST API server that will return token/credentials information from Yelp. I have URL mapped this to an endpoint for testing purposes but I don't know how to fill my serializer's fields with the information returned from the call to Yelp. </p>

<p>When I connect to the endpoint I get the response below - there is no information... I assume this is because I need to set the values in the serializer's fields.</p>

<pre><code>{
    ""client_id"": """",
    ""client_secret"": """",
    ""token_path"": """",
    ""grant_type"": """",
    ""token_type"": """",
    ""expires_in"": null,
    ""access_token"": """"
}
</code></pre>

<p>My view is...</p>

<pre><code>from rest_framework import generics
from .serializers import YelpAuthenticationSerializer
from .models import YelpAuthentication

# Create your views here.
class AuthView(generics.ListCreateAPIView):
    queryset = YelpAuthentication.objects.all()
    serializer_class = YelpAuthenticationSerializer

    def perform_create(self,serializer):
        pass
</code></pre>

<p>And the YelpAuthentication class is </p>

<pre><code>#yelp.com/developers/documentation/v3/authentication
class YelpAuthentication(models.Model):

    #fields necessary to authenticate
    url = models.CharField(max_length=200, blank=False, default='https://api.yelp.com/oauth2/token')
    api_host = models.CharField(max_length=100, blank=False, default='https://api.yelp.com')
    token_path = models.CharField(max_length=100, blank=False, default='/oauth2/token')
    grant_type = models.CharField(max_length=200, blank=False, default='client_credential')
    client_id = models.CharField(max_length=200, blank=True,default='N/A')
    client_secret = models.CharField(max_length=300, blank=True, default='N/A')

    #respone body elements after authentication
    access_token = models.CharField(max_length=200, blank=False, default='N/A')
    token_type = models.CharField(max_length=7, blank=False, default='bearer')
    expires_in = models.BigIntegerField()

    def authenticate(self):
       #some code that works
        ...
       return token
</code></pre>

<p>What I would like to do is...when my Serializer serializes the data, the field values have the same values as YelpAuthentication, in particular, I want the access_token to be the value returned from YelpAuthentication function.</p>

<p>This is how I think it should work....</p>

<pre><code>    from rest_framework import serializers
    from .models import YelpAuthentication

    class YelpAuthenticationSerializer(serializers.ModelSerializer):

        class Meta:

            model = YelpAuthentication

            #I know this part is wrong...but how do I do this...
            model.authenticate()
            serializer.client_id = model.client_id
            serializer.client_secret = model.client_secret
            serializer.access_token = model.authenticate()

            #..............more manual field settings......

            fields = ('id', 'client_id','client_secret','token_path','grant_type','token_type','expires_in','access_token')
            read_only_fields = ('url', 'api_host')
</code></pre>

<p>My expected output is...</p>

<pre><code>{
    ""client_id"": ""N/A"",
    ""client_secret"": ""N/A"",
    ""token_path"": ""/oauth2/token"",
    ""grant_type"": ""client_credential"",
    ""token_type"": ""bearer"",
    ""expires_in"": null,
    ""access_token"": ""02UYO2UOUAOUF20H2NDJALNDAOFY020A80DSUFASJDFASJF03U0QUAFAHAOJSDFOUASDF0""
}
</code></pre>
","2017-10-10 12:25:56","","0","<django><python-3.x><serialization><django-rest-framework><yelp>","1","0"
"trying to use yelp api and gather data but map keeps vanishing","<pre><code>    &lt;!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Strict//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd""&gt;
&lt;html xmlns=""http://www.w3.org/1999/xhtml""&gt;
  &lt;head&gt;
    &lt;meta http-equiv=""content-type"" content=""text/html; charset=utf-8""/&gt;
    &lt;title&gt;Yelp Search API Example&lt;/title&gt;
    &lt;style type=""text/css""&gt;
        html, body {width: 100%; height: 100%; font-family: arial;}
        body {margin:0;padding 0;overflow: hidden;}
        #mapContainer {padding-top: 50px;}
        #map, #mapContainer {width:100%; height: 100%;}
        #top {position:absolute; top:0; left:0; width: 100%; height: 50px; line-height: 50px;}
        #spinner { visibility: hidden; margin-left:3px;}
        #poweredby, #searchbox {line-height: 50px;}
        #searchbox {text-align: center;}
        #poweredby { float: right; margin-right: 3px;}
        #poweredby img { vertical-align: baseline;}
        .marker {font-size: 11px;}
        .marker .businessimage { float: left;}
        .marker .ratingsimage {vertical-align:middle; margin-top:0px;}
        .marker .businessinfo { margin-left: 110px;}
    &lt;/style&gt;
    &lt;script src=""http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;key=[AIzaSyByEg0pBD4dGr3gZCk863XZZ0ZBkqhDhR4]""
        type=""text/javascript""&gt;&lt;/script&gt;
    &lt;script type=""text/javascript""&gt;
    var YWSID = ""aSVpoAZwxvtcwsscdWjBBw""; // common required parameter (api key)

    var map = null;
    var icon = null;

    /*
* Creates the map object and calls setCenterAndBounds
* to instantiate it.
*/
    function load() {
        map = new GMap2(document.getElementById(""map""));
        GEvent.addListener(map, ""load"", function() {updateMap();});
        map.setCenter(new GLatLng(40.296448,-79.478141),13);
        map.addControl(new GLargeMapControl());
        map.addControl(new GMapTypeControl());
        map.setMapType(G_HYBRID_MAP);

        if (window.attachEvent) window.attachEvent(""onresize"", function() { map.checkResize()} );
        else if (window.addEventListener) window.addEventListener(""resize"", function() { map.checkResize()}, false);

        // setup our marker icon
        icon = new GIcon();
        icon.image = ""images/marker_star.png"";
        icon.shadow = ""images/marker_shadow.png"";
        icon.iconSize = new GSize(20, 29);
        icon.shadowSize = new GSize(38, 29);
        icon.iconAnchor = new GPoint(15, 29);
        icon.infoWindowAnchor = new GPoint(15, 3);
    }

    /*
* Construct the URL to call for the API request
*/
    function constructYelpURL() {
        var mapBounds = map.getBounds();
        var URL = ""http://api.yelp.com/"" +
            ""business_review_search?""+
            ""callback="" + ""handleResults"" +
            ""&amp;term="" + document.getElementById(""term"").value +
            ""&amp;num_biz_requested=10"" +
            ""&amp;tl_lat="" + mapBounds.getSouthWest().lat() +
            ""&amp;tl_long="" + mapBounds.getSouthWest().lng() +
            ""&amp;br_lat="" + mapBounds.getNorthEast().lat() +
            ""&amp;br_long="" + mapBounds.getNorthEast().lng() +
            ""&amp;ywsid="" + YWSID;
        return encodeURI(URL);
    }

    /*
* Called on the form submission: updates the map by
* placing markers on it at the appropriate places
*/
    function updateMap() {
        // turn on spinner animation
        document.getElementById(""spinner"").style.visibility = 'visible';

        var yelpRequestURL = constructYelpURL();

        /* clear existing markers */
        map.clearOverlays();

        /* do the api request */
        var script = document.createElement('script');
        script.src = yelpRequestURL;
        script.type = 'text/javascript';
        var head = document.getElementsByTagName('head').item(0);
        head.appendChild(script);
        return false;
    }

    /*
* If a sucessful API response is received, place
* markers on the map. If not, display an error.
*/
    function handleResults(data) {
        // turn off spinner animation
        document.getElementById(""spinner"").style.visibility = 'hidden';
        if(data.message.text == ""OK"") {
            if (data.businesses.length == 0) {
                alert(""Error: No businesses were found near that location"");
                return;
            }
            for(var i=0; i&lt;data.businesses.length; i++) {
                biz = data.businesses[i];
                createMarker(biz, new GLatLng(biz.latitude, biz.longitude), i);
            }
        }
        else {
            alert(""Error: "" + data.message.text);
        }
    }

    /*
* Formats and returns the Info Window HTML
* (displayed in a balloon when a marker is clicked)
*/
    function generateInfoWindowHtml(biz) {
        var text = '&lt;div class=""marker""&gt;';

        // image and rating
        text += '&lt;img class=""businessimage"" src=""'+biz.photo_url+'""/&gt;';

        // div start
        text += '&lt;div class=""businessinfo""&gt;';
        // name/url
        text += '&lt;a href=""'+biz.url+'"" target=""_blank""&gt;'+biz.name+'&lt;/a&gt;&lt;br/&gt;';
        // stars
        text += '&lt;img class=""ratingsimage"" src=""'+biz.rating_img_url_small+'""/&gt;&amp;nbsp;based&amp;nbsp;on&amp;nbsp;';
        // reviews
        text += biz.review_count + '&amp;nbsp;reviews&lt;br/&gt;&lt;br /&gt;';
        // categories
        text += formatCategories(biz.categories);
        // neighborhoods
        if(biz.neighborhoods.length)
            text += formatNeighborhoods(biz.neighborhoods);
        // address
        text += biz.address1 + '&lt;br/&gt;';
        // address2
        if(biz.address2.length)
            text += biz.address2+ '&lt;br/&gt;';
        // city, state and zip
        text += biz.city + ',&amp;nbsp;' + biz.state + '&amp;nbsp;' + biz.zip + '&lt;br/&gt;';
        // phone number
        if(biz.phone.length)
            text += formatPhoneNumber(biz.phone);
        // Read the reviews
        text += '&lt;br/&gt;&lt;a href=""'+biz.url+'"" target=""_blank""&gt;Read the reviews »&lt;/a&gt;&lt;br/&gt;';
        // div end
        text += '&lt;/div&gt;&lt;/div&gt;'
        return text;
    }

    /*
* Formats the categories HTML
*/
    function formatCategories(cats) {
        var s = 'Categories: ';
        for(var i=0; i&lt;cats.length; i++) {
            s+= cats[i].name;
            if(i != cats.length-1) s += ', ';
        }
        s += '&lt;br/&gt;';
        return s;
    }

    /*
* Formats the neighborhoods HTML
*/
    function formatNeighborhoods(neighborhoods) {
        s = 'Neighborhoods: ';
        for(var i=0; i&lt;neighborhoods.length; i++) {
            s += '&lt;a href=""' + neighborhoods[i].url + '"" target=""_blank""&gt;' + neighborhoods[i].name + '&lt;/a&gt;';
            if (i != neighborhoods.length-1) s += ', ';
        }
        s += '&lt;br/&gt;';
        return s;
    }

    /*
* Formats the phone number HTML
*/
    function formatPhoneNumber(num) {
        if(num.length != 10) return '';
        return '(' + num.slice(0,3) + ') ' + num.slice(3,6) + '-' + num.slice(6,10) + '&lt;br/&gt;';
    }

    /*
* Creates a marker for the given business and point
*/
    function createMarker(biz, point, markerNum) {
        var infoWindowHtml = generateInfoWindowHtml(biz)
        var marker = new GMarker(point, icon);
        map.addOverlay(marker);
        GEvent.addListener(marker, ""click"", function() {
            marker.openInfoWindowHtml(infoWindowHtml, {maxWidth:400});
        });
        // automatically open first marker
        if (markerNum == 0)
            marker.openInfoWindowHtml(infoWindowHtml, {maxWidth:400});
    }

    //]]&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body onload=""load()""&gt;
    &lt;div id=""top""&gt;
        &lt;div id=""poweredby""&gt;Powered by &lt;a href=""http://www.yelp.com""&gt;&lt;img src=""http://static.px.yelp.com/i/map/miniMapLogo.png"" border=""0"" /&gt;&lt;/a&gt;&lt;/div&gt;
        &lt;div id=""searchbox""&gt;
            &lt;form&gt;
                Search for &lt;input type=""text"" id=""term"" name=""term"" value=""flannery-cars-greensburg""/&gt; &lt;input type=""button"" value=""Search"" onclick=""return updateMap();""/&gt;
                &lt;img id=""spinner"" src=""images/spinner.gif"" /&gt;
                &lt;span class=""error"" id=""errorMessage"" /&gt;
            &lt;/form&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id=""mapContainer""&gt;&lt;div id=""map""&gt;&lt;/div&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Website </p>

<p><a href=""http://www.724-streamline-marketing.com/testing2.html"" rel=""nofollow"">http://www.724-streamline-marketing.com/testing2.html</a></p>

<p>I am trying to gather metrics for reviews, rating, map location from the yelp api, I am unsure why it will not stay.</p>

<p>Any help would be grateful or even point me in the right direction on using a 3rd party app to create yelp data</p>
","2014-02-14 12:29:13","","0","<php><html><api><yelp>","1","1"
"Parse Large JSON Files","<p>I'm working on the <a href=""http://www.yelp.com/dataset_challenge"" rel=""nofollow"">Yelp Dataset Challenge</a>. The data is made up of large son files (up to 1 GB, 1mm+ lines). I'd like to do some data analytics on it, comparing data between files, e.g. linking a review in the review file with the business in the business file.</p>

<p>I have complete freedom as to what platform/programming language to use. What is the most efficient way to go about this, so I can do easy fast lookups going forward?</p>

<p>The son format is very straightforward. Below is an example. Fields like ""user_id"" are unique, and can be cross-referenced to other file entries.</p>

<pre><code>{""votes"": {""funny"": 0, ""useful"": 2, ""cool"": 1}, 
""user_id"": ""Xqd0DzHaiyRqVH3WRG7hzg"", 
""review_id"": ""15SdjuK7DmYqUAj6rjGowg"", 
""stars"": 5, ""date"": ""2007-05-17"", 
""text"": ""dr. goldberg offers everything i look for in a general practitioner.  he's nice and easy to talk to without being patronizing; he's always on time in seeing his patients; he's affiliated with a top-notch hospital (nyu) which my parents have explained to me is very important in case something happens and you need surgery; and you can get referrals to see specialists without having to see him first.  really, what more do you need?  i'm sitting here trying to think of any complaints i have about him, but i'm really drawing a blank."",
 ""type"": ""review"", 
 ""business_id"": ""vcNAWiLM4dR7D2nwwJ7nCA""}
</code></pre>
","2015-04-27 22:44:27","","0","<json><parsing><yelp>","1","5"
"Getting ... yelp_soup is not defined when writting scraper script","<p>I'm getting the error:</p>

<blockquote>
  <p>yelp_soup is not defined when writting scraper script</p>
</blockquote>

<p>I don't know why, this is code copied from the udemy course, but it works for them. Why is that?</p>

<p>this is link to the github from where I copied it as a last resort but not working:</p>

<p><a href=""https://github.com/codingforentrepreneurs/30-Days-of-Python/blob/master/Day%2021%20-%2023/scrape/code/scape.py"" rel=""nofollow noreferrer"">https://github.com/codingforentrepreneurs/30-Days-of-Python/blob/master/Day%2021%20-%2023/scrape/code/scape.py</a></p>

<p>Any suggestions? I tried few ideas but nothing changed it?</p>
","2017-11-11 18:57:53","47245389","-1","<python><python-3.x><web-scraping><yelp>","1","0"
"Get Yelp Friends list","<p>So I've been tasked with designing a Web Application that utilizes a friends &amp; followers list from Yelp.</p>

<p>Yelp has their own API, however, I can't find anything within the API that would allow me to query a search result that'll just have a user's friends and followers in Yelp listed. Is there something I am missing with the API, or is there a different way to perform this task?</p>

<p>Is it even possible to have a website integrated with the ""Friend &amp; Followers"" database of an individual user?</p>

<p>The API Docs can be found at: <a href=""http://www.yelp.com/developers/documentation/v2/overview"" rel=""nofollow"">http://www.yelp.com/developers/documentation/v2/overview</a></p>
","2012-11-21 18:55:21","","0","<c#><asp.net><.net><yelp>","1","6"
"How to request larger images from Yelp API?","<p>Is there a way to request larger images from Yelp?</p>

<p>The current response from their server is 100x100px.</p>

<p>Here's a sample:
<a href=""http://s3-media1.ak.yelpcdn.com/bphoto/ehZk1zXTE5xof4d2fcGLeQ/ms.jpg"" rel=""nofollow"">http://s3-media1.ak.yelpcdn.com/bphoto/ehZk1zXTE5xof4d2fcGLeQ/ms.jpg</a></p>

<p>Thank you.</p>
","2014-02-24 22:05:47","22000143","5","<api><yelp>","1","1"
"How can I parse yelp's review using Python's urllib standart library?","<p>I've got a problem related to the urllib library and HTTP Error 404. Since I started parsing yelps review directly from the web site without using an API(cuz it's extremely restricted), I've faced with a strange behaviour: my standard approach does not work at all. Basically I'm trying to pass some data using POST request to retrieve some specific information(I need to sort reviews and get the newest ones) and avoid shutting me off by using specific headers(The ""User-Agent"" header helps to hide your parsing bot).
For an axample I took the closest mconalds to me and tried to parse the page. Everything is pretty simle, but I does not work. I know that I can use a simple ""GET""(passing a simple string without any additional data as ""POST"" request can) request, but I'm pretty confident that even ""POST"" has to work correctly, but I cant find the issue.</p>

<pre><code>url = 'http://www.yelp.com/biz/mcdonalds-new-york-139/' # our url
headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64)'} # headers
values = {'sort_by':'date_desc'} # sorting values which help to sort the reviews

data = urllib.parse.urlencode(values) # Making the URL encoding
data = data.encode('UTF-8')
req = urllib.request.Request(url=url, data=data, headers=headers) # Creating a POST request
resp = urllib.request.urlopen(req) 
with urllib.request.urlopen(req) as response:
   the_page = response.read() # Retrieving the data we supposed to get

print(the_page) # An Error 404 
</code></pre>

<p>Can anyone point what I'm doing wrong? ""GET"" request still works great, but I'd like to use ""POST"" passing headers and the data query inside the body.</p>
","2015-12-28 10:44:35","","1","<python><http><parsing><urllib><yelp>","0","3"
"How to get overall category of business in JSON object after request in Yelp API","<p>In the category list in the documentation, there are overall categories (Food, Restaurants, Health), and many sub categories within them. However, when I make a request and parse the JSON, the only categories that are returned are the sub-categories.  </p>

<p>Even the example json in the documentation doesn't have the overall categories
 ""categories"": [
        [
          ""Local Flavor"",
          ""localflavor""
        ],
        [
          ""Mass Media"",
          ""massmedia""
        ]
      ],</p>

<p>If I search for restaurants, the categories will return things like ""italian, french, american"", but not ""restaurants"". Is there a way to get the overall category in the json so I can use it?</p>

<p>Thanks</p>
","2013-07-19 07:23:21","17821513","2","<json><api><categories><yelp>","1","0"
"How to request price range from Yelp business API?","<p>I want to request the price range of a business on YELP API, but I don't receive any price range in the json response. In documentation they say that it's include in the request, but in FAQ they say :
""Are business attributes such as hours and pricing available in the API?
Business attributes are not returned in Yelp API queries. For a full list of what information is available in API queries, please see the documentation section.""
How can I do?</p>
","2016-01-14 15:58:56","","2","<api><yelp>","0","1"
"Second jsonp http get request - using $q gives 404 error despite GET showing 200","<p>I've found a couple of similar posts to this, but the answers (which boil down to putting <code>callback=JSONP_CALLBACK</code> into the get request) aren't working for me. Using that in the request generates an immediate <strong>404</strong> error, while using <code>callback=angular.callbacks._0</code> at least lets the first request return a successful response. The problem is that using the very same request function with the very same params a second time to refresh the data or get the next 20 objects, returns a <strong>404</strong> error even though the actual get returns a <strong>200</strong> and the data can be seen in chrome tools. </p>

<p>I'm, new to using $q deferred promises, so I'm hoping that the issue has something to do with that not allowing enough time for a response before executing the <strong>reject</strong>. I'm attaching the code, which involves the Yelp API as did the other couple of posts I found on this issue. The most closely related is: (<a href=""https://stackoverflow.com/questions/32477053/subsequent-jsonp-requests-give-status-404-despite-get-status-200"">Subsequent JSONP requests give status 404 despite GET status 200</a>), but there's another which uses the same callback string I'm using (<a href=""https://stackoverflow.com/questions/23716264/yelp-api-and-angularjs"">Yelp API and AngularJS</a>).</p>

<p>This particular project is for an ionic mobile app that gets coffee shops based on users geolocation.</p>

<p>Here's the code for the service (secret stuff removed):</p>

<pre><code>var app = angular.module('caffeine.services', []);

app.service(""YelpService"", function ($q, $http, $cordovaGeolocation, $ionicPopup) {
function randomString(length, chars) {
            var result = '';
            for (var i = length; i &gt; 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
            return result;
};
var method = 'GET';
var url = 'http://api.yelp.com/v2/search';
var consumerSecret = ''; //Consumer Secret
var tokenSecret = ''; //Token Secret
var self = {
    'page': 1,
    'isLoading': false,
    'hasMore': true,
    'results': [],
     'ranStr': randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'),
    'timeStamp':new Date().getTime(),
    'lat': 51.544440,
    'lon': -0.022974,
    'term': 'coffee',
    'oauthConKey': '', //Consumer Key
    'oauthToken': '', //Token
    'oauthSigMeth': 'HMAC-SHA1',
    'refresh': function () {
        self.page = 1;
        self.isLoading = false;
        self.hasMore = true;
        self.results = [];
        return self.load();
    },
    'next': function () {
        self.page += 1;
        return self.load();
    },
    'load': function () {
        self.isLoading = true;
        var deferred = $q.defer();
ionic.Platform.ready(function() {
$cordovaGeolocation
.getCurrentPosition({timeout:10000, enableHighAccuracy:false})
.then(function(position){
  self.lat = position.coords.latitude;
    self.lon = position.coords.longitude;

    console.log('latlong = '+self.lat+','+self.lon);
            var params = {
            callback: 'angular.callbacks._0',
            page: self.page,
             ll: self.lat+','+self.lon,
            term: self.term,
            oauth_consumer_key: self.oauthConKey, //Consumer Key
            oauth_token: self.oauthToken, //Token
            oauth_signature_method: self.oauthSigMeth,
            oauth_timestamp: self.timeStamp,
                //new Date().getTime(),
            oauth_nonce: self.ranStr
        };
        var signature = oauthSignature.generate(method, url, params, consumerSecret, tokenSecret, { encodeSignature: false});
         params['oauth_signature'] = signature;    
        console.log('url ='+url);
        console.log('params.ll = '+params.ll);
$http.jsonp(url, {params: params}).success(function (callback) {
                self.isLoading = false;
                console.log(callback.businesses);
        if (callback.businesses.length == 0) {
                    self.hasMore = false;
                } else {
                    angular.forEach(callback.businesses, function (business) {
                        self.results.push(business);
                    });
                }
                self.isLoading = false;
                deferred.resolve(callback.businesses);
            })
            .error( function (callback, status, headers, config) {
                self.isLoading = false;
console.error('data not received');
console.error('data: '+callback);
console.error('status: '+status);
console.error('headers:  '+headers);
console.error('congig: '+config);
                deferred.reject(callback);
            });  
}, function(err) {
    console.error('Error getting position');
    console.error(err);
    $ionicPopup.alert({
        'title': 'Please turn on geolocation',
        'template': 'It looks like you have geolocation turned off.    Please turn on geolocation in your app settings to use this app.'
    });
})
});


        return deferred.promise;

}
};    
self.load();

return self;
});
</code></pre>
","2015-12-10 01:37:11","","3","<angularjs><ionic><yelp>","0","1"
"retrieve yelp categories and subcategories","<p>I'm hooking into the yelp 2.0 Api and I'm wondering if there is a way to retrieve the list of categories and sub categories. I know that the list is available here <a href=""http://www.yelp.com/developers/documentation/category_list"" rel=""noreferrer"">http://www.yelp.com/developers/documentation/category_list</a> but there doesn't seem to be a way to retrieve it. I'd like to have a source to retrieve it from so that it's not hard coded in my application and will stay up to date. </p>
","2012-04-23 19:34:46","11680273","5","<ios><web-services><yelp>","2","1"
"OAuth with Android","<p>I am attempting to access the Yelp API. I have obtained my keys and have read about 40 articles explaining what I need to do and I have attempted everything. The key and what not are valid. I am getting the following:</p>

<pre><code>05-16 17:39:54.955: E/AndroidRuntime(538): java.lang.NoClassDefFoundError: oauth.signpost.commonshttp.CommonsHttpOAuthConsumer
</code></pre>

<p>I have imported the commons-codec-1.6 jar, the signpost-commonshttp4-1.2.1.2.jar, and the signpost-core-1.2.1.2.jar.</p>

<p>I am still getting the error message. Any help?</p>

<pre><code>import java.net.HttpURLConnection;
import java.net.URL;
import java.util.HashMap;
import java.util.Map;

import oauth.signpost.OAuth;
import oauth.signpost.OAuthConsumer;
import oauth.signpost.commonshttp.CommonsHttpOAuthConsumer;
import oauth.signpost.exception.OAuthCommunicationException;
import oauth.signpost.exception.OAuthExpectationFailedException;
import oauth.signpost.exception.OAuthMessageSignerException;


/**
 * Example for accessing the Yelp API.
 */
public class Yelp {
  private String consumerKey = """";
  private String consumerSecret = """";
  private String token = """";
  private String tokenSecret = """";

  /**
   * Search with term and location.
   *
   * @param term Search term
   * @param latitude Latitude
   * @param longitude Longitude
   * @return JSON string response
   */
  public String search(String term, double latitude, double longitude) throws OAuthMessageSignerException, OAuthExpectationFailedException, OAuthCommunicationException {



    try {
        OAuthConsumer myConsumer = new CommonsHttpOAuthConsumer(consumerKey, consumerSecret);
        myConsumer.setTokenWithSecret(token, tokenSecret);

        String urlToPost = ""http://api.yelp.com/v2/search"";
        Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();
        myMap.put(OAuth.OAUTH_CONSUMER_KEY, consumerKey);
        myMap.put(OAuth.OAUTH_TOKEN, token);
        myMap.put(OAuth.OAUTH_SIGNATURE_METHOD, ""HMAC-SHA1"");
        myMap.put(OAuth.OAUTH_SIGNATURE, tokenSecret);
        myMap.put(OAuth.OAUTH_TIMESTAMP, Long.toString(System.currentTimeMillis() / 1000L));
        myMap.put(OAuth.OAUTH_NONCE, ""asdf"");

        urlToPost = OAuth.addQueryParameters(urlToPost, myMap);

        HttpURLConnection myCon = (HttpURLConnection) (new URL(urlToPost)).openConnection();
        myConsumer.sign(myCon);

        myCon.connect();
        return myCon.getResponseMessage();
    } catch (Exception e) {
        e.printStackTrace();
    }
    return null;
  }
}
</code></pre>
","2012-05-16 17:46:30","","3","<android><oauth><signpost><yelp>","2","0"
"Remove PrettyPrint Json","<p>I have a problem with the Javascript  - </p>

<pre><code> $.ajax({
 'url': message.action,
 'data': parameterMap,
 'cache': true,
 'dataType': 'jsonp',
 'jsonpCallback': 'cb',
 'success': function(data, textStats, XMLHttpRequest) {
   console.log(data);
   var output = prettyPrint(data);
   $(""body"").append(output);
  }
 });
</code></pre>

<p>This outputs the JSON using prettyprint. How do I output plain json (without prettyprint)?
I tried </p>

<pre><code>$(""body"").append(data)
</code></pre>

<p>Nothing showed up. </p>

<p>PS: I am using the Example Code provided by YELP.com . This is the link to the entire code - <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/js/search.html"" rel=""nofollow"">https://github.com/Yelp/yelp-api/blob/master/v2/js/search.html</a></p>
","2012-05-16 21:44:28","10627349","0","<javascript><jquery><json><yelp>","2","6"
"Can't print business information from Yelp fusion api","<p>I am using the yelp fusion api to search for a type of business in a location. I can print the whole body correctly but when I try to log just the businesses or a specific parameter of a business I get undefined. </p>

<p>For example, this prints the businesses:</p>

<pre><code>    request(options, function (error, response, body) {
        if (error) throw new Error(error);
        console.log(body);
        res.render('index');
    });
</code></pre>

<p>I get a large object which looks something like this: </p>

<pre><code>{""total"": 106, ""businesses"": [{""transactions"": [], ""phone"": ""+15409512483"", ""name"": ""The Rivermill"", ""display_phone"": ""(540) 951-2483"", ""price"": ""$"", ""review_count"": 63, ""rating"": 4.0, ""image_url"": ""https://s3-media3.fl.yelpcdn.com/bphoto/mQbuIZ9uRsXMwIW9UJiHsQ/o.jpg"", ""id"": ""the-rivermill-blacksburg"", ""distance"": 511.45787585319994, ""location"": {""display_address"": [""212 Draper Rd"", ""Blacksburg, VA 24060""], ""city"": ""Blacksburg"", ""country"": ""US"", ""zip_code"": ""24060"", ""address1"": ""212 Draper Rd"", ""state"": ""VA"", ""address2"": """", ""address3"": """"}
</code></pre>

<p>However, when I try <code>console.log(body.businesses)</code> or <code>console.log(body.businesses[0].name)</code> both undefined. What gives?</p>
","2017-03-21 22:42:12","42940841","0","<node.js><yelp>","1","0"
"How to use Yelp v3 Search API sample in php","<p>I am currently using the Yelp API v3 and am testing some of their sample code. I have never used php before so it is quite confusing, but I am just wondering, where would I set the term and location equal to the users input in this script? Say I have an input for term and location in html, where in this script do I do $term = inputTerm and $location = inputLocation?</p>

<pre><code>`#!/usr/bin/php
&lt;?php
/**
* Yelp Fusion API code sample.
*
* This program demonstrates the capability of the Yelp Fusion API
* by using the Business Search API to query for businesses by a 
* search term and location, and the Business API to query additional 
* information about the top result from the search query.
* 
* Please refer to http://www.yelp.com/developers/v3/documentation 
* for the API documentation.
* 
* Sample usage of the program:
* `php sample.php --term=""dinner"" --location=""San Francisco, CA""`
*/
// OAuth credential placeholders that must be filled in by users.
// You can find them on
// https://www.yelp.com/developers/v3/manage_app
$CLIENT_ID = ""abcd"";
$CLIENT_SECRET =    ""abcd"";
// Complain if credentials haven't been filled out.
assert($CLIENT_ID, ""Please supply your client_id."");
assert($CLIENT_SECRET, ""Please supply your client_secret."");
// API constants, you shouldn't have to change these.
$API_HOST = ""https://api.yelp.com"";
$SEARCH_PATH = ""/v3/businesses/search"";
$BUSINESS_PATH = ""/v3/businesses/"";  // Business ID will come after slash.
$TOKEN_PATH = ""/oauth2/token"";
$GRANT_TYPE = ""client_credentials"";
// Defaults for our simple example.
$DEFAULT_TERM = ""dinner"";
$DEFAULT_LOCATION = ""San Francisco, CA"";
$SEARCH_LIMIT = 10;

function getQuery(){
echo $_GET['latlon'];
//echo $_GET['q'];
$query = $_GET['q'];
//break the query up into parts 
$first_space= strpos($query, "" "");
$term = substr($query, 0, $first_space);
echo $term;

}
/**
* Given a bearer token, send a GET request to the API.
* 
* @return   OAuth bearer token, obtained using client_id and client_secret.
*/
function obtain_bearer_token() {
try {
    # Using the built-in cURL library for easiest installation.
    # Extension library HttpRequest would also work here.
    $curl = curl_init();
    if (FALSE === $curl)
        throw new Exception('Failed to initialize');
    $postfields = ""client_id="" . $GLOBALS['CLIENT_ID'] .
        ""&amp;client_secret="" . $GLOBALS['CLIENT_SECRET'] .
        ""&amp;grant_type="" . $GLOBALS['GRANT_TYPE'];
    curl_setopt_array($curl, array(
        CURLOPT_URL =&gt; $GLOBALS['API_HOST'] . $GLOBALS['TOKEN_PATH'],
        CURLOPT_RETURNTRANSFER =&gt; true,  // Capture response.
        CURLOPT_ENCODING =&gt; """",  // Accept gzip/deflate/whatever.
        CURLOPT_MAXREDIRS =&gt; 10,
        CURLOPT_TIMEOUT =&gt; 30,
        CURLOPT_HTTP_VERSION =&gt; CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST =&gt; ""POST"",
        CURLOPT_POSTFIELDS =&gt; $postfields,
        CURLOPT_HTTPHEADER =&gt; array(
            ""cache-control: no-cache"",
            ""content-type: application/x-www-form-urlencoded"",
        ),
    ));
    $response = curl_exec($curl);
    if (FALSE === $response)
        throw new Exception(curl_error($curl), curl_errno($curl));
    $http_status = curl_getinfo($curl, CURLINFO_HTTP_CODE);
    if (200 != $http_status)
        throw new Exception($response, $http_status);
    curl_close($curl);
} catch(Exception $e) {
    trigger_error(sprintf(
        'Curl failed with error #%d: %s',
        $e-&gt;getCode(), $e-&gt;getMessage()),
        E_USER_ERROR);
}
$body = json_decode($response);
$bearer_token = $body-&gt;access_token;
return $bearer_token;
}
/** 
* Makes a request to the Yelp API and returns the response
* 
* @param    $bearer_token   API bearer token from obtain_bearer_token
* @param    $host    The domain host of the API 
* @param    $path    The path of the API after the domain.
* @param    $url_params    Array of query-string parameters.
* @return   The JSON response from the request      
*/
function request($bearer_token, $host, $path, $url_params = array()) {
// Send Yelp API Call
try {
    $curl = curl_init();
    if (FALSE === $curl)
        throw new Exception('Failed to initialize');
    $url = $host . $path . ""?"" . http_build_query($url_params);
    curl_setopt_array($curl, array(
        CURLOPT_URL =&gt; $url,
        CURLOPT_RETURNTRANSFER =&gt; true,  // Capture response.
        CURLOPT_ENCODING =&gt; """",  // Accept gzip/deflate/whatever.
        CURLOPT_MAXREDIRS =&gt; 10,
        CURLOPT_TIMEOUT =&gt; 30,
        CURLOPT_HTTP_VERSION =&gt; CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST =&gt; ""GET"",
        CURLOPT_HTTPHEADER =&gt; array(
            ""authorization: Bearer "" . $bearer_token,
            ""cache-control: no-cache"",
        ),
    ));
    $response = curl_exec($curl);
    if (FALSE === $response)
        throw new Exception(curl_error($curl), curl_errno($curl));
    $http_status = curl_getinfo($curl, CURLINFO_HTTP_CODE);
    if (200 != $http_status)
        throw new Exception($response, $http_status);
    curl_close($curl);
} catch(Exception $e) {
    trigger_error(sprintf(
        'Curl failed with error #%d: %s',
        $e-&gt;getCode(), $e-&gt;getMessage()),
        E_USER_ERROR);
}
return $response;
}
/**
* Query the Search API by a search term and location 
* 
* @param    $bearer_token   API bearer token from obtain_bearer_token
* @param    $term        The search term passed to the API 
* @param    $location    The search location passed to the API 
* @return   The JSON response from the request 
*/
function search($bearer_token, $term, $location) {
$url_params = array();

$url_params['term'] = $term;
$url_params['location'] = $location;
$url_params['limit'] = $GLOBALS['SEARCH_LIMIT'];

return request($bearer_token, $GLOBALS['API_HOST'], $GLOBALS['SEARCH_PATH'],   $url_params);
}
/**
* Query the Business API by business_id
* 
* @param    $bearer_token   API bearer token from obtain_bearer_token
* @param    $business_id    The ID of the business to query
* @return   The JSON response from the request 
*/
function get_business($bearer_token, $business_id) {
$business_path = $GLOBALS['BUSINESS_PATH'] . urlencode($business_id);

return request($bearer_token, $GLOBALS['API_HOST'], $business_path);
}
/**
* Queries the API by the input values from the user 
* 
* @param    $term        The search term to query
* @param    $location    The location of the business to query
*/
function query_api($term, $location) {     
$bearer_token = obtain_bearer_token();
$response = json_decode(search($bearer_token, $term, $location));
$business_id = $response-&gt;businesses[0]-&gt;id;

print sprintf(
    ""%d businesses found, querying business info for the top result    \""%s\""\n\n"",         
    count($response-&gt;businesses),
    $business_id
);

$response = get_business($bearer_token, $business_id);

print sprintf(""Result for business \""%s\"" found:\n"", $business_id);
$pretty_response = json_encode(json_decode($response), JSON_PRETTY_PRINT |  JSON_UNESCAPED_SLASHES);
print ""$pretty_response\n"";
}
/**
* User input is handled here 
*/
$longopts  = array(
""term::"",
""location::"",
);

$options = getopt("""", $longopts);
$term = $options['term'] ?: $GLOBALS['DEFAULT_TERM'];
$location = $options['location'] ?: $GLOBALS['DEFAULT_LOCATION'];
//getQuery();
query_api($term, $location);
?&gt;`
</code></pre>
","2017-03-21 23:41:24","","0","<php><html><api><search><yelp>","1","0"
"yelp error :MISSING_PARAMETER","<p>I am new to yelp API. I am using version2. I did sign up for API access and got, Consumer Key,Consumer secret, token, token_secret, then I used to the following link<br>
<a href=""http://api.yelp.com/v2/search"" rel=""nofollow"">http://api.yelp.com/v2/search</a>?<a href=""http://api.yelp.com/v2/search?term=food&amp;location=San%2bFrancisco&amp;oauth_consumer_key=%22eJfdn0UvEYUQwyGuyECvtA%22&amp;oauth_consumer_secret=%229kGchc4UpviQk6vuvS1RJ9FHHqI%22&amp;oauth_token=Rf45r04jUM_R11e1EwyoHtUbqEUBK4yU%22&amp;oauth_token_secret=%22hxpTMf-b63A6UpuxP2cM1dP2lvc%22"" rel=""nofollow"">http://api.yelp.com/v2/search?term=food&amp;location=San%2BFrancisco&amp;oauth_consumer_key=SOMEKEY&amp;oauth_consumer_secret=SOMESECRET&amp;oauth_token=SOMETOKEN&amp;oauth_token_secret=SOMESECRET</a></p>

<p>to get the data but then I get a series of <strong>MISSING_PARAMETER</strong> errors. For signature_method I used HMAC-SHA1 but for the rest (oauth_signature, oauth_nonce, oauth_timestamp) I iddn't know what to put, so i used an empty field but then I got <strong>""INVALID CREDENTIAL""</strong> error. How do I get these missing fields?
They are not in my API access page.</p>
","2013-04-29 14:30:31","","2","<oauth><yelp>","1","1"
"How to get a Yelp Fusion API access token?","<p>I'm using the Yelp's Fusion API.</p>

<p>All the documentation is here and seems straight forward but still doesn't seem to work.</p>

<p><a href=""https://www.yelp.com/developers/documentation/v3/get_started"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/get_started</a></p>

<p>Here is my request for a token.</p>

<pre><code>https://api.yelp.com/oauth2/token?grant_type= OAuth2&amp;client_secret= SECRET&amp;client_id=ID
</code></pre>

<p>I receive this response.</p>

<pre><code>{
  ""error"": {
    ""description"": ""Bad Request"",
    ""code"": ""CLIENT_ERROR""
  }
}
</code></pre>

<p>I reread the documentation and it says</p>

<blockquote>
  <p>""To get an access token, make a POST call to the following endpoint
  using the client id and secret obtained from the former step. Then get
  the access token from the response body.""</p>
</blockquote>

<p>I submitted this</p>

<pre><code>https://api.yelp.com/oauth2/token?client_id=ID&amp;client_secret= SECRET
</code></pre>

<p>I got the same error.</p>

<p>What am I missing?</p>

<p>Thank you in advance</p>
","2016-11-15 05:40:25","","1","<javascript><json><ajax><api><yelp>","2","0"
"Nodejs OAuth Yelp API issues - signature invalid","<p>I have tried searching and using multiple oauth modules, but I cannot get this to work.  This has gotten me the closest (code copied from <a href=""https://arian.io/how-to-use-yelps-api-with-node/"" rel=""nofollow"">https://arian.io/how-to-use-yelps-api-with-node/</a>)</p>

<pre><code>var yelp_search = function(input_parameters, call_back) {

    var httpRequest = ""GET"";
    var fileName = ""./secret-config.json"";
    var config = require(fileName);

    var url = 'http://api.yelp.com/v2/search';
    console.log(config.ConsumerKey);
    var search_parameters = {
        callback : ""cb"",
        location: ""Sunnyvale, CA""
    }

    var oauth_parameters = {
        oauth_consumer_key : config.ConsumerKey,
        oauth_token : config.Token,
        oauth_nonce : n(),
        oauth_timestamp : n().toString().substr(0,10),
        oauth_signature_method : 'HMAC-SHA1',
        oauth_version : '1.0',
    };

    var parameters = _.assign(search_parameters, input_parameters, oauth_parameters);

    var consumerSecret = config.consumerSecret;
    var tokenSecret = config.tokenSecret;

    var signature = oauthSignature.generate(httpRequest, url, parameters, consumerSecret, tokenSecret,  { encodeSignature: false});
    parameters.oauth_signature = signature;
    var parameterURL = qs.stringify(parameters);

    var apiURL = url+'?'+parameterURL;

    console.log(apiURL);

    request(apiURL, function(error, response, body){
        return callback(error, response, body);
    });

};
</code></pre>

<p>However, I get this error: ""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string:</p>

<p>I don't know what I am doing wrong!  Everything seems fine, but I cannot see what I am doing wrong...</p>
","2016-03-08 06:46:33","","0","<node.js><oauth><yelp>","0","2"
"read yelp api response","<p>Iam new to python &amp; API searches. I am having issues reading yelp API responses in python. any help would be great. thanks.</p>

<pre><code>&gt; params = {
&gt;     'term': 'lunch,pancakes' } 

&gt; response=client.search('Los Angeles',**params) 
</code></pre>

<p>Here is the output:</p>

<pre><code>&lt;yelp.obj.search_response.SearchResponse object at 0x138ad7a58&gt;
</code></pre>
","2016-09-10 08:23:55","39425466","0","<python><api><yelp>","2","0"
"How to import a project into Xcode","<p>I am attempting to integrate the Yelp API into my iOS app. From the existing yelp documentation for objective C, we downloaded their Xcode project and dragged it into our project. However, when trying to call and import the project in my swift file, we have errors. Here is what I mean:</p>

<pre><code>func getYelpData(mapItem:MKMapItem) {
    var term: String = (NSUserDefaults.standardUserDefaults().valueForKey(""term"") ?? """") as! String;

    var location: String = (NSUserDefaults.standardUserDefaults().valueForKey(""location"") ?? """") as! String
    var APISample: YPAPISample = YPAPISample() // Use of undeclared type 'YPAPISample'
</code></pre>

<p>and at the top of the class I try to import the YPAPISample like so</p>

<pre><code>import YelpAPISample
</code></pre>

<p>but it does not allow me to do this either.</p>

<p>I'm new to swift programming so any help would be greatly appreciated!</p>
","2015-07-20 18:27:34","31523808","0","<ios><xcode><swift><import><yelp>","1","0"
"How to import existing project into current Xcode Project (Yelp into project)","<p>I am currently trying to integrate the yelp api into my iPhone application. On yelp's developer website, they allow you to use their existing code samples. So i downloaded their Objective-C code and i put the .xcodeproj file under the main file 
<img src=""https://i.stack.imgur.com/YxWBo.png"" alt=""Like this""></p>

<p>I want to know how I can actually use the YelpAPISample project in my own project... and i'm clueless as to how.</p>

<p>Any info would be greatly appreciated. </p>
","2015-07-20 20:56:56","","0","<ios><swift><yelp>","0","3"
"In python 3.5.2 getting UnicodeEncodeError:''charmap' codec can't encode characters in position 203-204 cp437.py","<pre><code>with open('yelp.tsv') as f:
for line in f:
    print(line)
f.close()
</code></pre>

<p>I have written this shortcode in python to read the yelp review dataset file but getting above mentioned error. the same error occurs when used yelp.json file too. yelp dataset file can be found at <a href=""https://www.yelp.com/dataset/challenge"" rel=""nofollow noreferrer"">https://www.yelp.com/dataset/challenge</a></p>
","2018-03-12 09:01:53","","0","<python-3.x><unicode><dataset><encode><yelp>","0","1"
"Implementing Yelp API Into iPhone App","<p>I am trying to integrate Yelp's APIs for developers into my iPhone Application. I have taken the Objective-C Code from <a href=""https://github.com/Yelp/yelp-api/"" rel=""nofollow"">https://github.com/Yelp/yelp-api/</a> and I have simply dragged the files into my existing Xcode project. I input my token and keys, and I have several errors, most referring to ARC Semantics. </p>

<p>I am very new to iOS development and I am not familiar with api integration, so I was wondering what I am doing wrong.</p>

<p>Any help would be greatly appreciated!</p>
","2015-07-20 22:29:08","","3","<ios><swift><yelp>","0","0"
"HTML scraping - How to find business category in a yelp business page?","<p>Given a yelp local <a href=""http://www.yelp.com/biz/ucsf-medical-center-at-mount-zion-san-francisco"" rel=""nofollow"">listing</a>, which part should I be looking for to fetch the business category (Restaurants, Hospital, etc).</p>

<p>I do not want to use an API, I'm looking to crawl a HTML page and extract this data.</p>
","2015-07-21 05:42:17","","1","<python><web-scraping><yelp>","1","1"
"How to set Authorization HTTP header when requesting JSONP?","<p>I'm trying to send a GET request to the Yelp API. </p>

<p>I'm getting a 401 error when I try with the code below. Based on my research, I don't think I can set the authorization in this way if I'm requesting JSONP data. However, I'm getting a Cross-Origin Request Blocked error when I try with another data type. How do I get around this issue?</p>

<pre><code>function findFood() {
        var lat = document.getElementById(""lat"");
        var lon = document.getElementById(""lon"");

        console.log(""lat: "" + lat.textContent + "" lon: "" + lon.textContent);

        var url = API_HOST + SEARCH_PATH + ""term="" + SEARCH_TERM + ""&amp;radius="" + SEARCH_RADIUS + ""&amp;latitude="" + parseFloat(lat.textContent) + ""&amp;longitude="" + parseFloat(lon.textContent);

        console.log(url);
        console.log(""Bearer "" + ACCESS_TOKEN);

        $.ajax({
            type: ""GET"",
            url: url,
            dataType: 'jsonp',
            beforeSend: function (xhr) {
                xhr.setRequestHeader('Authorization', 'Bearer ' + ACCESS_TOKEN);
            },
            success: function (data) {
                console.log(JSON.stringify(data));
            }
        })

    };
</code></pre>
","2016-12-02 06:26:56","","0","<jquery><ajax><jsonp><yelp>","1","0"
"Yelp V2 API Query Loop in R","<p>I'm using the Yelp API in R to pull down some businesses.  From what I've read in the documentation you can pull down up to 20 businesses per API call, however if you use the offset= parameter you can essentially pull down more records. </p>

<p>What I'm trying to do is create a simple loop to create multiple API calls with an incrementing value for the offset= parameter.</p>

<p>For example -- the first API call would look like this:</p>

<pre><code>yelpURL &lt;- paste0(""http://api.yelp.com/v2/search/?limit=20&amp;offset=20&amp;sort=0&amp;term=food&amp;location=Chicago"")
</code></pre>

<p>The next call would have the offset=20, then 40, 60, 80, and so on.  I'm not sure how to write this.  I'd like to pull down the maximum number of businesses which is 1,000 I believe and have them added to a single data frame.  Here's my full code below:</p>

<pre><code># yelp credentials
consumerKey = ""xxxxxxx""
consumerSecret = ""xxxxxxx""
token = ""xxxxxxx""
tokenSecret = ""xxxxxxx""

require(httr)
myApp &lt;- oauth_app(""YELP"", key=consumerKey, secret=consumerSecret)
mySignature &lt;- sign_oauth1.0(myApp, token=token, token_secret=tokenSecret)


yelpURL &lt;- paste0(""http://api.yelp.com/v2/search/?limit=20&amp;offset=20&amp;sort=0&amp;term=food&amp;location=Chicago"")
locationData &lt;- GET(yelpURL, mySignature)

require(jsonlite)
locationDataContent = content(locationData)
locationList=jsonlite::fromJSON(toJSON(locationDataContent))
results &lt;- data.frame(locationList)
</code></pre>
","2015-02-09 20:34:01","","0","<r><yelp><jsonlite>","1","0"
"How to call yelp api in codeigniter project?","<p>How to call yelp api in my codeigniter project?
This is my code:</p>

<pre><code>function getYelpData()
                    {
                        var data1= 'https://api.yelp.com/v3/businesses/search/';
                        var data2= '+912067260114';
                        var url_=data1+""""+data2;
                        console.log(url_);
                        $.ajax({
                                       type: 'POST', 
                                       url:url_,
                                       beforeSend: function(xhr) {
                                       },
                                       success: function(data){
                                        console.log(data);
                                       }
                           });

                    }
</code></pre>

<p>this give me this error in console
XMLHttpRequest cannot load <a href=""https://api.yelp.com/v3/businesses/search/+912067260114"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search/+912067260114</a>. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=""http://localhost:8888"" rel=""nofollow noreferrer"">http://localhost:8888</a>' is therefore not allowed access. The response had HTTP status code 500.
Do you have any idea that how to call yelp api and get the response from it </p>
","2017-07-24 11:52:58","","0","<xmlhttprequest><cors><yelp>","0","1"
"How do you display image from ""image_url"" in Yelp API?","<p>I now understand how to parse and display JSON data, but one thing eludes me: when I call ""image_url"" and receive the actual URL, how can I instead display the image that it refers to? ...and yes, I am a novice :)</p>

<p>Thanks!</p>
","2013-02-08 16:46:58","14777417","0","<json><uitableview><yelp>","1","0"
"YELP 1.0 JSON access with NSDictionary","<p>I was doing pretty good parsing YELP1 Json with NSJSONSerialization and accessing the data with NSDictionary. However, I figured inconsistencies in the response:</p>

<p>Some keys are surrounded with <code>""</code> , mostly the ones containing a <code>_</code> </p>

<p>Parts from the response:</p>

<pre><code>(
        {
        address1 = ""xxx"";
        address2 = """";
        address3 = """";
        ""avg_rating"" = 5;
        city = ""Chicago"";
        country = USA;
        ""country_code"" = US;
</code></pre>

<p>Obtained from<br/> 
<code>[[NSString alloc] initWithData:self.recievedData encoding:NSUTF8StringEncoding];</code></p>

<p>That's inconsistent to the documentation where no keys are in brackets.
<a href=""http://www.yelp.com/developers/documentation/search_api"" rel=""nofollow"">http://www.yelp.com/developers/documentation/search_api</a></p>

<p>Aperently, the brackets indicate the '_' in the key value for some reason, not the type of the value. Brackets surround each key containing <code>_</code> , may the value be a <em>string</em> or a <em>int</em> or whatever.</p>

<p>Accessing fields such as avg_rating with</p>

<p><code>[dict objectForKey:@""avg_rating""];</code></p>

<p>fails with <code>NSInvalidArgumentException</code></p>

<p>while <code>[dict objectForKey:@""country""];</code> would work.</p>

<p>Hence, I dont believe it's a NSDictionary / NSLog problem with the value returned, but a problem with the key submitted to the dict object. Or, maybe during the JSON parsing? But please, prove me wrong with piece of  working code... :)</p>

<p>Any ideas?
Thanks,
el</p>

<p>Edit: edited because question might now have been clear enough.<br/>
Edit2:
In fact, it was that a NSNumber is returned here. Got confused about these """" . </p>
","2013-02-10 07:07:12","14795715","-1","<objective-c><ios6><nsjsonserialization><yelp>","1","0"
"How to build url to yelp review using yelp API?","<p>How to build url to yelp review using yelp API?</p>

<pre><code>""reviews"": [
    {
      ""excerpt"": ""This is by far my favorite breakfast food. They have the best plain grits and one of the best omelets I\u0027ve ever had. The grits require no extra seasoning,..."",
      ""id"": ""N95_f0ssLhVk-3_adcm0HA"",
      ""rating"": 5.0,
      ""rating_image_large_url"": ""https://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png"",
      ""rating_image_small_url"": ""https://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"",
      ""rating_image_url"": ""https://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"",
      ""time_created"": 1.456714839E9,
      ""user"": {
        ""id"": ""v6q8B9nEHBK25EuNIUF09g"",
        ""image_url"": ""http://s3-media4.fl.yelpcdn.com/photo/zzXwod9kRw5BC-OZn2S6Dg/ms.jpg"",
        ""name"": ""Ashley M.""
      }
    }
</code></pre>

<p>I can see the review information here, but I can't see link to the review to do smth like ""read more"". Can someone help me with it?</p>
","2016-07-04 12:20:05","","0","<api><review><yelp>","1","0"
"Yelp API and synchronous AJAX","<p>Yelp's examples have the following piece of AJAX code: </p>

<pre><code>$.ajax({
  'url': message.action,
  'data': parameterMap,
  'cache': true,
  'dataType': 'jsonp',
  'jsonpCallback': 'cb',
  'success': function(data, textStats, XMLHttpRequest) {
    console.log(data);
    var output = prettyPrint(data);
    $(""body"").append(output);
  }
});
</code></pre>

<p>I'm pretty new to all this AJAX stuff so bear with me. Setting async to false would let me get the data back and use it on the same page, correct? However, jQuery's documentation says that if the dataType is jsonp, I can't set async to false. What can I do to get the data and use it on the current page?</p>
","2013-02-13 02:38:48","","0","<javascript><ajax><api><yelp>","0","5"
"Implementing Yelp business photos into iPhone app like Apple Maps","<p>I'm curious how one might mimic Apple Map's iOS6 approach to showing Yelp photos. For example, when a user searches and clicks on a business, Maps shows a rotating slideshow of photos from Yelp's collection of pictures for that venue. The photos are shown with fade in/fade out transitions. </p>

<p>Does anyone know how to implement this? Also, might the same approach/functionality be offered using the foursquare API?</p>
","2013-01-09 09:56:15","","0","<ios6><foursquare><photos><yelp>","1","0"
"How does yelp monocle work","<p>I was wondering how the Yelp monocle works. It a cool feature , especially in terms of augmented reality. So I know they access GPS and compass data. And they have data about places nearby like hotels and bars etc. But how do they calculate the orientation w.r.t each other in real time, as I rotate my device. So if my device is pointing east and theres a pizza place to the north. I rotate my device to north. Now how does it know that I'm facing a pizza place here.  What is the crucial bit of information being used to calculate this ? </p>

<p>I am thinking of developing similar kind of app for android. Please let me know how I can approach this .. </p>
","2014-03-24 20:54:58","","-1","<android><yelp>","1","0"
"How to make a Yelp API GET request on postman?","<p>I wanted to use yelp api and I have obtained the access token from Yelp. I was trying to make a get request on Postman and I was getting the following error.</p>

<pre><code>{
    ""error"": {
        ""code"": ""VALIDATION_ERROR"",
        ""description"": ""Please specify a location or a latitude and longitude""
    }
}
</code></pre>

<p>My Url is <a href=""https://api.yelp.com/v3/businesses/search"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search</a></p>

<p><img src=""https://i.stack.imgur.com/hYwzU.png"" alt=""I am passing term, location and authorization in header field. I even tried to pass latitude and longitude, I am still getting the same error""></p>

<p>Thank you for your help.</p>
","2017-12-04 23:41:22","","0","<api><get><postman><yelp>","1","0"
"Find business reviews using yelp API","<p>I am using Yelp API for searching business reviews.</p>

<p><a href=""http://api.yelp.com/business_review_search?term=fire-it-up-naperville&amp;location=Naperville,%20IL%2060563&amp;ywsid=xxxxxxxxxxxx"" rel=""nofollow"">http://api.yelp.com/business_review_search?term=fire-it-up-naperville&amp;location=Naperville, IL 60563&amp;ywsid=xxxxxxxxxxxx</a></p>

<p>we get only 20 reviews at a time. But i want to get next page reviews. there is no input parameter for getting next page reviews. Is there any way to get next page reviews via Ylp API.</p>

<p>help is appreciated.</p>
","2015-05-15 12:36:41","","2","<api><yelp>","1","0"
"How to use RequireJS for Yelp API, clientside javascript","<p><strong>I am trying to incorporate the yelp api into my web application. I would like the user to be able to make requests to the yelp servers without going through my server and adding additional data transmission.</strong></p>

<p>How do I require yelp and also call yelp.CreateClient with requireJS? Or am I on the wrong track?</p>

<p>The setup:
-lib</p>

<p>-node_modules</p>

<p>-public--javascripts---fileusingyelp.js</p>

<p>-public--javascripts---yelp library</p>

<p>-routes</p>

<p>-views</p>

<p>app.ks</p>

<p>package.json</p>

<hr>

<p><a href=""https://github.com/olalonde/node-yelp/blob/master/demo/yelp.js"" rel=""nofollow"">I am following this demo</a>. The code:</p>

<pre><code>var yelp = require(""../index"").createClient({
  consumer_key: process.env.CONSUMER_KEY,
  consumer_secret: process.env.CONSUMER_SECRET,
  token: process.env.TOKEN,
  token_secret: process.env.TOKEN_SECRET,
  ssl: true
});


yelp.search({term: ""food"", location: ""Montreal""}, function(error, data) {
  console.log(error);
  console.log(data);
});
</code></pre>

<p>As I understand it, I can not use require in the normal way on the clientside. Because of this, I need to use the RequireJS library. </p>

<p>Here is my code:</p>

<pre><code>var yelp = require([""javascripts/yelp/index""] , function(inp){
  yelp.createClient({//second error
  consumer_key: ""key"",
  consumer_secret: ""secret"",
  token: ""token"",
  token_secret: ""token_secret"",
  ssl: true
});
});


var yresponse = yelp.search({term: ""food"", location: ""Montreal""}, function(error, data) {//first error is here
  console.log(error);
  console.log(data);
});
</code></pre>

<p>Here are the errors:
Uncaught TypeError: undefined is not a function coursecreation.js:12</p>

<p>Uncaught ReferenceError: module is not defined index.js:1</p>

<p>//this reference error is about the index.js file in the yelp library, </p>

<pre><code>module.exports = require('./lib/yelp');
</code></pre>

<p>Uncaught TypeError: undefined is not a function coursecreation.js:2</p>
","2014-04-16 20:51:25","23121535","1","<javascript><requirejs><client-side><yelp>","1","0"
"using ""offset"" parameter in yelp v1 API to get more results?","<p>I want to use ""offset"" parameter in yelp version1 Api to get next set of results.</p>

<p>without using ""offset"" i get 20 results?How can i get more?</p>

<p>api like this:</p>

<p><a href=""http://api.yelp.com/business_review_search?term=hotels&amp;lat=40.70590473669712&amp;long=-73.9780035&amp;radius=2&amp;limit=20&amp;ywsid=myywsid"" rel=""nofollow"">http://api.yelp.com/business_review_search?term=hotels&amp;lat=40.70590473669712&amp;long=-73.9780035&amp;radius=2&amp;limit=20&amp;ywsid=myywsid</a></p>
","2013-01-10 12:16:10","14841068","0","<javascript><yelp>","1","0"
"Program terminates without any error","<p>I am trying to run this Python program in Java.</p>

<p><strong>Issue:</strong>
When i run this program from Commandline: <strong>Python msp.py dennys-san-jose-2</strong> - it <strong>WORKS</strong></p>

<p>When I call the same script through this java program. It just terminates. <strong>I tested other python scripts and they work!</strong></p>

<pre><code>public void pythonrun(String args) throws IOException, InterruptedException
{
    String pythonScriptPath = ""/yelp/msp.py"";
    String[] cmd = new String[2 + args.length()];
    cmd[0] = ""C:\\Python27\\python.exe"";
    cmd[1] = pythonScriptPath;
    for(int i = 0; i &lt; args.length(); i++) {
    cmd[i+2] = args;
    }

    // create runtime to execute external command
    Runtime rt = Runtime.getRuntime();
    Process pr = rt.exec(cmd);
    //pr.waitFor();

    // retrieve output from python script
    BufferedReader bfr = new BufferedReader(new InputStreamReader(pr.getInputStream()));
    String line = """";
    while((line = bfr.readLine()) != null) {
    // display each output line form python script
    System.out.println(line);
    }
}

public static void main(String args[]) throws IOException, InterruptedException {
YelpPython demo = new YelpPython();
demo.pythonrun(""dennys-san-jose-2"");
}
</code></pre>

<p><strong>Script (msp.py):</strong></p>

<p>What it does? <em>(in short, the script goes to a page and scrapes the reviews)</em></p>

<pre><code>from bs4 import BeautifulSoup
from urllib import urlopen
import sys
queries = 0
while queries &lt;201:
    stringQ = sys.argv[1]
    page = urlopen('http://www.yelp.com/biz/' + stringQ)

    soup = BeautifulSoup(page)
    reviews = soup.findAll('p', attrs={'itemprop':'description'})
    authors = soup.findAll('span', attrs={'itemprop':'author'})

    flag = True
    indexOf = 1

    for review in reviews:
        dirtyEntry = str(review)
        while dirtyEntry.index('&lt;') != -1:
            indexOf = dirtyEntry.index('&lt;')
            endOf = dirtyEntry.index('&gt;')
            if flag:
                dirtyEntry = dirtyEntry[endOf+1:]
                flag = False
            else:
                if(endOf+1 == len(dirtyEntry)):
                    cleanEntry = dirtyEntry[0:indexOf]
                    break
                else:
                    dirtyEntry = dirtyEntry[0:indexOf]+dirtyEntry[endOf+1:]
        f=open(""reviews.txt"", ""a"")
        f.write(cleanEntry)
        f.write(""\n"")
        f.close
    queries = queries + 40
</code></pre>

<p><strong>Problem (In short):</strong></p>

<p>When I run this script through command line it works and it finally stores a <strong>reviews.txt</strong> file. But when I run it through this program nothing happens.</p>

<p>I have played with pr.wait() and pr.waitfor() and yet nothing happens.</p>

<p>Please advice.</p>

<p>Thank you. </p>
","2014-04-17 06:35:35","","1","<java><python><windows><yelp>","3","0"
"How to share reviews using  yelp in android","<p>In one of my android app, I need to integrate yelp in the app. Actually , I need to post users reviews to yelp and check users Reviews using <strong>Yelp Business API</strong> .</p>

<p>Please give me some hints or examples that how  can we post reviews using yelp's API and check those reviews using my app.</p>

<p>As much as I know we can do this using the <strong>API2.0v- Business API of yelp</strong> (reference URL <a href=""http://www.yelp.com/developers/documentation/v2/business"" rel=""nofollow"">http://www.yelp.com/developers/documentation/v2/business</a> ) but I could not find any way  to post the review from the app . They have just given an API url (sample request: <a href=""http://api.yelp.com/v2/business/yelp-san-francisco"" rel=""nofollow"">http://api.yelp.com/v2/business/yelp-san-francisco</a> ) which provide a response (in json format) that includes the reveiws of that city but what how can a user post a review using this API. </p>

<p>Any idea or help on this will be highly appreciated.</p>

<p>Thanks.   </p>
","2012-02-02 06:52:43","12664684","2","<android><api><yelp>","1","0"
"Error Parsing JSON from YELP API","<p>I am having trouble parsing JSON from Yelp API. The JSON data looks like this:</p>

<pre><code>{
    region: {
        span: {
            latitude_delta: 0,
            longitude_delta: 0
        },
        center: {
            latitude: 38.054117,
            longitude: -84.439002
        }
    },
    total: 23,
    businesses: [
        {
            is_claimed: false,
            rating: 5,
            mobile_url: ""http://m.yelp.com/biz/vineyard-community-church-lexington"",
            rating_img_url: ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"",
            review_count: 2,
            name: ""Vineyard Community Church"",
            snippet_image_url: ""http://s3-media4.ak.yelpcdn.com/photo/VoeMtbk7NRFi6diksSUtOQ/ms.jpg"",
            rating_img_url_small: ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"",
            url: ""http://www.yelp.com/biz/vineyard-community-church-lexington"",
            phone: ""8592582300"",
            snippet_text: ""I have been a member of Vineyard Community Church since 2004. Here you will find a modern worship service with a full band, witty speakers who teach..."",
            image_url: ""http://s3-media3.ak.yelpcdn.com/bphoto/D71eikniuaHjdOC8DB6ziA/ms.jpg"",
            categories: [
                [
                    ""Churches"",
                    ""churches""
                ]
            ],
            display_phone: ""+1-859-258-2300"",
            rating_img_url_large: ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png"",
            id: ""vineyard-community-church-lexington"",
            is_closed: false,
            location: {
                city: ""Lexington"",
                display_address: [
                    ""1881 Eastland Pwky"",
                    ""Lexington, KY 40505""
                ],
                geo_accuracy: 8,
                postal_code: ""40505"",
                country_code: ""US"",
                address: [
                    ""1881 Eastland Pwky""
                ],
                coordinate: {
                    latitude: 38.054117,
                    longitude: -84.439002
                },
                state_code: ""KY""
            }
        }
    ]
}
</code></pre>

<p>The JSON is stored in a ruby string called @stuff
Here is the code I use to try and parse it:</p>

<pre><code>@parsed_stuff = JSON::parse(@stuff)
</code></pre>

<p>When i do this and try and display the contents of @ parsed_stuff, i get the following error in the browser</p>

<pre><code>Parse error on line 2: { ""region""=&amp;gt;{ ""span -------------^ Expecting '}', ':', ',', ']'
</code></pre>

<p>Any help given on this issue will be highly appreciated.</p>
","2013-01-11 16:30:12","","0","<ruby><json><parsing><yelp>","1","0"
"How to search with phone no. in yelp api v2?","<p>I am newly working with yelp api. here I see that using phone number there is no search option in yelp 2.</p>

<p>I want to is any other way to search with phone number in yelp v2 that I have not noticed.</p>

<p>Thanks</p>
","2013-01-12 16:02:21","","0","<yelp>","3","2"
"Is there a way to get the Yelp URL for a given business?","<p>If I have information about a business, how do I go about getting the Yelp URL for that business via a script (say a Perl script for example)? For example, if I have information about ""Toni's Pizza &amp; Organic Pasta"", how do I about getting the Yelp URL programmatically ( which is ""http://www.yelp.com/biz/tonis-pizza-and-organic-pasta-chicago"")? Thanks!</p>
","2012-02-16 01:00:59","9304077","1","<yelp>","1","0"
"Command Line input for Python Script","<p><strong>What I am trying to do here:</strong></p>

<p>I am trying to crawl yelp and get reviews from a particular page. However, I just want to modify this script to give ""<em>Restaurant name</em>"" as input.</p>

<p>For example: </p>

<p>User Input: 
<strong>dennys-san-jose-5</strong></p>

<pre><code>URL: http://www.yelp.com/biz/**dennys-san-jose-5**
</code></pre>

<p><strong>This is the actual script I am using right now:</strong></p>

<pre><code>from bs4 import BeautifulSoup
from urllib import urlopen
queries = 0
while queries &lt;201:
    stringQ = str(queries)
    page = urlopen('http://www.yelp.com/biz/madison-square-park-new-york?start=' + stringQ)

    soup = BeautifulSoup(page)
    reviews = soup.findAll('p', attrs={'itemprop':'description'})
    authors = soup.findAll('span', attrs={'itemprop':'author'})

    flag = True
    indexOf = 1
    for review in reviews:
        dirtyEntry = str(review)
        while dirtyEntry.index('&lt;') != -1:
            indexOf = dirtyEntry.index('&lt;')
            endOf = dirtyEntry.index('&gt;')
            if flag:
                dirtyEntry = dirtyEntry[endOf+1:]
                flag = False
            else:
                if(endOf+1 == len(dirtyEntry)):
                    cleanEntry = dirtyEntry[0:indexOf]
                    break
                else:
                    dirtyEntry = dirtyEntry[0:indexOf]+dirtyEntry[endOf+1:]
        f=open(""reviews.txt"", ""a"")
        f.write(cleanEntry)
        f.write(""\n"")
        f.close

    for author in authors:
        dirty = str(author)
        closing = dirty.index('&gt;')
        dirty = dirty[closing+1:]
        opening = dirty.index('&lt;')
        cleanEntry = dirty[0:opening]
        f=open(""bla.txt"", ""a"")
        f.write(cleanEntry)
        f.write(""\n"")
        f.close 
    queries = queries + 40
</code></pre>

<p>I am trying to read the restaurant name as parameter but it does not work somehow.</p>

<p><strong>What i did:</strong></p>

<pre><code>while queries &lt;201:
    stringQ = str(queries)
    page = urlopen('http://www.yelp.com/biz/' + stringQ)
</code></pre>

<p>But it does not work. I am giving <strong>dennys-san-jose-5</strong> as input from commandline (python script.py dennys-san-jose-5) </p>

<p>Please suggest me the issue here and how I can fix.</p>

<p>Regards,</p>
","2014-04-16 08:27:08","23104091","0","<python><html><beautifulsoup><yelp>","1","0"
"File Operation in Python","<p><strong>What I am trying to do:</strong></p>

<p>I am trying to use '<em>Open</em>' in python and this is the script I am trying to execute. I am trying to give ""restaurant name"" as input and a file gets saved (reviews.txt).</p>

<p><strong>Script:</strong> <em>(in short, the script goes to a page and scrapes the reviews)</em></p>

<pre><code>from bs4 import BeautifulSoup
from urllib import urlopen
queries = 0
while queries &lt;201:
    stringQ = str(queries)
    page = urlopen('http://www.yelp.com/biz/madison-square-park-new-york?start=' + stringQ)

    soup = BeautifulSoup(page)
    reviews = soup.findAll('p', attrs={'itemprop':'description'})
    authors = soup.findAll('span', attrs={'itemprop':'author'})

    flag = True
    indexOf = 1
    for review in reviews:
        dirtyEntry = str(review)
        while dirtyEntry.index('&lt;') != -1:
            indexOf = dirtyEntry.index('&lt;')
            endOf = dirtyEntry.index('&gt;')
            if flag:
                dirtyEntry = dirtyEntry[endOf+1:]
                flag = False
            else:
                if(endOf+1 == len(dirtyEntry)):
                    cleanEntry = dirtyEntry[0:indexOf]
                    break
                else:
                    dirtyEntry = dirtyEntry[0:indexOf]+dirtyEntry[endOf+1:]
        f=open(""reviews.txt"", ""a"")
        f.write(cleanEntry)
        f.write(""\n"")
        f.close

    queries = queries + 40
</code></pre>

<p><strong>Problem:</strong>
It's using append mode 'a' and according to documentation, 'w' is the write mode where it overwrites. When i change it to 'w' nothing happens.</p>

<pre><code>f=open(""reviews.txt"", ""w"") #does not work!
</code></pre>

<p><strong>Actual Question:</strong>
EDIT: Let me clear the confusion.</p>

<p>I just want <strong>ONE review.txt</strong> file with all the reviews. Everytime I run the script, I want the script to overwrite the existing review.txt with new reviews according to my input.</p>

<p>Thank you,</p>
","2014-04-16 09:07:54","","2","<python><yelp>","2","7"
"Append JSON data from Yelp API to html","<p>I tried the JavaScript example from the Yelp developer site. Everything´s working but I wonder how to append the JSON data to an html list (ul). The list should contain restaurants in my town. Does anybody know how to do this? </p>

<p>P.S. PHP would be OK, too. </p>

<p><strong>Edit:</strong>
Thank you for your answers but it still doesn´t work. I´m not able to give you more details because the Yelp API is poorly documented and I´m new to JSON and PHP. </p>
","2013-03-16 11:06:07","","1","<php><javascript><jquery><html><yelp>","2","9"
"Using Nokia/Yelp Map API for finding POIs in an area","<p>I'm trying to find the number of POIs inside a particular area using a map API. It's been recommended that I use either Nokia or Yelp APIs but I'm struggling to work out how to start on this project.</p>

<p>The actual type of the Point of interest is unimportant, all are relevant in this case. If anyone has any experience of these map APIs and would know what I should look at, or examples that would be useful for me to start, I would be extremely grateful!</p>

<p>Thanks</p>
","2013-01-15 15:43:39","14355720","0","<api><map><yelp><here-api>","1","0"
"Parsing JSON data from Yelp API","<p>I'm new to programming and am trying to parse some data returned from Yelp's API. From this data, how could I return something like just the phone number (display_phone) and address? Thank you</p>

<pre><code>Result for business ""little-miss-bbq-phoenix-2"" found:
{ u'categories': [[u'Barbeque', u'bbq']],
  u'display_phone': u'+1-602-437-1177',
  u'id': u'little-miss-bbq-phoenix-2',
  u'image_url': u'http://s3-media2.fl.yelpcdn.com/bphoto/4Rcm0IIbRhdo-4Z4KPvuXQ/ms.jpg',
  u'is_claimed': True,
  u'is_closed': False,
  u'location': { u'address': [u'4301 E University Dr'],
                 u'city': u'Phoenix',
                 u'coordinate': { u'latitude': 33.421587,
                                  u'longitude': -111.989088},
                 u'country_code': u'US',
                 u'display_address': [ u'4301 E University Dr',
                                       u'Phoenix, AZ 85034'],
                 u'geo_accuracy': 9.5,
                 u'postal_code': u'85034',
                 u'state_code': u'AZ'},
  u'mobile_url': u'http://m.yelp.com/biz/little-miss-bbq-phoenix-2',
  u'name': u'Little Miss BBQ',
  u'phone': u'6024371177',
  u'rating': 5.0,
  u'rating_img_url': u'http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png',
  u'rating_img_url_large': u'http://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png',
  u'rating_img_url_small': u'http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png',
  u'review_count': 403,
  u'reviews': [ { u'excerpt': u""I saw that this place had almost 400 reviews and that they have a perfect 5 star rating. It sounded too good to be true BUT it's worth every star and..."",
                  u'id': u'-9poa0ycpVnOveVlqbYE9Q',
                  u'rating': 5,
                  u'rating_image_large_url': u'http://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png',
                  u'rating_image_small_url': u'http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png',
                  u'rating_image_url': u'http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png',
                  u'time_created': 1431095420,
                  u'user': { u'id': u'd43iQ50HjWIl4vN4rBgoVQ',
                             u'image_url': u'http://s3-media4.fl.yelpcdn.com/photo/sn17KBbRjXOEELnjSir1tg/ms.jpg',
                             u'name': u'Jason J.'}}],
  u'snippet_image_url': u'http://s3-media4.fl.yelpcdn.com/photo/sn17KBbRjXOEELnjSir1tg/ms.jpg',
  u'snippet_text': u""I saw that this place had almost 400 reviews and that they have a perfect 5 star rating. It sounded too good to be true BUT it's worth every star and..."",
  u'url': u'http://www.yelp.com/biz/little-miss-bbq-phoenix-2'}
</code></pre>
","2015-05-09 06:17:47","","0","<json><parsing><yelp>","0","3"
"Yelp Fusion API for Front-End Usage","<p>I am currently developing a food truck tracker search engine and would like to use Yelp Fusion in order for reviews to appear for search results.  I was able to obtain an token via POST call.  How would I be able to use this for front-end usage?  I am currently using javascript and was able to successfully test my code via Node.  Any assistance would be greatly appreciated.</p>

<pre><code> // to test this code use bash, go to the folder and enter ""node yelpA.jspi""
 'use strict';



const yelp = require('yelp-fusion');


// Place holders for Yelp Fusion's OAuth 2.0 credentials. Grab them
// from https://www.yelp.com/developers/v3/manage_app
const clientId = '********';
const clientSecret = '********';

const searchRequest = {
term:'Food Truck',
location: 'Chicago, IL'
};

yelp.accessToken(clientId, clientSecret).then(response =&gt; {
const client = yelp.client(response.jsonBody.access_token);

//Insert food truck name here
client.reviews('babycakes-chicago').then(response =&gt; {
console.log(response.jsonBody.reviews[0].text);
}).catch(e =&gt; {
console.log(e);



});
});
</code></pre>
","2017-07-05 00:10:55","","0","<javascript><node.js><bash><api><yelp>","0","0"
"How to match to latitude and longitude of same place from different sources","<p>I am working with <strong>google</strong> and <strong>yelp</strong> APIs and getting result of different places detail by using these two APIs. </p>

<p>I want to combine result of one place from these both APIs and only one thing is common which is latitude and longitude. But there is a problem that after every 3 to 4 digits after decimal point the value in few cases varies like from google it will be <strong>-111.86</strong> and from yelp <strong>-111.85</strong>. So is there any way to solve this issue? I was thinking to compare the latitudes and longitudes and get distance but its seems lengthy. </p>

<p>I am saving only 2 digits after decimal point but I can increase it but that will also create same problem. </p>
","2017-07-12 10:43:04","","1","<php><laravel><api><google-places-api><yelp>","0","0"
"Yelp API : Retrieving reviews of a business","<p>IS there any way I could retrieve all the reviews of a business Using the API ?</p>

<p>The sample response here just shows 3 </p>

<pre><code>http://www.yelp.com/developers/documentation/v2/business
</code></pre>
","2013-11-20 01:47:25","","5","<api><yelp>","2","0"
"Undefined method while fetching data from json","<p>I tried to search with Yelp API using Yelp-Ruby gem. While I have some success with fetching results, sometimes I got an error like this:</p>

<p><em>undefined method `image_url' for #</em></p>

<p>I think the JSON returned does not have image_url or image_url = nil. But I don't know how to resolve it (I'm new to rails). </p>

<p>Here is my Search controller:</p>

<pre><code>def search
  parameters = { term: params[:term], limit: 10}
  @response = Yelp.client.search('Melbourne', parameters)
render 'location_search/new' 
</code></pre>

<p>end</p>

<p>And the corresponding results view:</p>

<pre><code>&lt;% @response.businesses.each do |business| %&gt;
&lt;div class=""large-6 columns""&gt;
    &lt;p&gt;&lt;%= image_tag business.image_url %&gt;
    &lt;p style='color: white'&gt;&lt;%= business.name %&gt;
        &lt;p style='color: white'&gt;&lt;% business.categories.each do |category, name| %&gt;
                                &lt;%= name %&gt; , 
                                &lt;% end %&gt;
    &lt;p style='color: white'&gt;&lt;%= business.rating %&gt;
    &lt;p style='color: white'&gt;&lt;%= image_tag business.rating_img_url %&gt;
&lt;/div&gt;
&lt;% end %&gt;
</code></pre>

<p>Thank you,</p>
","2014-10-16 08:36:46","26408045","0","<ruby-on-rails><ruby><yelp>","1","0"
"How come I get an error like ""TypeError: yelp.accessToken is not a function""?","<p>I was using the code provided by the yelp github repository. </p>

<pre><code>const yelp = require('yelp-fusion');

// Place holders for Yelp Fusion's OAuth 2.0 credentials. Grab them
// from https://www.yelp.com/developers/v3/manage_app
const clientId = process.env.clientId;
const clientSecret = process.env.clientSecret;

const searchRequest = {
  term:'Four Barrel Coffee',
  location: 'san francisco, ca'
};

yelp.accessToken(clientId, clientSecret).then(response =&gt; {
  const client = yelp.client(response.jsonBody.access_token);

  client.search(searchRequest).then(response =&gt; {
    const firstResult = response.jsonBody.businesses[0];
    const prettyJson = JSON.stringify(firstResult, null, 4);
    console.log(prettyJson);
  });
}).catch(e =&gt; {
  console.log(e);
});
</code></pre>

<p>integrated this code correctly to my server.js and then I got the error 
TypeError: yelp.accessToken is not a function</p>

<p>when trying to execute the code from </p>

<pre><code>app.get('/search', function(req, res) {   

yelp.accessToken(clientId, clientSecret).then(response =&gt; {
  var client = yelp.client(response.jsonBody.access_token);

  client.search(searchRequest).then(response =&gt; {
    var firstResult = response.jsonBody.businesses[0];
    var prettyJson = JSON.stringify(firstResult, null, 4);
    console.log(prettyJson);
  });
}).catch(e =&gt; {
  console.log(e);
}); 
</code></pre>

<p>and I don't know why. It should work correctly. </p>
","2017-05-16 11:19:11","","1","<node.js><yelp>","0","0"
"Can't get Yelp API v2 (PHP) to work","<p>I've been all over the web and its pretty unclear to me how to get the yelp api to work using the php code sample provided.</p>

<p>So far I have</p>

<p>Grabbed the sample php file from here <a href=""https://raw.githubusercontent.com/Yelp/yelp-api/master/v2/php/sample.php"" rel=""nofollow"">https://raw.githubusercontent.com/Yelp/yelp-api/master/v2/php/sample.php</a></p>

<p>I have not modified this file at all except to add my authentication.</p>

<p>Gotten all of my tokens,keys and secrets</p>

<pre><code>$CONSUMER_KEY = ""GOT IT!"";
$CONSUMER_SECRET = ""GOT IT!"";
$TOKEN = ""GOT IT!"";
$TOKEN_SECRET = ""GOT IT!""; 
</code></pre>

<p>I am including the OAuth, which I got from here <a href=""http://oauth.googlecode.com/svn/code/php/"" rel=""nofollow"">http://oauth.googlecode.com/svn/code/php/</a></p>

<pre><code>require_once('OAuth.php');
</code></pre>

<p>In the read me document it states to simply go to the php file and check out the results</p>

<p>When I visit the page on my site, I get this error message(I removed my actual consumer key)</p>

<blockquote>
  <p><code>0 businesses found, querying business info for the top result """"
  Result for business """"
  found: {""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fbusiness%2F\u0026oauth_consumer_key%KEY%26oauth_nonce%3Db7869743b1599850a2db6e92fc2a6239%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1414090806%26oauth_token%3DyJMyLRsFiAIuKSuclV1d6pb0pwjwiEat%26oauth_version%3D1.0""}}</code></p>
</blockquote>

<p>I just signed up for the api keys today and have checked and double checked and they are correct in the php file.</p>

<p>I've also attempted to add parameters to the url to see if I can get any results and its always the same error.</p>

<p>My end goal is to pull in all reviews for a business by using its phone number as a search parameter. If anyone can provide an example of how I would pass the parameter that would be so helpful too.</p>
","2014-10-23 19:39:11","","0","<php><api><yelp>","2","1"
"Printing JSON elements","<p>There is something I don't understand about how to print a JSON element. With Yelp, thanks to this query ""<a href=""https://api.yelp.com/v3/businesses/search?cc=FR&amp;location=Toulouse&amp;categories=movietheaters&amp;limit=1"" rel=""nofollow noreferrer"">https://api.yelp.com/v3/businesses/search?cc=FR&amp;location=Toulouse&amp;categories=movietheaters&amp;limit=1</a>"" I can retrieve this JSON:</p>

<pre><code>{
  ""businesses"": [
    {
      ""id"": ""gaumont-wilson-toulouse-2"",
      ""name"": ""Gaumont Wilson"",
      ""image_url"": ""https://s3-media1.fl.yelpcdn.com/bphoto/dYJc874NnEJ9-jX2amrLvw/o.jpg"",
      ""is_closed"": false,
      ""url"": ""https://www.yelp.com/biz/gaumont-wilson-toulouse-2?adjust_creative=Xi9rQmCT871UpMvNRzAfuw&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_search&amp;utm_source=Xi9rQmCT871UpMvNRzAfuw"",
      ""review_count"": 165,
      ""categories"": [
        {
          ""alias"": ""movietheaters"",
          ""title"": ""Cinema""
        }
      ],
      ""rating"": 4,
      ""coordinates"": {
        ""latitude"": 43.6044154,
        ""longitude"": 1.4475916
      },
      ""transactions"": [],
      ""location"": {
        ""address1"": ""3 place du Président Thomas Wilson"",
        ""address2"": null,
        ""address3"": null,
        ""city"": ""Toulouse"",
        ""zip_code"": ""31000"",
        ""country"": ""FR"",
        ""state"": ""31"",
        ""display_address"": [
          ""3 place du Président Thomas Wilson"",
          ""31000 Toulouse"",
          ""France""
        ]
      },
      ""phone"": ""+33534445050"",
      ""display_phone"": ""+33 5 34 44 50 50"",
      ""distance"": 451.43923036020004
    }
  ],
  ""total"": 11,
  ""region"": {
    ""center"": {
      ""latitude"": 43.602510035320684,
      ""longitude"": 1.4426422119140625
    }
  }
}
</code></pre>

<p>then I look into JSON this way:</p>

<pre><code>response_data = response.json()
for i in response_data['businesses']:
    print i['name']
</code></pre>

<p>but the <code>'name'</code> is the only thing I can print! </p>

<p>I cannot print <code>'address1'</code>, <code>'city'</code> or <code>'zip_code'</code>. </p>

<p>Why?</p>
","2017-05-24 22:07:43","44175416","-1","<python><json><yelp>","3","1"
"Yelp get request not working","<p>When i do the same request in Postman everything is fine but when i try it in Alamofire i get an error.
I'm user Alamofire in swift for the request. Here is my code.</p>

<pre><code>let parameters: Parameters = [""term"": searchTerm as AnyObject, ""location"": ""Washington DC"" as AnyObject]
//        let headers: HTTPHeaders = [tokenType!: accessToken!]
        Alamofire.request(""https://api.yelp.com/v3/businesses/search"", method: .get, parameters: parameters, encoding: JSONEncoding.default, headers: [""Authorization"": ""Bearer Access_token_************************""])
</code></pre>

<p>Error text:</p>

<pre><code>{
    error =     {
        code = ""VALIDATION_ERROR"";
        description = ""Please specify a location or a latitude and longitude"";
    };
</code></pre>
","2017-04-06 16:01:13","","1","<ios><swift><alamofire><yelp>","0","2"
"best solutions to combine different geo web services results?","<p>I would like to call different geo webservice in order to get the data with the geo location. for example I would like to search restaurants in san francisco from google place api, yelp api.</p>

<p>let say i will get the following data.</p>

<p>google:
restaurant A, address A, latlng(x1,y1) ,restaurant B, address B, latlng(x2,y2) </p>

<p>yelp:
restaurant C, address C, latlng(x3,y3) ,restaurant B1, address B1, latlng(x2.1,y2.1) </p>

<p>the situation is restaurant B and B1 are actually the same. A and C are different. and I need to display in my app with A, B, C restaurants.</p>

<p>How can I identify the difference of the result based on the name, address and latlng?</p>

<p>my solution is </p>

<ol>
<li>compare the name with string first, if 100% same then return.</li>
<li>compare the address with street number, street name, zipcode, if 100% same then return</li>
<li>compare the coordinate,  if the distance((x1,y1),(x2,y2)) &lt; 10m then return.</li>
</ol>

<p>I would like to ask if any better solution?</p>
","2013-08-07 08:57:33","","0","<geolocation><google-places-api><yelp>","0","2"
"Python & Yelp API: how to bypass JSON response LOCATION_NOT_FOUND","<p>I arrive to retrieve JSON from Yelp API.
Problems arrive when I search for a town but that town is not in Yelp database.
In this case I receive a response:</p>

<pre><code>{
  ""error"": {
    ""code"": ""LOCATION_NOT_FOUND"",
    ""description"": ""Could not execute search, try specifying a more exact location.""
  }
}
</code></pre>

<p>As I'm searching in bulk I would like to write a statement that says that <code>if</code> ""LOCATION_NOT_FOUND"" is inside my JSON response, do nothing and pass to the next town.</p>

<p>I need something like this:</p>

<pre><code>if response_data['error']['code'] == 'LOCATION_NOT_FOUND':
    pass
else:
</code></pre>

<p>but is not working because it says:</p>

<pre><code>if response_data['error']['code'] == 'LOCATION_NOT_FOUND':
KeyError: 'error'
</code></pre>

<p>this because error is not always there but just when there is no town</p>
","2017-06-04 08:52:59","44353933","0","<python><json><yelp>","1","2"
"Python: parse JSON in loop","<p>I have a function that pick-ups <code>Country,City,Latitude,Longitude</code> from a database and search on Yelp API for particular business. </p>

<p>And everything works fine:</p>

<pre><code>def get_movietheaters_for(country, city, latitude, longitude):
    connection2 = pyodbc.connect('DRIVER={SQL Server};'                      
                                 'SERVER=ASPIRES3;'                         
                                 'DATABASE=worldcitiespop;'                 
                                 'UID=sqlninja;'                            
                                 'PWD=sqlninja')                            
    cursor2 = connection2.cursor()                                          
    # Call Yelp API to pull business data                                   
    # (Yelp v3 API: https://nz.yelp.com/developers/documentation/v3)        
    url = 'https://api.yelp.com/v3/businesses/search'                       
    params = {'cc': country,                                                
              'location': city,                                             
              'cll': ""%s,%s"" % (latitude, longitude),                       
              'categories': args.category,                                  
              'limit': args.limit}                                          
    response = requests.get(url = url, headers = headers, params=params)    
    # if response.status_code == 200:                                       
    response_data = response.json()                                         

    sqlStatement = ""INSERT INTO VistaYelp (ID, Name, City, Zip_code, Country, State, Address1, Address2, Address3, Latitude, Longitude, Phone, Yelp_URL, Review_Count, Rating) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)"" # Query
    # Here we go to store JSON elements for SQL


    for SQL_element in response_data['businesses']:
        SQL_ID = SQL_element['id']                                                      
        SQL_Name = SQL_element['name']                                                  
        SQL_City = SQL_element['location']['city']                                      
        SQL_Zip_code = SQL_element['location']['zip_code']                              
        SQL_Country = SQL_element['location']['country']                                
        SQL_State = SQL_element['location']['state']                                    
        SQL_Address1 = SQL_element['location']['address1']                              
        SQL_Address2 = SQL_element['location']['address2']                              
        SQL_Address3 = SQL_element['location']['address3']                              
        SQL_Latitude = SQL_element['coordinates']['latitude']                           
        SQL_Longitude = SQL_element['coordinates']['longitude']                         
        SQL_Phone = SQL_element['phone']                                                
        SQL_YelpURL = SQL_element['url']                                                
        SQL_Review = SQL_element['review_count']                                        
        SQL_Rating = SQL_element['rating']                                              

        if args.do == 'show':   
            print (SQL_ID,SQL_Name,SQL_City,SQL_Zip_code,SQL_Country,SQL_State,
                SQL_Address1,SQL_Address2,SQL_Address3,SQL_Latitude,SQL_Longitude,SQL_Phone)
        elif args.do == 'save':    
            cursor2.execute(sqlStatement, SQL_ID,SQL_Name,SQL_City,SQL_Zip_code,SQL_Country,SQL_State,SQL_Address1,SQL_Address2,SQL_Address3,SQL_Latitude,SQL_Longitude,SQL_Phone,SQL_YelpURL,SQL_Review,SQL_Rating)
            connection2.commit()

    if args.do == 'show':
        print ('\nTotal Cinemas found: ' , len(response_data['businesses']),' for Latitude and Longitude ', latitude, longitude)
    elif args.do == 'save':
        print ('\nTotal Cinemas found and saved in database: ' , len(response_data['businesses']),' for', latitude, longitude)
</code></pre>

<p>Problem start when the script search for a town that doesn't exists or is not in the Yelp database, so JSON call returns me:</p>

<pre><code>{
  ""error"": {
    ""code"": ""LOCATION_NOT_FOUND"",
    ""description"": ""Could not execute search, try specifying a more exact location.""
  }
}
</code></pre>

<p>and the script dies in terrible pain (my pain actually):</p>

<p><a href=""https://i.stack.imgur.com/aozVy.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/aozVy.png"" alt=""enter image description here""></a> </p>

<p>And it make sense to me, Python is saying: </p>

<pre><code>    for SQL_element in response_data['businesses']:
KeyError: 'businesses'
</code></pre>

<p>Which translated means:""Hey dude, you know 'businesses' JSON element, there is no such element in the response, so I don't know what to do, so I stop here.""</p>

<p>How can I structure something like: keep doing your job and <code>if response_data['error']['code'] == 'LOCATION_NOT_FOUND':</code> do nothing?</p>
","2017-06-04 23:08:45","44359751","0","<python><json><if-statement><yelp>","5","0"
"Yelp API and Swift 3.0","<p>How do I setup YelpAPI with Swift 3.0? I am working in XCode and would like to see how you authenticate and begin your project. What CocoaPods do you install? </p>
","2017-06-09 18:16:31","","0","<yelp>","0","0"
"JSONP Failure for Yelp Fusion API","<p>I am a growing React developer, using Mac OSX with a Chrome browser. I have worked through many different methods attempting to receive JSONP from the Yelp Fusion API on my front-end application, using other references in stackoverflow, but still have trouble successfully doing so.</p>

<p>One of the most promising methods I have tried is implementing the call in the componentWillMount() method in my React component after importing jQuery, but receive a GET failure:</p>

<pre><code>$.ajax({
     url: 'https://api.yelp.com/businesses/search',
     dataType: 'jsonp',
     data: { 
          term: 'restaurants',
          latitude: [lat],
          longitude: [long]
     },
     success: 
         function(data) { console.log('received jsonp'); }
 });
</code></pre>

<p>Do I have a syntactic error, or am I missing something altogether? I know that Yelp Fusion's API expects an Authorization token in its Header (which I have obtained), but I am under the impression that this is unnecessary if trying to obtain JSONP.</p>

<p>Any help or clarity of my misconceptions is greatly appreciated. Thank you.</p>
","2017-06-09 18:48:40","","0","<jquery><api><reactjs><jsonp><yelp>","1","2"
"Google Place API - How to retrieve opening hours","<p>There a way to get the opening hours of google place?
I looked for in a several forum and documentations but i didn't find nothing (perhaps only foursquare API expose that information)</p>

<p>Google doesn't expose this information?</p>

<p>Is there any service that expose this? (facebook place, yelp, ecc..)</p>

<p>Thanks so much for all reply</p>

<p>Alberto</p>
","2012-05-05 15:41:37","17538819","3","<.net><foursquare><google-places-api><yelp>","3","1"
"Errors with Yelp API output","<p>I am trying to do something with Yelp API2</p>

<pre><code>$response = json_decode($data);
</code></pre>

<p>which returns data in a PHP object format that looks something like this:</p>

<pre><code>stdClass Object
(
[region] =&gt; stdClass Object
    (
        [span] =&gt; stdClass Object
            (
                [latitude_delta] =&gt; 0.28083237848028
                [longitude_delta] =&gt; 0.23501544732261
            )

        [center] =&gt; stdClass Object
            (
                [latitude] =&gt; 31.335313781127
                [longitude] =&gt; -92.786144296672
            )

    )

[total] =&gt; 736
[businesses] =&gt; Array
    (
        [0] =&gt; stdClass Object
            (
                [is_claimed] =&gt; 1
                [rating] =&gt; 4
                [mobile_url] =&gt; http://m.yelp.com/bizzzz?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=toQu_qgvu90-Z7dQuZOWMQ
                [rating_img_url] =&gt; https://s3-media4.fl.yelpcdn.com/assets/2/www/img/c2f3dd9799a5/ico/stars/v1/stars_4.png
                [review_count] =&gt; 147
                [name] =&gt; Name here
                [rating_img_url_small] =&gt; https://s3-media4.fl.yelpcdn.com/assets/2/www/img/f62a5be2f902/ico/stars/v1/stars_small_4.png
                [url] =&gt; http://www.yelp.com/biz/zzz?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=toQu_qgvu90-Z7dQuZOWMQ
                [categories] =&gt; Array
                    (
                        [0] =&gt; Array
                            (
                                [0] =&gt; Chinese
                                [1] =&gt; chinese
                            )
                    )

                [phone] =&gt; 5123355555
                [snippet_text] =&gt; My family and I went to HAO-Q Asian Kitchen for the first time before a performance of our children in Aladdin.  We all happen really love Asian cuisine....
                [image_url] =&gt; https://s3-media3.fl.yelpcdn.com/bphoto/XS5NjGCdn3s14_efs9w5rw/ms.jpg
                [snippet_image_url] =&gt; http://s3-media4.fl.yelpcdn.com/photo/ZxVY3kdLGl6AyAblYbIRgQ/ms.jpg
                [display_phone] =&gt; +1-512-338-5555
                [rating_img_url_large] =&gt; https://s3-media2.fl.yelpcdn.com/assets/2/www/img/ccf2b76faa2c/ico/stars/v1/stars_large_4.png
                [id] =&gt; kitchen-austin
                [is_closed] =&gt; 
                [location] =&gt; stdClass Object
                    (
                        [city] =&gt; Austin
                        [display_address] =&gt; Array
                            (
                                [0] =&gt; 123 Street
                                [1] =&gt; Ste 113
                                [2] =&gt; Far West
                                [3] =&gt; Austin, TX 78731
                            )

                        [geo_accuracy] =&gt; 8
                        [neighborhoods] =&gt; Array
                            (
                                [0] =&gt; Far West/Northwest Hills
                            )

                        [postal_code] =&gt; 78731
                        [country_code] =&gt; US
                        [address] =&gt; Array
                            (
                                [0] =&gt; 3742 Far W Blvd
                                [1] =&gt; Ste 113
                            )

                        [coordinate] =&gt; stdClass Object
                            (
                                [latitude] =&gt; 31.356237
                                [longitude] =&gt; -92.758041
                            )

                        [state_code] =&gt; TX
                    )

            )
</code></pre>

<p>I want to output a few results using limit:</p>

<pre><code>$limit = (isset($_POST['displayLimit']) ? $_POST['displayLimit'] : 10);

for ($x = 0; $x &lt;= $limit; $x++) { 

}
</code></pre>

<p>The output is just fine but I also keep getting the following errors for each iteration of the loop and every value:</p>

<pre><code>Notice: Undefined offset: 10 in /mypath/YelpTest.php on line 94 Notice: Trying to get property of non-object in /mypath/YelpTest.php on line 94
</code></pre>

<p>And I have on such line is:</p>

<pre><code>echo $response-&gt;businesses[$x]-&gt;name;
</code></pre>

<p>What am I missing?</p>
","2016-03-03 16:05:45","35931975","6","<php><api><yelp>","4","0"
"Android Menu Layout Front page","<p>I want to make a menu sort of similar to <a href=""http://mobiputing.wpengine.netdna-cdn.com/wp-content/uploads/2010/07/yelp-2.0-android.jpg"" rel=""nofollow"">Yelps front page</a>.</p>

<p>The left image in particular. I feel like I've seen this on multiple apps, and I also remember thinking that this was actually something built into the default android layouts, but I can't seem to find anything on it anywhere. </p>

<p>How would I go about making this layout? Is there something already built for you, or do I have to make using image buttons and a relative layout?</p>
","2012-02-20 23:52:17","9370664","1","<java><android><design><layout><yelp>","2","0"
"How to use Yelp API v2 C# example in Umbraco site","<p>I'm new to .net and Umbraco in general. I have a basic site setup and want to use the Yelp API to display some content on the site. I've played with the code sample from git:</p>

<p><a href=""https://github.com/Yelp/yelp-api/tree/master/v2/csharp"" rel=""nofollow"">https://github.com/Yelp/yelp-api/tree/master/v2/csharp</a></p>

<p>And have successfully built that, which produces an executable command line program. My question is, how do I convert the code from the sample for use directly on the website, specifically Umbraco v7?</p>

<p>Any help much appreciated, thanks.</p>
","2014-10-24 16:41:55","26959307","0","<c#><umbraco7><yelp>","1","0"
"Where to put custom/new class file in Laravel?","<p>I have PHP example on how to use Yelp Fusion API. It uses <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/php/lib/OAuth.php"" rel=""nofollow noreferrer""><code>OAuth.php</code> file</a> with several classes. In main example it is imported with</p>

<pre><code>require_once('lib/OAuth.php');
</code></pre>

<p>Can I do the same in Laravel?</p>

<p>Or I'd better provide namespace for <code>OAuth.php</code> file and put it somewhere on the tree? Where to put it?</p>
","2017-04-07 11:29:32","","1","<php><laravel><oauth><namespaces><yelp>","2","1"
"Yelp business ID code with Yelp API","<p>I have a .csv file of yelp reviews that I must use. It gives an alphanumeric id for each user and business(possibly review). I haven't been able to find any way of using these codes to locate the associated business' yelp page. The codes look like this...</p>

<p>""TR0-w6VoZDAdvFQiq7P2Ug"" for Capriotti's Sandwich Shop</p>

<p>""pLZ9oZM8c6MNbRlg06lBPg"" for Impact Auto Glass &amp; Tint</p>

<p>etc...</p>

<p>I don't have any other info on these businesses that I could potentially use. I really want to be able to use Yelp's API to find image URLs (which I have been able to use), but haven't had any luck translating the info in my .csv file to something the API can use.</p>

<p>Thanks in advance.</p>
","2018-03-17 16:32:43","","0","<api><yelp>","1","0"
"Is there a iOS library for a menu like Yelp?","<p>I am building an iOS app for my university, but I am struggling with the question which Menu library I should use for building my ""Start screen menu"".</p>

<p>I like the menu style Yelp is using (see image below). Does anyone know if there is an iOS library for me to use, which has a similar menu like the menu in Yelp?</p>

<p>Thank you very much!</p>

<p><img src=""https://i.stack.imgur.com/ENSga.png"" alt=""The Yelp menu""></p>
","2014-11-06 19:34:19","","-2","<ios><menu><yelp>","1","0"
"How to get access to OAuth2 token for Yelp Fusion Api using C#","<p>I am trying to get an access OAuth2 token for Yelp Fusion Api using C# as mentioned in the documentation: <a href=""https://www.yelp.com/developers/documentation/v3/get_started"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/get_started</a> </p>

<p>However, I am getting the error :</p>

<p>client_id or client_secret not found. Make sure to provide client_id and client_secret in the body with the application application/x-www-form-urlencoded</p>

<p>The following is the code snippet:</p>

<pre><code>&lt;code&gt;
string baseURL = ""https://api.yelp.com/oauth2/token"";
Dictionary&lt;string, string&gt; query = new Dictionary&lt;string, string&gt;();

query[""grant_type""] = ""client_credentials"";
query[""client_id""] = CONSUMER_KEY;
query[""client_secret""] = CONSUMER_SECRET;

HttpWebRequest request = (HttpWebRequest)WebRequest.Create(baseURL);
request.Accept = ""application/json"";
request.Method = ""POST"";
request.ContentType = ""application/x-www-form-urlencoded"";

StreamWriter requestWriter = new StreamWriter(request.GetRequestStream());
requestWriter.Write(query.ToString());
requestWriter.Close();

HttpWebResponse response = (HttpWebResponse)request.GetResponse();
var stream = new StreamReader(response.GetResponseStream(), Encoding.UTF8);
Console.WriteLine(stream.ReadToEnd());
&lt;/code&gt;
</code></pre>
","2017-04-22 02:29:05","","2","<c#><rest><oauth-2.0><restful-authentication><yelp>","1","0"
"Querying Yelp API using Python","<p>I'm trying to collect restaurant information on yelp.  I have the restaurant name, and am using yelpapi.</p>

<p>I typed in the following:</p>

<pre><code>from yelpapi import YelpAPI
yelp_api = YelpAPI(&lt;key&gt;, &lt;secret&gt;, &lt;token&gt;, &lt;token secret&gt;)
search_results = yelp_api.search_query(name = 'Neptune Oyster', location='Boston, MA'),
</code></pre>

<p>But ended up with a list of 20 businesses, none of which are the right one.  How should I specify restaurant name in my API query?</p>

<p>Also, how would I go about pulling out all of the reviews for a given restaurant? </p>

<p>Thanks!</p>
","2014-07-30 02:25:50","25028340","0","<python><yelp>","3","0"
"How to bypass the yelp api request 'Access-Control-Allow-Origin' header","<p>I was wondering if there was a way to get rid of this error : No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled; when making request calls to yelp api. </p>

<p>I've used the node-yelp library as well another set of code that results in the same error.</p>

<p>Is there any way to bypass this header that its asking for? </p>

<p>Thanks!</p>
","2016-12-12 20:36:06","","0","<javascript><node.js><yelp>","0","3"
"Yelp API Google App Script OAuth","<p>I am trying to use Google Apps Script to query the Yelp Search Api and put the results into a spreadsheet.  I having issues making the call to yelp using this example as a model:  </p>

<pre><code>var consumerKey = ""... register your app with Twitter ..."";
var consumerSecret = ""... register your app with Twitter ..."");

var oauthConfig = UrlFetchApp.addOAuthService(""twitter"");
oauthConfig.setAccessTokenUrl(""http://api.twitter.com/oauth/access_token"");
oauthConfig.setRequestTokenUrl(""http://api.twitter.com/oauth/request_token"");
oauthConfig.setAuthorizationUrl(""http://api.twitter.com/oauth/authorize"");
oauthConfig.setConsumerKey(consumerKey);
oauthConfig.setConsumerSecret(consumerSecret);

// ""twitter"" value must match the argument to ""addOAuthService"" above.
var options = {
  ""oAuthServiceName"" : ""twitter"",
  ""oAuthUseToken"" : ""always""
};

var url = ""http://api.twitter.com/1/statuses/user_timeline.json"";
var response = UrlFetchApp.fetch(url, options);
var tweets = JSON.parse(response.getContentText());

// Handle tweets
</code></pre>

<p><a href=""https://developers.google.com/apps-script/class_oauthconfig"" rel=""nofollow"">https://developers.google.com/apps-script/class_oauthconfig</a></p>

<p>This class only has methods for setting the access token URLs which Yelp doesn't appear to provide.  They just provide the Token and Token Secret directly.  I assumed that these would be set like the Consumer Key and Secret but I haven't found  a way.</p>
","2012-10-30 23:45:26","13163459","4","<oauth><google-apps-script><yelp>","1","0"
"How to get a Yelp access token","<p>I am trying to use the yelp fusion api but cannot seem to find out how to format the url. I have read the get started page but do not understand it. I just need to know where to put what. This is what I have so far:
<code>https://api.yelp.com/oauth2/token?grant_type=client_credentials&amp;client_id=ID&amp;client_secret=""CLIENT SECRET""</code>
When I load this url it says ""VALIDATION_ERROR."" What am I doing wrong?</p>
","2017-01-05 01:56:20","","0","<api><swift2><yelp>","1","2"
"Unable to get English-languages reviews using Yelp API","<p>I am trying to use the Yelp API to get a list of english-language reviews using a variety of search terms, such as 'food', 'hotel', etc. I only get non-english reviews, despite the fact that I'm including the lang and lang_filter parameters.</p>

<p>Here, without any oAuth stuff, is the general url I am requesting from my application:</p>

<p><a href=""http://api.yelp.com/v2/search?lang=en&amp;lang_filter=true&amp;term=food&amp;bounds=52.261155,4.610155|52.479116,5.067567"" rel=""nofollow"">http://api.yelp.com/v2/search?lang=en&amp;lang_filter=true&amp;term=food&amp;bounds=52.261155,4.610155|52.479116,5.067567</a></p>

<p>The bounds parameter narrows my search to around Amsterdam in The Netherlands.</p>

<p>I've, of course, tried many url request variations, using city, state instead of bounds for location, removing the lang_filter param, adding country code filter, etc.
Does anyone know how I can get only english-language reviews?</p>

<p>Strangely, if I go to Yelp's website and do the search for ""food"" for Amsterdam, I get ONLY english results, so I know those english articles are there.</p>
","2012-11-06 03:24:30","","0","<php><yelp>","1","0"
"How to retrieve data items individually from Yelp Business API 2.0?","<p>I want to try and figure out how to take the data that is output from the Yelp Business API 2.0 and actually choose what bits I want to echo, add styling, so on and so forth.</p>

<p>Here is the basic query:</p>

<pre><code>&lt;?php
        require_once ('lib/OAuth.php');

        $unsigned_url = ""http://api.yelp.com/v2/business/the-waterboy-sacramento"";

        // Set your keys here
        $consumer_key = 'mykey';
        $consumer_secret = 'mysecret';
        $token = 'mytoken';
        $token_secret = 'mytokensecret';

        $token = new OAuthToken($token, $token_secret);

        $consumer = new OAuthConsumer($consumer_key, $consumer_secret);

        $signature_method = new OAuthSignatureMethod_HMAC_SHA1();

        $oauthrequest = OAuthRequest::from_consumer_and_token($consumer, $token, 'GET', $unsigned_url);

        $oauthrequest-&gt;sign_request($signature_method, $consumer, $token);

        $signed_url = $oauthrequest-&gt;to_url();

        $ch = curl_init($signed_url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($ch, CURLOPT_HEADER, 0);

        $data = curl_exec($ch);
        curl_close($ch);

        $response = json_decode($data);
        $json_string = file_get_contents($signed_url);
        $result = json_decode($json_string);

// Print it for debugging
echo '&lt;pre&gt;';
print_r($result);
echo '&lt;/pre&gt;';

?&gt;
</code></pre>

<p>In the area where the data is being printed, how would I modify this for example, to return <em>only</em> the business name? Or only the business address? Or both items, each encased in its own div?</p>

<p>Is there a simple method such as:</p>

<pre><code>echo $business_name;
echo $business_address;
</code></pre>

<p>I am basically just trying to figure out how to take the deluge of output information, which is just in a basic text format without any formatting whatsoever by default, and actually select what I want to display, give each bit a div with its own class, so I can style it and make it pretty.</p>

<p>Currently, <code>print_r</code> returns:</p>

<pre><code>stdClass Object
(
    [is_claimed] =&gt; 
    [rating] =&gt; 4
    [mobile_url] =&gt; http://m.yelp.com/biz/the-waterboy-sacramento
    [rating_img_url] =&gt; http://s3-media4.fl.yelpcdn.com/assets/2/www/img/c2f3dd9799a5/ico/stars/v1/stars_4.png
    [review_count] =&gt; 485
    [name] =&gt; The Waterboy
    [snippet_image_url] =&gt; http://s3-media2.fl.yelpcdn.com/photo/yd0M2_X6-S7mg_jFT4KtnQ/ms.jpg
    [rating_img_url_small] =&gt; http://s3-media4.fl.yelpcdn.com/assets/2/www/img/f62a5be2f902/ico/stars/v1/stars_small_4.png
    [url] =&gt; http://www.yelp.com/biz/the-waterboy-sacramento
    [menu_date_updated] =&gt; 1387494198
    [reviews] =&gt; Array
        (
            [0] =&gt; stdClass Object
                (
                    [rating] =&gt; 5
                    [excerpt] =&gt; DEFINITE REPEAT

First time here.  Host greeted us, explained restaurant style, etc.  Very nice gentleman, and very knowledgable.

Our server was...
                    [time_created] =&gt; 1406526888
                    [rating_image_url] =&gt; http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png
                    [rating_image_small_url] =&gt; http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png
                    [user] =&gt; stdClass Object
                        (
                            [image_url] =&gt; http://s3-media2.fl.yelpcdn.com/photo/yd0M2_X6-S7mg_jFT4KtnQ/ms.jpg
                            [id] =&gt; HRxSv183RfenlVyFWX4gCw
                            [name] =&gt; Randy S.
                        )

                    [rating_image_large_url] =&gt; http://s3-media3.fl.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png
                    [id] =&gt; OxfuTiiznTQpwaY6zBa7UQ
                )

        )

    [phone] =&gt; 9164989891
    [snippet_text] =&gt; DEFINITE REPEAT

First time here.  Host greeted us, explained restaurant style, etc.  Very nice gentleman, and very knowledgable.

Our server was...
    [image_url] =&gt; http://s3-media4.fl.yelpcdn.com/bphoto/Y4kSp64IBG2M4CGrENIegA/ms.jpg
    [categories] =&gt; Array
        (
            [0] =&gt; Array
                (
                    [0] =&gt; French
                    [1] =&gt; french
                )

            [1] =&gt; Array
                (
                    [0] =&gt; Italian
                    [1] =&gt; italian
                )

        )

    [display_phone] =&gt; +1-916-498-9891
    [rating_img_url_large] =&gt; http://s3-media2.fl.yelpcdn.com/assets/2/www/img/ccf2b76faa2c/ico/stars/v1/stars_large_4.png
    [menu_provider] =&gt; single_platform
    [id] =&gt; the-waterboy-sacramento
    [is_closed] =&gt; 
    [location] =&gt; stdClass Object
        (
            [city] =&gt; Sacramento
            [display_address] =&gt; Array
                (
                    [0] =&gt; 2000 Capitol Ave
                    [1] =&gt; Downtown
                    [2] =&gt; Sacramento, CA 95811
                )

            [geo_accuracy] =&gt; 9
            [neighborhoods] =&gt; Array
                (
                    [0] =&gt; Downtown
                    [1] =&gt; Midtown
                )

            [postal_code] =&gt; 95811
            [country_code] =&gt; US
            [address] =&gt; Array
                (
                    [0] =&gt; 2000 Capitol Ave
                )

            [coordinate] =&gt; stdClass Object
                (
                    [latitude] =&gt; 38.573153
                    [longitude] =&gt; -121.481208
                )

            [state_code] =&gt; CA
        )

)
</code></pre>
","2014-08-22 18:43:46","25454499","2","<php><api><yelp>","1","1"
"I need to get information from JSON in PHP","<p>Here is the result of: <code>var_dump($response)</code>:</p>

<pre><code>""is_claimed"": false, ""rating"": 4.5, ""mobile_url"": ""http://m.yelp.com/biz/filbert-steps-san-francisco?utm_campaign=yelp_api\u0026utm_medium=api_v2_business\u0026utm_source=NUQkLT4j4VnC6ZR7LI-VWA"", ""rating_img_url"": ""https://s3-media2.fl.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"", ""review_count"": 208
</code></pre>

<p>I want to get the rating value, I tried <code>$response-&gt;rating</code> but I got nothing.</p>
","2016-05-29 12:55:42","37510237","-4","<php><json><yelp>","1","4"
"Is there a way to prefilter data before using read_csv to download data into pandas dataframe?","<p>I'm working with the yelp dataset and of course it is millions of entries long so I was wondering if there was any way where you can just download what you need or do you have to pick away at it manually? For example, yelp has reviews on everything from auto repair to beauty salons but I only want the reviews on the restaurants. So do I have to read the entire thing and then drop the rows I don't need? </p>
","2016-05-31 22:00:34","","0","<python><csv><pandas><dataframe><yelp>","2","5"
"Rearrange a pandas data frame to create a 2d ratings matrix","<p>I'm trying to build a item-based recommendation system off of the yelp data set. I managed to process the data to an extent where I have the ratings given by all the users that reviewed a restaurant in a given state. Eventually I want to get to the point where I have a ratings matrix with restaurants on one axis and users on the other, and ratings(1-5) in the middle (zero for missing reviews).</p>

<p>Right now the DF looks like this:</p>

<pre><code>               user_id               review_id             business_id  stars
0  Xqd0DzHaiyRqVH3WRG7  15SdjuK7DmYqUAj6rjGowg  vcNAWiLM4dR7D2nwwJ7nCA      5
1  Xqd0DzHaiyRqVH3WRG7  15SdjuK7DmYqUAj6rjGowg  vcNAWiLM4dR7D2nwwJ7nCA      5
2  H1kH6QZV7Le4zqTRNxo  RF6UnRTtG7tWMcrO2GEoAg  vcNAWiLM4dR7D2nwwJ7nCA      2
3  zvJCcrpm2yOZrxKffwG  -TsVN230RCkLYKBeLsuz7A  vcNAWiLM4dR7D2nwwJ7nCA      4
4  KBLW4wJA_fwoWmMhiHR  dNocEAyUucjT371NNND41Q  vcNAWiLM4dR7D2nwwJ7nCA      4
5  zvJCcrpm2yOZrxKffwG  ebcN2aqmNUuYNoyvQErgnA  vcNAWiLM4dR7D2nwwJ7nCA      4
6  Qrs3EICADUKNFoUq2iH  _ePLBPrkrf4bhyiKWEn4Qg  vcNAWiLM4dR7D2nwwJ7nCA      1
</code></pre>

<p>but I would like it to look a little bit more like this:</p>

<p>(4 Restaurants x 5 Users)</p>

<pre><code>0 4 3 4 5
3 3 3 2 1 
1 2 3 4 5
0 5 3 3 4 
</code></pre>
","2016-06-01 18:50:33","37576723","3","<python><pandas><dataframe><recommendation-engine><yelp>","1","5"
"How to use Authorization Header in React Native fetch to make a get request using Yelp API","<p>I am trying to make a post request using FETCH in react-native. I am getting a validation error. What am I missing here?</p>

<pre><code>    _fetchYelp(){

          let data = {
              method: 'POST',
              body: JSON.stringify({
                  'client_id': 'id',
                  'client_secret': 'secret',
                  'grant_type': 'client_credentials'
              }),
             headers: {
                  'Accept':       'application/json',
                  'Content-Type': 'application/x-www-form-urlencoded'
                     }
            }
         return fetch('https://api.yelp.com/oauth2/token', data)
                .then(response =&gt; response.json());

         }


      Error 

      status   400
      timeout  0 
      response {""error"":{""code"":""VALIDATION_ERROR"",
                ""description"":""client_id or client_secret parameters          not found. Make sure to provide client_id and client_secret in the body with the application/x-www-form-urlencoded content-type""}}
      response_url https://api.yelp.com/oauth2/token
</code></pre>

<p>Thank you.</p>
","2017-12-06 05:49:01","","0","<javascript><react-native><fetch><fetch-api><yelp>","1","0"
"Android: Problems with OAuthRequest's send() method","<p>We're currently working on an app that interfaces with the yelp API. We have a method that is intended to get our response body. It works when we call it from a main function however, it breaks down when we try to call it in our activity with the emulator (even when using the exact same arguments). This is the method:</p>

<pre><code>public String search(String term, double latitude, double longitude) {
    OAuthRequest request = new OAuthRequest(Verb.GET, ""http://api.yelp.com/v2/search"");
    request.addQuerystringParameter(""term"", term);
    request.addQuerystringParameter(""ll"", latitude + "","" + longitude);
    this.service.signRequest(this.accessToken, request);

    //the line where Android seem to be having problem?
    Response response = request.send();
    return response.getBody();
}
</code></pre>

<p>The app will get to ""Response response = request.send();"" and then simply terminate with calling the return statement when run through the emulator, but works perfectly fine when run through a main method. Anyone know what the problem could be?</p>
","2015-05-18 23:52:05","","1","<android><oauth><yelp>","1","1"
"Why does iterating through a for loop with a findInbackGround() fail?","<p>So I have decided to play with the yelp API as a challenge for myself... Clearly I bit more than I can chew... What I am trying to do is iterate through a YelpAPI Response and check if it exists in a column, however it checks only the last value in the Response and it doesn't even match that... Is there an alternative? I think the issue is limited to the fact that it works on a new thread,overwriting the old one each time through the iteration... There might be a completely different way of approaching this.. Below is the code</p>

<pre><code>localityVenueLocations = new String[2 * response.body().businesses().size()][4];
ParseGeoPoint venuePoint;
String venueName;
for (int i = 0; i &lt; response.body().businesses().size(); i++) {
    venuePoint = new ParseGeoPoint(response.body().businesses().get(i).location().coordinate().latitude(), response.body().businesses().get(i).location().coordinate().longitude());
    venueName = response.body().businesses().get(i).name();
    venue = new ParseObject(""HotSpots"");
    //Log.i(""AppInfo"", venueName);
    ParseQuery &lt; ParseObject &gt; qVenues = ParseQuery.getQuery(""HotSpots"");
    //int size = qVenues.whereEqualTo(""venue"", venueName).find().size();
    //Log.i(""AppInfo"", String.valueOf(size));
    qVenues.whereEqualTo(""venue"", venueName).findInBackground(new FindCallback &lt; ParseObject &gt; () {@
        Override
        public void done(List &lt; ParseObject &gt; objects, ParseException e) {
            if (e == null) {
                if (objects.size() &gt; 0) {
                    Log.i(""AppInfo"", ""Match for "" + venueName);
                    Log.i(""AppInfo"", ""Success checking data"");
                    Log.i(""AppInfo"", String.valueOf(objects.size()));
                } else {
                    Log.i(""AppInfo"", ""No match for "" + venueName);
                    Log.i(""AppInfo"", ""Failed at query"");
                    Log.i(""AppInfo"", String.valueOf(objects.size()));
                }
            } else {
                Log.i(""AppInfo"", ""Failed at error"");
                e.getCode();
            }
        }
    });
    Log.i(""App Info, Business"", venueName.toString());
    Log.i(""App Info, Lat"", venuePoint.toString());
}
</code></pre>
","2016-07-19 13:35:00","38856589","0","<android><iteration><parse-server><yelp>","1","7"
"Looking for a swift way to generate OAuth 1 signature","<p>I'm working on a small swift program to work with Yelp API over <strong>OAuth-1</strong>. I am looking to generate a HMAC-SHA1 signature.</p>

<p>I have the customer key, secret key , token and token secret.</p>

<p>From what I know, to make an API request with OAuth 1, we need the following attributes : </p>

<ol>
<li>oauth_consumer_key</li>
<li>oauth_token </li>
<li>oauth_signature_method = (HMAC-SHA1)</li>
<li>oauth_signature</li>
<li>oauth_timestamp</li>
<li>oauth_nonce</li>
</ol>

<p>How do I generate #4,5,6</p>

<p>I looked other <a href=""https://stackoverflow.com/questions/4084979/ruby-way-to-generate-a-hmac-sha1-signature-for-oauth"">this</a>, but didn't help.</p>

<p>TIA!</p>
","2016-07-20 20:45:17","","2","<ios><swift><oauth><yelp>","2","2"
"Angular2 Yelp API CORS error","<p>While implementing the V3 API I face the following CORS problem with my Ionic2/Angular2 application:</p>

<p>XMLHttpRequest cannot load <a href=""https://api.yelp.com/v3/businesses/search"" rel=""nofollow"">https://api.yelp.com/v3/businesses/search</a>. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin '<a href=""http://localhost:8100"" rel=""nofollow"">http://localhost:8100</a>' is therefore not allowed access. The response had HTTP status code 404.</p>

<p>While using the V2 of the API, I was ""bypassing"" the CORS problem using http.jsonp whish isn't applicable anymore, because the authorization bearer should be added in the header of the GET request (as far as I understood, a Jsonp header can't be modified).</p>

<p>That's why I tried</p>

<pre><code>private queryYelp(yelpOAuth:YelpCommunication.YelpOAuthSignature, nextTo:AddressLocation.Location):Promise&lt;{}&gt; {

    let params:URLSearchParams = new URLSearchParams();

    params.set('limit', '' + Resources.Constants.Default.YELP.LIMIT);
    params.set('latitude', '' + nextTo.coordinates[0]);
    params.set('longitude', '' + nextTo.coordinates[1]);
    params.set('radius', '' + Resources.Constants.Default.YELP.RADIUS);
    params.set('sort_by', Resources.Constants.Default.YELP.SORT.BEST_MATCHED);

    let headers:Headers = new Headers();
    headers.append('Authorization', 'Bearer ' + yelpOAuth.access_token);
    let options:RequestOptions = new RequestOptions({
        headers: headers,
        search: params,
        withCredentials: true
    });

    return new Promise((resolve, reject) =&gt; {
        this.http.get(Resources.Constants.Default.YELP.URL, options)
            .map(res =&gt; res.json())
            .subscribe((businesses:Yelp.YelpBusiness[]) =&gt; {
                resolve(businesses);
            }, (errorResponse:Response) =&gt; {
                reject(errorResponse);
            });
    });
}
</code></pre>

<p>or</p>

<pre><code>private queryYelp(yelpOAuth:YelpCommunication.YelpOAuthSignature, nextTo:AddressLocation.Location):Promise&lt;{}&gt; {
    return new Promise((resolve, reject) =&gt; {
        let xhr:XMLHttpRequest = new XMLHttpRequest();

        let formData:FormData = new FormData();
        formData.append('limit', '' + Resources.Constants.Default.YELP.LIMIT);
        formData.append('latitude', '' + nextTo.coordinates[0]);
        formData.append('longitude', '' + nextTo.coordinates[1]);
        formData.append('radius', '' + Resources.Constants.Default.YELP.RADIUS);
        formData.append('sort_by', Resources.Constants.Default.YELP.SORT.BEST_MATCHED);

        xhr.onload = () =&gt; {
            console.log(""status "" + xhr.status);
            if (xhr.readyState === XMLHttpRequest.DONE &amp;&amp; xhr.status == 201) {
                let businesses:Yelp.YelpBusiness[] = JSON.parse(xhr.responseText);
                resolve(businesses);
            } else {
                reject();
            }
        };

        xhr.onerror = () =&gt; {
            alert('Woops, there was an error making the request.');
        };

        xhr.open(""GET"", Resources.Constants.Default.YELP.URL, true);
        xhr.setRequestHeader(""Authorization"", 'Bearer ' + yelpOAuth.access_token);
        xhr.send(formData);
    });
}
</code></pre>

<p>and both solution weren't successful aka both solution leaded to the CORS error listed above.</p>

<p>Did I miss something or how could I query the Yelp API v3 from Ionic2 / Angular2?</p>

<p>Thx
Best regards</p>

<p>P.S.: Note that my OAuth access_token isn't exposed. The authentication is generated by my backend.</p>

<p><strong>UPDATE</strong></p>

<p>After @Thierry Templier answer I found a solution which works for Ionic2.</p>

<p>When debugging in the browser, I query the Yelp API V3 using a proxy. Therefor I add in ionic.config.json file</p>

<pre><code> ""proxies"": [{
    ""path"": ""/yelp/v3/businesses"",
    ""proxyUrl"": ""https://api.yelp.com/v3/businesses""
 }]
</code></pre>

<p>and do the query like following</p>

<pre><code>this.http.get('http://localhost:8100/yelp/v3/businesses/' + 'search', ...
</code></pre>

<p>note that following would also work</p>

<pre><code>this.http.get('/yelp/v3/businesses' + 'search', ...
</code></pre>

<p>When running in iOS and Android, the proxy should not be use aka not gonna work. Therefor I do the query like following in my service</p>

<pre><code>this.http.get('https://api.yelp.com/v3/businesses/search, ...
</code></pre>

<p>Of course, to have something handy, I write a gulp task which allow me to switch between environments.</p>

<p>But, this solution is only applicable for Ionic2. If I would have to implement it in Angular2 in a website, I would need I guess a proxy too, not sure about it. Therefor I opened a copy of that task in the issues list of the Yelp API V3</p>

<p><a href=""https://github.com/Yelp/yelp-api-v3/issues/21"" rel=""nofollow"">https://github.com/Yelp/yelp-api-v3/issues/21</a></p>
","2016-07-26 20:03:36","38600480","1","<angular><cors><yelp>","1","0"
"How to make external API call to Yelp in Node.js/Express/Angular app","<p>I am trying to make an API call to Yelp in my Node.js app. I saw from here that I should use this code in order to be able to use the Yelp API: <a href=""https://arian.io/how-to-use-yelps-api-with-node/"" rel=""nofollow"">https://arian.io/how-to-use-yelps-api-with-node/</a> . I used that code in my app.js file. Now in order for it to display the results on the browser I know that I have to connect the controller to the view (in my case index.html) and bind the two files with $scope. But I would also have to somehow connect the controller to app.js. The tutorial that I followed on arian.io said: </p>

<blockquote>
  <p>Now if you call the function request_yelp(params, callback) it will call the callback with these arguments, callback(error, response, body).
   That's it, now you're ready to take full advantage Yelp's API.</p>
</blockquote>

<p>but how or where do I call that function? I assume I'd do it in my controller but I have tried that but it didn't work. </p>

<p>To summarize my issue, if the API call is right and it is where it should be, then my next step is to link that with my controller, once those two are connected, I have to bind html with apiController.js with $scope in order to bring my data results to be displayed in the browser. I know I am missing a lot of things, but I think I have the right idea.  </p>

<p>Any help is welcome. Thanks!</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""true"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>   My app's tree 

&gt;.git
&gt;bower_components
&gt;client
    &gt;controllers
        -apiControllers   (My one and only controller)
    &gt;css
    &gt;views               (This is empty)
    app.js
    index.html (This is my one and only page/ my app is a one page app)
    package.json
&gt;models
&gt;node_modules
app.js    (This is where I am trying to make the API call)


&lt;-- ================================================== --&gt;

 //This is my app.js file


    //Call packages needed
    var express = require('express');
    var app = express();                   
    var bodyParser = require('body-parser');
    var mongoose = require('mongoose');
    var dotenv = require('dotenv').config();
    var oauthSignature = require('oauth-signature');
    var n = require('nonce')();
    var request = require('request');
    var qs = require('querystring');
    var _ = require('lodash');

    // Function for yelp call
    var request_yelp = function(set_parameters, callback) {

      var httpMethod = 'GET';

      var url = 'http://api.yelp.com/v2/search';

      var default_parameters = {
        location: 'New+York',
        sort: '2'
      };

      var required_parameters = {
        oauth_consumer_key : process.env.yelp_consumer_key,
        oauth_token : process.env.yelp_token,
        oauth_nonce : n(),
        oauth_timestamp : n().toString().substr(0,10),
        oauth_signature_method : 'HMAC-SHA1',
        oauth_version : '1.0'
      };

      var parameters = _.assign(default_parameters, set_parameters, required_parameters);

      var consumerSecret = process.env.yelp_consumer_secret;
      var tokenSecret = process.env.yelp_token_secret;

      var signature = oauthSignature.generate(httpMethod, url, parameters, consumerSecret, tokenSecret, { encodeSignature: false});

      parameters.oauth_signature = signature;

      var paramURL = qs.stringify(parameters);

      var apiURL = url+'?'+paramURL;

      request(apiURL, function(error, response, body){
        return callback(error, response, body);
      });

    };

    app.use(express.static(__dirname+'/client'));

    app.get('/', function request_yelp(params, callback){
        res.send('This is the main page');
    });

    app.listen(3000);
    console.log('Running on port 3000');


&lt;-- ================================================== --&gt;
&lt;!-- This is index.html. Here I would like to display my YELP responses. I am using Bootstrap

&lt;div class=""container-fluid""&gt;
  &lt;div class=""row-fluid""&gt;
      &lt;!-- &lt;div class=""container-fluid""&gt; --&gt;
      &lt;!-- &lt;div class=""jumbotron""&gt; --&gt;
                  &lt;div class=""row-fluid""&gt;
                      &lt;!-- &lt;div ng-controller=""MainCtrl""&gt; --&gt;
                            &lt;p&gt;&lt;date-input name=""info.name"" message=""info.message""&gt;&lt;/date-input&gt;&lt;/p&gt;
                &lt;div data-ng-repeat=""business in businesses""&gt;
                             &lt;!-- &lt;div class=""col-lg-offset-1""&gt; --&gt;
                            &lt;div class=""col-lg-2 col-lg-offset-2 col-md-3 col-sm-2 col-xs-6 text-center""&gt;
                                    &lt;p&gt;Breakfast&lt;/p&gt;
                                &lt;div class=""thumbnail""&gt;
                                    &lt;img class=""img-responsive img-circle"" src=""{{business.image_url}}""&gt;
                                    &lt;h5&gt;{{business.name}}&lt;/h5&gt;
                                    &lt;h5&gt;{{business.rating}}&lt;/h5&gt;
                                    &lt;h5&gt;""{{business.snippet_text}}""&lt;/h5&gt;
                                    &lt;h5&gt;{{business.categories[0]}}&lt;/h5&gt;
                                    &lt;p&gt;&lt;a class=""btn btn-link btn-sm"" href=""{{business.url}}""&gt;View details &amp;raquo;&lt;/a&gt;&lt;/p&gt;
                                    &lt;p&gt;&lt;a class=""btn btn-xs btn-info"" id=""breakfast"" role=""button"" onClick=""refreshPage()""&gt;I don't like this one!&lt;/a&gt;&lt;/p&gt;
                                &lt;/div&gt;&lt;!-- End thumbnail --&gt;
                            &lt;/div&gt;&lt;!-- End col-md-4 --&gt;


&lt;-- ================================================== --&gt;

// Finally this is my apiController.js. What code do I need here to connect the API call to my view? 

var myApp = angular.module('myApp', []);

myApp.controller('MainCtrl', ['$scope'function($scope) {
    $scope.total = [];
    $scope.businesses = [];

}])</code></pre>
</div>
</div>
</p>
","2016-07-27 16:03:03","","1","<angularjs><node.js><api><express><yelp>","1","0"
"Unable to open/view Yelp data set","<p>I have downloaded the <code>Yelp</code> data set from <a href=""https://www.yelp.com/dataset_challenge"" rel=""nofollow noreferrer"">https://www.yelp.com/dataset_challenge</a>. The file that downloaded is called <code>yelp_dataset_challenge_round9.tar</code></p>

<p>However, the file that is extracted from the <code>tar</code> file has no extension. I have checked <a href=""https://github.com/Yelp/dataset-examples"" rel=""nofollow noreferrer"">https://github.com/Yelp/dataset-examples</a>, however it assumes that the file is a <code>json</code> file called <code>yelp_academic_dataset</code>. </p>

<p>I have the <code>tar</code> file downloaded as well as the contents of the <code>tar</code> extracted. I'm using Windows 10. I used <code>Winrar</code> to extract the contents. I would really appreciate any assistance on how to open and view the dataset. </p>
","2017-05-01 07:03:41","","1","<python><json><tar><yelp><bigdata>","1","1"
"How to get SinglePlatform location id from yelp search id?","<p>I am using <strong>yelp API</strong> for getting <strong>restaurant list</strong> by its <strong>search api</strong>.
And now,I want to access data of <strong>menu and photos</strong> of that restaurant from singleplatform api,and for that i need <strong>location id</strong> of data of singleplatform api but i am not getting any id related to singleplatform api.</p>

<p>So,i want to know how to get singleplatform location id from yelp id which we get from search API.</p>

<p>And <strong>matching api of singleplatform api</strong> is currently in beta mode and sometimes it gives wrong data.so, i can not use that.</p>

<p>Help Appreciated.</p>
","2016-09-23 10:48:56","","1","<api><yelp>","0","2"
"Can you use the Foursquare API to get delivery availability","<p>In the yelp API they have a transactions response to return ""pickup"", ""delivery"", and ""restaurant_reservation"" if available.  Is there any equivalent with foursquare? Especially for delivery availability?</p>
","2017-05-09 17:38:25","","0","<foursquare><yelp>","1","0"
"Yelp ruby gem on Heroku","<p>I have this code as an initializer in yelp.rb: </p>

<pre><code>Yelp.client.configure do |config|
 config.consumer_key = ENV['config.consumer_key']
 config.consumer_secret = ENV['config.consumer_secret']
 config.token = ENV['config.token']
 config.token_secret = ENV['config.token_secret']
end
</code></pre>

<p>I have a yelp.yml file that loads all this in and it works great in development.  </p>

<p>As soon as I push it to heroku (I have all my keys set in Heroku as well and have triple verified no spelling errors) I get this error 'Yelp::Error::MissingAPIKeys: You're missing an API key'</p>

<p>I've ran code in Rails C on development (see below) and it passes, ran the exact same code in Rails c on the Heroku side and I get that error. I even tried it without using ENV and used the exact api keys and same error.   </p>

<pre><code>client = Yelp::Client.new({  
  consumer_key = ENV['config.consumer_key'],
  consumer_secret = ENV['config.consumer_secret'],
  token = ENV['config.token'],
  token_secret = ENV['config.token_secret'] })
</code></pre>

<p>What is different between Production and Development?  </p>

<p>UPDATE: 
Got it working...
I was able to get it working this way...</p>

<pre><code>def index
      current_user.zip_code.present? ? @zip = current_user.zip_code :     @zip = ""94101""
      parameters = { term: 'auto repair', limit: 9 }
      @search = client.search(@zip, parameters)
  end

  private
  def client
     @client ||= Yelp::Client.new({ consumer_key: ENV['config.consumer_key'],
      consumer_secret: ENV['config.consumer_secret'],
      token: ENV['config.token'],
      token_secret: ENV['config.token_secret']
    })
  end
</code></pre>
","2015-07-23 22:45:34","","1","<ruby-on-rails><ruby><heroku><gem><yelp>","1","0"
"Yelp API Android Integration","<p>I am attempting to integrate with the Yelp API for Android.</p>

<p>I keep getting fatal errors whenever I am trying to connect. </p>

<pre><code>10-14 18:32:29.207: E/AndroidRuntime(7354): FATAL EXCEPTION: main
10-14 18:32:29.207: E/AndroidRuntime(7354): java.lang.RuntimeException: Unable to start activity ComponentInfo{cse.usf.edu.android/cse.usf.edu.android.HelloWorldActivity}: android.os.NetworkOnMainThreadException
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2194)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2229)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread.access$600(ActivityThread.java:139)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1261)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.os.Looper.loop(Looper.java:154)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread.main(ActivityThread.java:4945)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at java.lang.reflect.Method.invokeNative(Native Method)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at java.lang.reflect.Method.invoke(Method.java:511)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at dalvik.system.NativeStart.main(Native Method)
10-14 18:32:29.207: E/AndroidRuntime(7354): Caused by: android.os.NetworkOnMainThreadException
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1178)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at java.net.InetAddress.lookupHostByName(InetAddress.java:394)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:245)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at java.net.InetAddress.getAllByName(InetAddress.java:220)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:71)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:50)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:351)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:86)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:308)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpEngine.connect(HttpEngine.java:303)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:282)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:232)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at org.scribe.model.Response.&lt;init&gt;(Response.java:27)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at org.scribe.model.Request.doSend(Request.java:110)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at org.scribe.model.Request.send(Request.java:62)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at org.scribe.model.OAuthRequest.send(OAuthRequest.java:12)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at cse.usf.edu.android.Yelp.search(Yelp.java:58)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at cse.usf.edu.android.HelloWorldActivity.onCreate(HelloWorldActivity.java:22)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.Activity.performCreate(Activity.java:4531)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)
10-14 18:32:29.207: E/AndroidRuntime(7354):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2150)
10-14 18:32:29.207: E/AndroidRuntime(7354):     ... 11 more
10-14 18:32:36.965: E/AndroidRuntime(7439): FATAL EXCEPTION: main
10-14 18:32:36.965: E/AndroidRuntime(7439): java.lang.RuntimeException: Unable to start activity ComponentInfo{cse.usf.edu.android/cse.usf.edu.android.HelloWorldActivity}: android.os.NetworkOnMainThreadException
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2194)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2229)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread.access$600(ActivityThread.java:139)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1261)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.os.Looper.loop(Looper.java:154)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread.main(ActivityThread.java:4945)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at java.lang.reflect.Method.invokeNative(Native Method)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at java.lang.reflect.Method.invoke(Method.java:511)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at dalvik.system.NativeStart.main(Native Method)
10-14 18:32:36.965: E/AndroidRuntime(7439): Caused by: android.os.NetworkOnMainThreadException
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1178)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at java.net.InetAddress.lookupHostByName(InetAddress.java:394)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:245)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at java.net.InetAddress.getAllByName(InetAddress.java:220)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:71)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:50)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:351)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:86)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:308)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpEngine.connect(HttpEngine.java:303)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:282)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:232)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at org.scribe.model.Response.&lt;init&gt;(Response.java:27)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at org.scribe.model.Request.doSend(Request.java:110)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at org.scribe.model.Request.send(Request.java:62)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at org.scribe.model.OAuthRequest.send(OAuthRequest.java:12)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at cse.usf.edu.android.Yelp.search(Yelp.java:58)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at cse.usf.edu.android.HelloWorldActivity.onCreate(HelloWorldActivity.java:22)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.Activity.performCreate(Activity.java:4531)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1071)
10-14 18:32:36.965: E/AndroidRuntime(7439):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2150)
10-14 18:32:36.965: E/AndroidRuntime(7439):     ... 11 more
</code></pre>

<p>I have done the following:</p>

<p><strong>1.</strong> Registered for Yelp API</p>

<p><strong>2.</strong> Downloaded <a href=""https://github.com/fernandezpablo85/scribe-java/downloads"" rel=""nofollow noreferrer"">scribe 1.3.0</a>, and added it to the <code>libs</code> folder</p>

<p><strong>3.</strong> Added two classes <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/java/Yelp.java"" rel=""nofollow noreferrer"">Yelp.java</a> and <a href=""https://github.com/Yelp/yelp-api/blob/master/v2/java/YelpApi2.java"" rel=""nofollow noreferrer"">YelpApi2.java</a> to the <code>src</code> folder</p>

<p><strong>4.</strong> Removed the <code>main</code> function from Yelp API and I have added the Yelp call to my main activity.</p>

<pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_hello_world);

    // Update tokens here from Yelp developers site, Manage API access.
    String consumerKey = ""secret"";
    String consumerSecret = ""secret"";
    String token = ""secret"";
    String tokenSecret = ""secret"";

    Yelp yelp = new Yelp(consumerKey, consumerSecret, token, tokenSecret);
    String response = yelp.search(""burritos"", 30.361471, -87.164326);

}
</code></pre>

<p>(Of course, were <code>secret</code> is my actual information from Yelp)</p>

<p>I am rather new to Android, so I have a feeling it is something simple, but I can't quite figure out the issue, as I have followed Yelp's examples and <a href=""https://stackoverflow.com/questions/6676733/yelp-integration-in-android"">this post</a> exactly.</p>
","2013-10-14 22:45:10","19370497","2","<java><android><api><yelp>","1","0"
"How do I use .map to parse response when response has inconsistent values?","<p>So I'm using the yelp API, and after I make a GET request I get back a response of businesses. In order to work with that response I'm using .map</p>

<p>Example:</p>

<pre><code>mappedResults = yelpSearch.businesses.map {|l| {id: l.id, name: l.name, categories:l.categories, rating: l.rating, review_count: l.review_count, url: l.url, phone: l.phone}}
</code></pre>

<p>My problem is that sometimes l.phone is not returned for some records in the response, and I get the error:</p>

<pre><code>undefined method `phone' for #&lt;BurstStruct::Burst:0x007fba47c7a228&gt;
</code></pre>

<p>My question is how do I refactor this code so that if a record doesn't have phone it will either leave it null (or worst cast empty string)</p>

<p>Any help is appreciated</p>

<p>JSON structure is as such for each business in the response</p>

<pre><code>{
    region: {
        span: {
            latitude_delta: 0,
            longitude_delta: 0
        },
        center: {
            latitude: 38.054117,
            longitude: -84.439002
        }
    },
    total: 23,
    businesses: [
        {
            is_claimed: false,
            rating: 5,
            mobile_url: ""http://m.yelp.com/biz/vineyard-community-church-lexington"",
            rating_img_url: ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"",
            review_count: 2,
            name: ""Vineyard Community Church"",
            snippet_image_url: ""http://s3-media4.ak.yelpcdn.com/photo/VoeMtbk7NRFi6diksSUtOQ/ms.jpg"",
            rating_img_url_small: ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"",
            url: ""http://www.yelp.com/biz/vineyard-community-church-lexington"",
            phone: ""8592582300"",
            snippet_text: ""I have been a member of Vineyard Community Church since 2004. Here you will find a modern worship service with a full band, witty speakers who teach..."",
            image_url: ""http://s3-media3.ak.yelpcdn.com/bphoto/D71eikniuaHjdOC8DB6ziA/ms.jpg"",
            categories: [
                [
                    ""Churches"",
                    ""churches""
                ]
            ],
            display_phone: ""+1-859-258-2300"",
            rating_img_url_large: ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png"",
            id: ""vineyard-community-church-lexington"",
            is_closed: false,
            location: {
                city: ""Lexington"",
                display_address: [
                    ""1881 Eastland Pwky"",
                    ""Lexington, KY 40505""
                ],
                geo_accuracy: 8,
                postal_code: ""40505"",
                country_code: ""US"",
                address: [
                    ""1881 Eastland Pwky""
                ],
                coordinate: {
                    latitude: 38.054117,
                    longitude: -84.439002
                },
                state_code: ""KY""
            }
        }
    ]
}
</code></pre>
","2014-05-08 00:15:42","23530722","0","<ruby-on-rails><ruby><yelp>","1","0"
"How to loop through JSON array using PHP","<p>My PHP code: </p>

<pre><code>$obj = json_decode($data);
print $obj-&gt;{'name'};
</code></pre>

<p>While it works for non-arrays, I can't for the life of me figure out how to print all the values within the ""Reviews"" Array.</p>

<p>What I would like to do is to loop through this response, probably with forreach(), resulting in a list containing the rating and excerpt for each review in the response. </p>

<p>Any guidance / direction is greatly appreciated..</p>

<p>Below is the JSON I'm working with. (it is the response from the Yelp API). </p>

<pre><code>{
    ""is_claimed"": true,
    ""rating"": 4.5,
    ""mobile_url"": ""http://m.yelp.com/biz/economy-paint-and-collision-riverside"",
    ""rating_img_url"": ""http://s3-media2.ak.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"",
    ""review_count"": 19,
    ""name"": ""Economy Paint &amp; Collision"",
    ""snippet_image_url"": ""http://s3-media3.ak.yelpcdn.com/photo/ZOzoahw0Go_DEPLvxCaP_Q/ms.jpg"",
    ""rating_img_url_small"": ""http://s3-media2.ak.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png"",
    ""url"": ""http://www.yelp.com/biz/economy-paint-and-collision-riverside"",
    ""reviews"": [
        {
            ""rating"": 3,
            ""excerpt"": ""The Good:\nDennis quoted me a price over the phone about 1 month before I took my wifes 2010 Escalade in for repairs and when I took it in he gave me the..."",
            ""time_created"": 1357010247,
            ""rating_image_url"": ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/34bc8086841c/ico/stars/v1/stars_3.png"",
            ""rating_image_small_url"": ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/902abeed0983/ico/stars/v1/stars_small_3.png"",
            ""user"": {
                ""image_url"": ""http://s3-media3.ak.yelpcdn.com/photo/mIsU7ugYd88lLA-XL2q1Cg/ms.jpg"",
                ""id"": ""V9MDZvEBv-tBTF4YIoc7mg"",
                ""name"": ""Sydney H.""
            },
            ""rating_image_large_url"": ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/e8b5b79d37ed/ico/stars/v1/stars_large_3.png"",
            ""id"": ""HfOhzLIlJoUKSKU8euclqA""
        },
        {
            ""rating"": 5,
            ""excerpt"": ""Dennis and his team did an amazing job on the roof of my fiancee's 2002 Acura RSX after years of living by the beach in San Francisco had mostly rusted..."",
            ""time_created"": 1354741952,
            ""rating_image_url"": ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"",
            ""rating_image_small_url"": ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"",
            ""user"": {
                ""image_url"": ""http://s3-media3.ak.yelpcdn.com/photo/ZOzoahw0Go_DEPLvxCaP_Q/ms.jpg"",
                ""id"": ""kOqCnCjYn0EbAhtH1tfjcw"",
                ""name"": ""Jason H.""
            },
            ""rating_image_large_url"": ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png"",
            ""id"": ""YzZg1LX6zeRaurq9tYUcMw""
        },
        {
            ""rating"": 5,
            ""excerpt"": ""It's been a year since I had my car painted here, and I gotta say: It still looks just as good as it did when I first picked it up. You would never know..."",
            ""time_created"": 1361043626,
            ""rating_image_url"": ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"",
            ""rating_image_small_url"": ""http://s3-media1.ak.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"",
            ""user"": {
                ""image_url"": ""http://s3-media1.ak.yelpcdn.com/photo/58coTtu1x5riHSgFEAQsfw/ms.jpg"",
                ""id"": ""kVrW3138d5VL-AZ97wFF4A"",
                ""name"": ""Jeanne M.""
            },
            ""rating_image_large_url"": ""http://s3-media3.ak.yelpcdn.com/assets/2/www/img/22affc4e6c38/ico/stars/v1/stars_large_5.png"",
            ""id"": ""r5WtlQVMXiIMBR6S3N7RZw""
        }
    ],
    ""phone"": ""9517870227"",
    ""snippet_text"": ""Dennis and his team did an amazing job on the roof of my fiancee's 2002 Acura RSX after years of living by the beach in San Francisco had mostly rusted..."",
    ""image_url"": ""http://s3-media3.ak.yelpcdn.com/bphoto/kodoEcmgHRG61pPaWRndbw/ms.jpg"",
    ""categories"": [
        [
            ""Body Shops"",
            ""bodyshops""
        ],
        [
            ""Auto Repair"",
            ""autorepair""
        ]
    ],
    ""display_phone"": ""+1-951-787-0227"",
    ""rating_img_url_large"": ""http://s3-media4.ak.yelpcdn.com/assets/2/www/img/9f83790ff7f6/ico/stars/v1/stars_large_4_half.png"",
    ""id"": ""economy-paint-and-collision-riverside"",
    ""is_closed"": false,
    ""location"": {
        ""city"": ""Riverside"",
        ""display_address"": [
            ""2548 Rubidoux Blvd"",
            ""Riverside, CA 92509""
        ],
        ""geo_accuracy"": 8,
        ""postal_code"": ""92509"",
        ""country_code"": ""US"",
        ""address"": [
            ""2548 Rubidoux Blvd""
        ],
        ""coordinate"": {
            ""latitude"": 34.0132437,
            ""longitude"": -117.3923804
        },
        ""state_code"": ""CA""
    }
}
</code></pre>
","2013-03-25 03:14:06","15607168","13","<php><json><parsing><yelp>","3","0"
"Login in iPhone App Via yelp","<p>I need to get the user details from yelp as like facebook provide first name, Last name. I tried a lot but yelp provide business searches.</p>
","2013-10-29 11:27:42","","1","<ios6><login><yelp>","0","0"
"JQuery JSONP ajax not calling","<p>i'm trying to use yelp v2 js api.</p>

<p>when I try to trigger ajax call from form event, success is not fired (and nothing in firebug NET panel)  I can step thru debugger to $.ajax line fine...</p>

<pre><code>&lt;script&gt;
    $(document).ready(function() {
        $('#btnSubmit').click(function() {
            .
            .
            .

            $.ajax({
                'type': 'GET',
                'url': message.action,
                'data': parameterMap,
                'cache': true,
                'dataType': 'jsonp',
                'jsonp': false,
                'jsonpCallback': 'cb',
                'success': cbSuccess
            });
        });
    });
&lt;/script&gt;
</code></pre>

<p>however, when I run same code on page load (strip out wrapper $('#btnSubmit').click(function() from above code) it works fine.
why is this?</p>
","2012-07-27 01:11:24","","0","<jquery><ajax><jsonp><yelp>","0","6"
"Getting Yelp Access Token returns 400","<p>Making api call to the Yelp Fusion for access token returns 400. The following is an excerpt of the logged error object
<code>
    headers:
      { Accept: 'application/json, text/plain, */*',
        'Content-Type': 'application/json;charset=utf-8',
        'User-Agent': 'axios/0.16.2',
        'Content-Length': 155 },
     method: 'post',
     url: 'https://api.yelp.com/oauth2/token',
     data: '{""client_id"":""xxxxxxxxx"",""client_secret"":""xxxxxxxxx"",""grant_type"":""client_credentials""}' },
</code></p>

<p>How, in any way, does the shown request violate any of the Yelp Api contract? The client id and secret were issued to me earlier today.</p>
","2017-08-05 02:34:54","","0","<oauth-2.0><access-token><yelp><fusion>","0","0"
"Yelp Fusion API Narrowing Search Params","<p>I'm trying to use the <a href=""https://www.yelp.com/developers/documentation/v3/business_search"" rel=""nofollow noreferrer"">Yelp Fusion API</a> in order to find all the local business in a given town. The available search parameters for location include <code>location</code>, <code>longitude</code>, and <code>latitude</code>. However, despite putting the name of my town in the <code>location</code> parameter, I am getting a bunch of results from surrounding towns and other areas with in my state. That being said I have two questions:</p>

<ol>
<li>Is there a way to limit the results to strictly my own town?</li>
<li>Is there a way to determine if a given business is small and local or not a chain?</li>
</ol>
","2017-08-06 00:48:14","","1","<python><python-requests><geocoding><yelp>","0","0"
"Yelp Middle UITabBar Navigation","<p>I am trying to do a UX like Yelp's middle UITabBar item with navigation. I saw <a href=""https://github.com/BasheerSience/BROptionsButton"" rel=""nofollow"">https://github.com/BasheerSience/BROptionsButton</a> and am using it to get the pop-up UIButtons. However, when I try to navigate to other view controllers from the buttons I can't get anything working. Note, I am using the storyboard. I need a navigation controller since each of the pop-up buttons will navigate to separate VCs. I am probably missing something very basic, but am not seeing it. Thanks!!</p>
","2015-02-17 18:05:33","29854642","0","<ios><uinavigationcontroller><uitabbarcontroller><segue><yelp>","1","1"
"Parsing Yelp API v2 JSON Null Pointer Exception","<p>In Android, I'm trying to parse the results of a query using Yelps API v2. I am getting correct JSON, but for some reason I am getting the error of Null Pointer Exception. Here are some code snippets. </p>

<pre class=""lang-java prettyprint-override""><code>class RetreiveSearchResults extends AsyncTask&lt;String, Void, Void&gt; {
@Override
protected Void doInBackground(String... terms) {
expListView = (ExpandableListView) findViewById(R.id.lvExp);


OAuthService service = new ServiceBuilder().provider(YelpApi2.class).apiKey(""myKey"").apiSecret(""myKey"").build();
Token accessToken = new Token(""wKXleYnSD0RH_qhj-myKey-UG"", ""myKey"");
OAuthRequest request = new OAuthRequest(Verb.GET, ""http://api.yelp.com/v2/search"");
request.addQuerystringParameter(""location"", ""Waterfront, Boston, MA"");
request.addQuerystringParameter(""category"", category);
service.signRequest(accessToken, request);
Response response = request.send();
String rawData = response.getBody();

try {
    JSONObject json = new JSONObject(rawData);
    JSONArray businesses;
    businesses = json.getJSONArray(""businesses"");
    for (int i = 0; i &lt; businesses.length(); i++) {
            JSONObject business = businesses.getJSONObject(i);
            businessNames.add(business.getString(""name""));
    }
for(int j = 0; j &lt; businessNames.size(); j++){
    listDataChild.put(businessNames.get(j), businessInfo);
}
} catch (JSONException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}
</code></pre>

<p>ERROR:</p>

<p>Line 125 is <code>businessNames.add(business.getString(""name""));</code> above.</p>

<pre><code>12-16 14:45:46.854: E/AndroidRuntime(28707): FATAL EXCEPTION: AsyncTask #2
12-16 14:45:46.854: E/AndroidRuntime(28707): java.lang.RuntimeException: An error occured while executing doInBackground()
12-16 14:45:46.854: E/AndroidRuntime(28707):    at android.os.AsyncTask$3.done(AsyncTask.java:299)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:273)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.FutureTask.setException(FutureTask.java:124)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:307)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.FutureTask.run(FutureTask.java:137)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.lang.Thread.run(Thread.java:856)
12-16 14:45:46.854: E/AndroidRuntime(28707): Caused by: java.lang.NullPointerException
12-16 14:45:46.854: E/AndroidRuntime(28707):    at com.td.rssreader.CoffeeResultActivity$RetreiveSearchResults.doInBackground(CoffeeResultActivity.java:125)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at com.td.rssreader.CoffeeResultActivity$RetreiveSearchResults.doInBackground(CoffeeResultActivity.java:1)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at android.os.AsyncTask$2.call(AsyncTask.java:287)
12-16 14:45:46.854: E/AndroidRuntime(28707):    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
12-16 14:45:46.854: E/AndroidRuntime(28707):    ... 5 more
</code></pre>

<p>I logged the output of the first <code>business</code> JSONObject and this is the JSON output that I received...</p>

<pre><code>{
   ""rating_img_url_large"":""http:\/\/s3-media4.ak.yelpcdn.com\/assets\/2\/www\/img\/9f83790ff7f6\/ico\/stars\/v1\/stars_large_4_half.png"",
   ""snippet_text"":""Last night got off to a somewhat inauspicious start. As usual, I was dependent on my GPS to get us to our destination for the evening. Also as usual, I also..."",
   ""phone"":""6176549900"",
   ""menu_date_updated"":1383451144,
   ""rating_img_url"":""http:\/\/s3-media2.ak.yelpcdn.com\/assets\/2\/www\/img\/99493c12711e\/ico\/stars\/v1\/stars_4_half.png"",
   ""location"":{
      ""neighborhoods"":[
         ""Waterfront"",
         ""Leather District"",
         ""South Boston""
  ],
  ""state_code"":""MA"",
  ""display_address"":[
     ""9 East St"",
     ""Waterfront"",
     ""Boston, MA 02111""
  ],
  ""address"":[
     ""9 East St""
  ],
  ""country_code"":""US"",
  ""postal_code"":""02111"",
  ""city"":""Boston""
   },
   ""menu_provider"":""single_platform"",
   ""review_count"":340,
   ""is_closed"":false,
   ""is_claimed"":true,
   ""rating_img_url_small"":""http:\/\/s3-media2.ak.yelpcdn.com\/assets\/2\/www\/img\/a5221e66bc70\/ico\/stars\/v1\/stars_small_4_half.png"",
   ""url"":""http:\/\/www.yelp.com\/biz\/o-ya-boston"",
   ""id"":""o-ya-boston"",
   ""image_url"":""http:\/\/s3-media3.ak.yelpcdn.com\/bphoto\/pyRoQtCY4ou8_VvSikmidw\/ms.jpg"",
   ""name"":""O Ya"",
   ""display_phone"":""+1-617-654-9900"",
   ""snippet_image_url"":""http:\/\/s3-media4.ak.yelpcdn.com\/photo\/QLLDC2CmRvTvFjullAC7tg\/ms.jpg"",
   ""mobile_url"":""http:\/\/m.yelp.com\/biz\/o-ya-boston"",
   ""categories"":[
      [
         ""Japanese"",
         ""japanese""
      ]
   ],
   ""rating"":4.5
}
</code></pre>

<p>As you can see. ""name"" is there, but I cannot grab it. </p>
","2013-12-16 19:59:01","20620051","1","<java><android><json><yelp>","1","0"
"Iterating over lists of input params for use in Yelp API code","<p>this is my first time using stack overflow, and my first time using Python, so please forgive me if I provided more code than was necessary, or I'm asking the wrong questions. I'm still figuring out how the calls to the API work, so I provided all of the code that interacted with it. This code works, but only for a single string input in the params 'CATEGORY_1' and 'LOCATION'. I'm trying to figure out how to enter lists for each of these params so that it iterates through each of them, making many different url requests to the API, and printing out all of the results. I want the output to show each LOCATION input address from the list, then the corresponding API business search results for the categories 'bikes' and 'skateshops'. I'm uncertain where to put the for loops, and also it seems that the .replace attribute that I used does not work for list objects. Any help is appreciated! </p>

<p>Sincerely, Programming n00b</p>

<pre><code>#Oauth credentials
CLIENT_ID = XXX
CLIENT_SECRET = XXX

# Yelp API Constants
API_HOST = 'https://api.yelp.com'
SEARCH_PATH = '/v3/businesses/search'
BUSINESS_PATH = '/v3/businesses/'  
TOKEN_PATH = '/oauth2/token'
GRANT_TYPE = 'client_credentials'

# Desired Search parameters
CATEGORY_1 = ['bikes','skateshops']
LOCATION = ['123 Meadow St, Portland, OR', '222 Spring St, Provo, UT', '808          
Williams Ave, Walla Walla, Washington']
RADIUS = 8050
SEARCH_LIMIT = 50

def obtain_bearer_token(host, path):
    url = '{0}{1}'.format(host, quote(path.encode('utf8')))
    assert CLIENT_ID, ""Please supply your client_id.""
    assert CLIENT_SECRET, ""Please supply your client_secret.""
    data = urlencode({
        'client_id': CLIENT_ID,
        'client_secret': CLIENT_SECRET,
        'grant_type': GRANT_TYPE,
    })
    headers = {
        'content-type': 'application/x-www-form-urlencoded',
    }
    response = requests.request('POST', url, data=data, headers=headers)
    bearer_token = response.json()['access_token']
    return bearer_token

def request(host, path, bearer_token, url_params=None):
    url_params = url_params or {}
    url = '{0}{1}'.format(host, quote(path.encode('utf8')))
    headers = {
        'Authorization': 'Bearer %s' % bearer_token,
    }

    print(u'Querying {0} ...'.format(url))

    response = requests.request('GET', url, headers=headers,    
    params=url_params)

    return response.json()

def search(bearer_token, term, location):
    url_params = {
        'categories': term.replace(' ', '+'),
        'location': location.replace(' ', '+'),
        'radius': RADIUS,
        'limit': SEARCH_LIMIT
    }
    return request(API_HOST, SEARCH_PATH, bearer_token, url_params=url_params)

def get_business(bearer_token, business_id):
        business_path = BUSINESS_PATH + business_id
        return request(API_HOST, business_path, bearer_token)

def query_api(term, location):
    bearer_token = obtain_bearer_token(API_HOST, TOKEN_PATH)
    response = search(bearer_token, term, location)
    businesses = response.get('businesses')
    for x in businesses[:]:
    location=x['location']
    print('{0},{1},{2},{3},{4},{5},{6},{7}'.format(x['name'],location['addre
    ss1'],location['city'],location['state'],location['zip_code'],
    x['phone'],x['url'],term))
</code></pre>
","2017-09-02 00:52:18","","1","<python><python-3.x><yelp>","0","0"
"How do I use Yelp's API in ZF2?","<p>I'm trying to connect to Yelp's API, currently using ZF2 and ZendOAuth. I don't know why I'm getting a 404. Here is the raw request and response headers.</p>

<pre><code>POST /v2/search?term=tacos&amp;location=sf HTTP/1.1
Host: api.yelp.com
Connection: close
Accept-Encoding: gzip, deflate
User-Agent: Zend\Http\Client
Content-Type: application/x-www-form-urlencoded
Authorization: OAuth realm="""",oauth_consumer_key=""&lt;key&gt;"",oauth_nonce=""&lt;nonce&gt;"",oauth_signature_method=""HMAC-SHA1"",oauth_timestamp=""1387401249"",oauth_version=""1.0"",oauth_token=""&lt;token&gt;"",oauth_signature=""&lt;signature&gt;""

HTTP/1.1 404 Not Found
Date: Wed, 18 Dec 2013 21:14:09 GMT
Server: Apache
X-Node: web41, api_com
Content-Length: 8308
Vary: User-Agent
Connection: close
Content-Type: text/html; charset=UTF-8
X-Mode: rw
X-Proxied: lb1
</code></pre>

<p>Does that request look like it should connect somewhere? </p>

<p>Here's some code. </p>

<pre><code>    $accessToken = new \ZendOAuth\Token\Access();
    $accessToken-&gt;setToken('&lt;token&gt;');
    $accessToken-&gt;setTokenSecret('&lt;secret&gt;');
    $host = 'http://' . $_SERVER['HTTP_HOST'];
    $config = array(
        'consumerKey'=&gt;'&lt;key&gt;',
        'consumerSecret'=&gt;'&lt;secret&gt;',
    );
    $client = $accessToken-&gt;getHttpClient($config);
    $client-&gt;setUri('http://api.yelp.com/v2/search?term=tacos&amp;location=sf');
    $client-&gt;setMethod('POST');
    $adapter = new \Zend\Http\Client\Adapter\Socket();
    $client-&gt;setAdapter($adapter);
    $response = $client-&gt;send();
    $result = $response-&gt;getBody();  
</code></pre>

<p>All the examples of OAuth I've seen get the access token with a request token, but Yelp already gave me the token and secret, so I'm trying to construct it manually. </p>

<hr>

<p><strong>Update:</strong>
Changing</p>

<pre><code>    $client-&gt;setMethod('POST');
</code></pre>

<p>to </p>

<pre><code>    $client-&gt;setMethod('GET');
</code></pre>

<p>is the first step, but the parameters can't be added manually to the URL, they have to be added with <code>setParameterGet();</code>. So here's my updated working code. </p>

<pre><code>$accessToken = new \ZendOAuth\Token\Access();
$accessToken-&gt;setToken('&lt;token&gt;');
$accessToken-&gt;setTokenSecret('&lt;secret&gt;');
$host = 'http://' . $_SERVER['HTTP_HOST'];
$config = array(
    'consumerKey'=&gt;'&lt;key&gt;',
    'consumerSecret'=&gt;'&lt;secret&gt;',
);
$client = $accessToken-&gt;getHttpClient($config);
$client-&gt;setUri('http://api.yelp.com/v2/search');
$client-&gt;setMethod('GET');
$params = array('term'=&gt;'tacos', 'location'=&gt;'sf');                                                                                                                  
$client-&gt;setParameterGet($params);
$adapter = new \Zend\Http\Client\Adapter\Socket();
$client-&gt;setAdapter($adapter);
$response = $client-&gt;send();
$result = $response-&gt;getBody(); 
</code></pre>
","2013-12-18 21:40:33","20669509","0","<php><http><rest><zend-framework2><yelp>","1","0"
"Yelp API Unitialized Constant","<p>I've ready through a lot of the documentation and question here on S/O, but I can't seem to find what I'm doing wrong.</p>

<p>Yelp is giving me an unitiailized constant. I've installed the gem and it's deps, have an api key, and require 'yelp' is present in my code.</p>

<p>Here's my error: </p>

<pre><code> yelp.rb:12:in `&lt;main&gt;': uninitialized constant Yelp::Review     (NameError)
</code></pre>

<p>Here's my code:</p>

<pre><code>require 'yelp'

client = Yelp::Client.new({ consumer_key: '[struck]',
                        consumer_secret: '[struct]',
                        token: '[struck]',
                        token_secret: '[struck]'
                      })

city = 'Terre Haute'


req = Yelp::Review::Request::Location.new(
    :city =&gt; city,
    :state =&gt; 'IN',
    :category =&gt; ['coffee', 'potatoes']
    )
res = client.search(req)
puts res
</code></pre>

<p>EDIT: I always forgot stupid stuff -_- </p>
","2015-03-03 13:54:18","28836568","0","<ruby><yelp>","1","0"
"Invalid signature. Expected signature base string - OAuth1.0 Yelp API","<p>I am using yelp V2 API in my app.I am getting below response for requesting restaurant and food detail in any particular area. I tried almost all solution of stack overflow and everywhere else I got. But still no progress. Can anyone help me please? </p>

<p>Error : </p>

<blockquote>
  <p>{""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"",
  ""description"": ""Invalid signature. Expected signature base
  string:""GET..""}</p>
</blockquote>
","2017-01-10 12:34:55","","1","<ios><objective-c><yelp><oauth-1.0a>","0","0"
"angular yelp api invalid signature error","<p>I am trying to create a yelp api request in angular and I get an invalid signature error. I have been following a similar problem from here: <a href=""https://stackoverflow.com/questions/23716264/yelp-api-and-angularjs"">Yelp API and AngularJS</a> but no luck. 
Here is my controller:</p>

<pre><code>    app.controller('MainController', ['$scope', 'yelpService',
        function($scope, yelpService) {
           yelpService.retrieveYelp('', function(data) {
                $scope.businesses = data.businesses;
            });
        }]);
</code></pre>

<p>And here is my service:</p>

<pre><code>app.factory(""yelpService"", function($http) {
            return {
                ""retrieveYelp"": function(name, callback) {
                    var method = 'GET';
                    var url = 'http://api.yelp.com/v2/search';
                    var params = {
                            callback: 'JSON_CALLBACK',
                            location: 'San+Francisco',
                            oauth_consumer_key: '', //Consumer Key
                            oauth_token: '', //Token
                            oauth_signature_method: ""HMAC-SHA1"",
                            oauth_timestamp: new Date().getTime(),
                            oauth_nonce: randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'),
                            term: 'mexican'
                        };
                    var consumerSecret = ''; //Consumer Secret
                    var tokenSecret = ''; //Token Secret
                    var signature = oauthSignature.generate(method, url, params, consumerSecret, tokenSecret, { encodeSignature: false});
                    // var signature = oauth.authorize(request_data, token);
                    params['oauth_signature'] = signature;
                    $http.jsonp(url, {params: params})
                        .then(function(response){
                            console.log(response);
                        }, function(response) {
                        // called asynchronously if an error occurs
                        // or server returns response with an error status.
                            console.log(response)
                        })
                    }
            }
        });



function randomString(length, chars) {
    var result = '';
    for (var i = length; i &gt; 0; --i) result +=      chars[Math.round(Math.random() * (chars.length - 1))];
    return result;
}
</code></pre>

<p>And here is the error:</p>

<blockquote>
  <p>/**/angular.callbacks._0({""error"": {""text"": ""Signature was invalid"",
  ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected
  signature base string:
  GET\u0026http%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026callback%3Dangular.callbacks._0%26location%3DSan%252BFrancisco%26oauth_consumer_key%3DiVBpzLwc-Us4-2dlRTzJJg%26oauth_nonce%3DikBZWdLPBMRif0fT0NUi4ygoiUwNXMUq%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1464889608736%26oauth_token%3DY-XgKu4g2wHAK7s_h6NoKwg8rooI797N%26term%3Dmexican""}})</p>
</blockquote>

<p>Could anyone help?</p>
","2016-06-02 17:58:50","","0","<javascript><angularjs><yelp>","1","0"
"Yelp return 200 but error using $http","<p>Yelp is returning status 200 with a JSON with results, but error callback is called. Maybe the JSON is malformed? I don't think so. But I cannot understand what is happening.</p>

<p>This is the code (angularjs):</p>

<pre><code>$http.jsonp('https://api.yelp.com/v2/search?term=food&amp;location=San+Francisco', {
    params: params, //All oauth params are correctly filled
    headers: {
        'Content-Type': 'application/json'
    }
}).success(function(data){
    deferred.resolve(data);
})
.error(function(error){
    deferred.reject(error);
});
</code></pre>

<p>Thanks!</p>
","2016-06-02 20:25:27","","0","<angularjs><http><oauth><yelp>","1","3"
"The import edu.stanford.nlp.ling.CoreAnnotations.OriginalTextAnnotation cannot be resolved","<p>I am new to NLP. </p>

<p>I am trying to import: <code>edu.stanford.nlp.ling.CoreAnnotations.OriginalTextAnnotation</code>, but I am getting the following error:</p>

<p><code>The import edu.stanford.nlp.ling.CoreAnnotations.OriginalTextAnnotation cannot be resolved</code></p>

<p>Please let me know which jar file I should use.</p>
","2015-11-17 18:08:16","","0","<java><nlp><yelp>","2","0"
"How does matrix decomposition help fill in a sparse utility/ratings matrix for new users?","<p>This is my first attempt at machine learning. I'm writing a very simple recommendation engine using the yelp dataset. It's written in python using pandas and numpy libraries for (data processing). I've already narrowed the data down first to restaurants(millions), then only restaurants in vegas(thousands), then only restaurants with 3.5 stars or higher with over 50 reviews(hundreds). Also I narrowed down the users to only those that have reviewed at least 20% of the restaurants. Finally I've arrived to a ratings matrix that has 100 users by 1800 restaurants. </p>

<p>However, I feel it's still to sparse to give (relatively) useful recommendations. The goal is to use item-item collaborative based filtering computing vector distance using cosine similarity.</p>

<p>I've been reading about dealing with sparse matrices and the consensus seems to be to use matrix factorization. It seems however that most of these readings deal with current users and use matrix factorization as the algorithm that drives the recommendation for current users while solving the sparsity issue as a by-product. Is my understanding correct here? What I'm looking for is a method that will solve the sparsity issue first and then use cosine vector distances to guide the recommendation. </p>

<p>If decomposition is in fact the way to go: what <code>sklearn.decomposition</code> method should I use i.e. PCA, SVD, NMF? </p>

<pre><code>[[ 3, 0, 0, ..., 0, 0, 0],
[ 0, 0, 0, ..., 0, 0, 0],
[ 0, 0, 0, ..., 0, 4, 3],
...
[ 1, 0, 0, ..., 0, 0, 0],
[ 0, 0, 0, ..., 0, 0, 2],
[ 0, 0, 5, ..., 0, 1, 3]] 
</code></pre>

<p>(100 Users X 1800 Restaurants)</p>
","2016-06-04 18:00:06","","1","<python><matrix><scikit-learn><recommendation-engine><yelp>","1","0"
"FourSquare vs. Google Places vs. Yelp API","<p>I am trying to create an app that will help users find restaurants/movie theaters/malls/etc. to hang out based on ratings and distance. Other than just the place itself, I would also like to know more detailed information about the place. For example, if I were to look for parks, I would also like to know if theres a basketball or tennis court there. Ratings and popularity would also be an important aspect to prioritize suggestions. </p>

<p>After looking through all three of the APIs, I could not really find any substantial differences other than their search limits. Could anyone really differentiate each API for me? Maybe even recommend one based on my specific need?</p>

<p>Thanks!</p>
","2016-06-04 19:15:39","","1","<foursquare><google-places><yelp>","1","0"
"How to make Yelp API request?","<p>I am just trying to make a Yelp API request as part of an iPhone app and I don't know how to set up the request. I have all of my authentication keys via Yelp, but I'm not sure what all I need to include. I don't need to have users sign in to their account or anything, I just want to be able to retrieve reviews to display in my app. </p>

<p>Say I want to the search term=food in location=San Francisco. My initial thought is to do:</p>

<p><a href=""http://api.yelp.com/v2/search?term=food&amp;location=San+Francisco&amp;oauth_consumer_key=XXXXXXX&amp;oauth_nonce=XXXXX&amp;oauth_signature=XXXXXX&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=XXXXX&amp;oauth_token=XXXX"" rel=""noreferrer"">http://api.yelp.com/v2/search?term=food&amp;location=San+Francisco&amp;oauth_consumer_key=XXXXXXX&amp;oauth_nonce=XXXXX&amp;oauth_signature=XXXXXX&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_timestamp=XXXXX&amp;oauth_token=XXXX</a></p>

<p>when I try this I get an INVALID_SIGNATURE error</p>

<p>What is the best way to request this information from Yelp? Also, am I supposed to pass my authentication keys via the URL?</p>
","2012-11-30 22:05:59","","6","<objective-c><ios><yelp>","1","2"
"Accessing Yelp API with iOS using the OAuthConsumer","<p>Yelp have a link to an API on their website: <a href=""http://www.yelp.co.uk/developers/documentation/v2/authentication"" rel=""nofollow"">http://www.yelp.co.uk/developers/documentation/v2/authentication</a></p>

<p>I am trying to access it with iOS (using <a href=""https://github.com/Yelp/yelp-api/tree/master/v2/ios"" rel=""nofollow"">this</a> API), but I am quite new to OAuth.</p>

<p>Can someone supply some example Objective-C of how to use this API?</p>

<p>The only ones I can find need a 'get request token' URL, and Yelp does not need this as is uses a signature.</p>

<p>Thanks</p>
","2013-01-20 20:53:34","","2","<ios><api><oauth><hyperlink><yelp>","2","0"
"Yelp API missing an API key error while migrating","<p>I'm getting this error when I am doing <code>rake db:migrate</code>.</p>

<blockquote>
  <p>Yelp::Error::MissingAPIKeys: You're missing an API key
  /Users/subhajit/grub_food/config/initializers/yelp.rb:1:in `'</p>
</blockquote>

<p>My application.yml is containing all API keys.</p>
","2015-05-11 01:47:18","","0","<api><yelp>","1","0"
"Yelp API displaying data","<p>I've been looking up and down and there doesn't seem to be much documentation on this. I am just beginning development, and have no prior programming experience aside from HTML which doesn't really count. </p>

<p>I am able to successfully pull data with URL queries as I can see in my console. My question is, if I wanted to send a query for restaurant reviews, as an example, how do I get that data from the console to the iPhone view, right on the screen? If someone were able to provide a simple example I would appreciate it.</p>
","2013-01-21 17:28:15","14444220","0","<iphone><api><yelp>","1","0"
"Retrieving specific data from website through excel","<p>I am trying to do something very similar to the below existing example:
<a href=""https://stackoverflow.com/questions/19335471/get-data-from-website"">reference problem</a></p>

<p>With one small exception, I need to pull only the <b>rating</b> and <b># of reviews</b> for this listing into 2 separate cells in Excel.</p>

<p>How would I do this in a way without pulling the entire site's data?  It seems I need to call a specific html tag or use a command to do this, but I don't know what it is.</p>

<p>Please Help!</p>
","2014-04-21 22:01:50","23248371","0","<html><excel><vba><excel-vba><yelp>","1","2"
"How can I make this code work without showing my API keys? I am building as app on Node.js/Angular/Express","<p>This code works well with my app but process.env doesn't work from within this function. Is there a way that I can call process.env instead of having to display my keys? If I leave the code as is now, the API call won't work, but if I add my keys it will work. What are my options, or simply why does process.env not work from here as it does on the command line?</p>

<pre><code>function randomString(length, chars) {
    var result = '';
    for (var i = length; i &gt; 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];
    return result;
}

var myApp = angular.module('myApp', []);

myApp.controller('MainCtrl', ['$scope', 'MyYelpAPI', '$window', function($scope, MyYelpAPI, $window) {
    $scope.total = [];
    $scope.businesses = [];
    MyYelpAPI.retrieveYelp('', function(data) {
        $scope.businesses = data.businesses
        console.log($scope.businesses)

        var array = $scope.businesses
        var random = Math.floor((Math.random() * array.length) + 1);
        // console.log(array[random])

        var result = array[random]
        console.log(result)

        if (2 &gt; 1) {
            $scope.businesses = [result]
        }
    });

}]).factory(""MyYelpAPI"", function($http) {
    return {
        ""retrieveYelp"": function(name, callback) {
            var method = 'GET';
            var url = 'http://api.yelp.com/v2/search?';
            var params = {
                    callback: 'angular.callbacks._0',
                    location: 'New+York',
                    oauth_consumer_key: process.env.yelp_consumer_key, //Consumer Key
                    oauth_token: process.env.yelp_token, //Token
                    oauth_signature_method: ""HMAC-SHA1"",
                    oauth_timestamp: new Date().getTime(),
                    oauth_nonce: randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'),
                    term: 'bakery'
                    // limit: 15
                };
            var consumerSecret = process.env.yelp_consumer_secret; //Consumer Secret
            var tokenSecret = process.env.yelp_token_secret; //Token Secret
            var signature = oauthSignature.generate(method, url, params, consumerSecret, tokenSecret, { encodeSignature: false});
            params['oauth_signature'] = signature;
            $http.jsonp(url, {params: params}).success(callback);
        }
    }
});
</code></pre>
","2016-07-28 13:50:33","38638641","0","<javascript><angularjs><node.js><api><yelp>","1","0"
"yelp data set parsing json in hive","<pre><code>create external table review
(
 business_id string,
 user_id string,
 stars Double,
 text string,
 date date,
 votes struct &lt;
vote_type :string ,
count: int &gt;)
ROW FORMAT SERDE 'com.cloudera.hive.serde.JSONSerDe'

;
</code></pre>

<p>table is loaded correctly but getting error when trying to parse stars and date field
on hive ie ..select stars from review is giving error. </p>

<p>data set used is used from the below link and is in json format 
<a href=""https://www.yelp.com/dataset_challenge"" rel=""nofollow"">https://www.yelp.com/dataset_challenge</a></p>
","2016-08-01 03:32:59","","0","<json><hive><yelp>","1","0"
"An HTTP request to the Yelp API returns a missing parameter error","<p>I try to retrieve some information from Yelp API for a UWP app. As they say <a href=""https://www.yelp.co.uk/developers/documentation/v2/authentication"" rel=""nofollow"">here</a>, I need to pass some parameter as header for a HTTP request, and then perform a Json request <a href=""https://www.yelp.co.uk/developers/documentation/v2/search_api"" rel=""nofollow"">using this link</a>. I know how to parse a Json file once I get it, but I have no idea how to get access to this file.</p>

<p>If for example I put <code>https://api.yelp.com/v2/search?term=food&amp;location=San+Francisco&amp;oauth_consumer_key=MYKEY&amp;oauth_token=MYTOKEN&amp;oauth_signature_method=hmac-sha1</code> this link on my browser</p>

<p>it return <code>{""error"": {""text"": ""One or more parameters are missing in request"", ""id"": ""MISSING_PARAMETER"", ""field"": ""oauth_signature""}}</code></p>

<p>How should I enter this <code>oauth_signature</code>?</p>
","2016-08-03 08:42:54","","0","<c#><yelp>","1","3"
"Using yelp API c#","<p>I was wondering about how to use the Yelp API with an UWP C# app. I'm new to those things.</p>

<p>As I can understand from <a href=""https://www.yelp.co.uk/developers/documentation/v2/authentication"" rel=""nofollow"">here</a> I need to authentificate using oauth, before I can do a <code>HttpClient</code> with a custom URI as shown <a href=""https://www.yelp.co.uk/developers/documentation/v2/search_api"" rel=""nofollow"">here</a>. How should I achieve this with code?</p>

<p>My guess was to do an <code>HttpClient</code> with a URI like this:</p>

<pre><code>https://api.yelp.com/v2/search?term=food&amp;location=San+Francisco&amp;oauth_consumer_key=KEY&amp;oauth_token=TOKEN&amp;oauth_signature_method=HMAC-SHA1&amp;oauth_signature=TOKEN_SECRET&amp;oauth_timestamp=1470227235&amp;oauth_nonce=cfd
</code></pre>

<p>Composed as </p>

<pre><code>https://api.yelp.com/v2/search?
term=food
location=San+Francisco
oauth_consumer_key=KEY
oauth_token=TOKEN
oauth_signature_method=HMAC-SHA1
oauth_signature=TOKEN_SECRET
oauth_timestamp=1470227235
oauth_nonce=cfd
</code></pre>

<p>Gives me the following output error : </p>

<blockquote>
  <p>{""error"": {""text"": ""Signature was invalid"", ""id"": ""INVALID_SIGNATURE"", ""description"": ""Invalid signature. Expected signature base string: GET\u0026https%3A%2F%2Fapi.yelp.com%2Fv2%2Fsearch\u0026location%3DSan%2520Francisco%26oauth_consumer_key%HIDDEN%26oauth_nonce%3Dc%26oauth_signature_method%3DHMAC-SHA1%26oauth_timestamp%3D1470227235%26oauth_token%HIDDEN%26term%3Dfood""}}</p>
</blockquote>

<p>How should I get it to work? Is there any better method in c#</p>
","2016-08-03 12:34:58","","0","<c#><api><oauth><yelp>","0","2"
"Convert json file into csv encode/decode problems","<p>My semester project is about classification by using Naive bayes. I ve decided to use Yelp dataset. While I was turning the json file into csv file I came up with couple of problems. Such as :</p>

<blockquote>
  <p>json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</p>
</blockquote>

<p>Its because of the wrong usage of json.loads(). I tried a couple of deifferent usage of the function to manage this part of the program. Unfortunately, none of them worked. I put my code down below,  if you have any idea about how to handle this, can you please explain it to me?
`</p>

<pre><code>import json
import pandas as pd
from glob import glob
import codecs
global df
global s
global count

def convert(x):
    ob = json.loads(x)
    for k, v in ob.items():
        if isinstance(v, list):
            ob[k] = ','.join(v)
        elif isinstance(v, dict):
            for kk, vv in v.items():
                ob['%s_%s' % (k, kk)] = vv
            del ob[k]
    return ob


s = """"
count = 0
for json_filename in glob('*.json'):
    csv_filename = '%s.csv' % json_filename[:-5]
    print('Converting %s to %s' % (json_filename, csv_filename))
    with open('yelp_dataset_challenge_round9.json','rb') as f: #open in binary mode
        for line in f:
            for cp in ('cp1252', 'cp850'):
                try:
                    if count is 0:
                        count = 1
                    else:
                        s = str(line.decode('utf-8'))
                except UnicodeDecodeError:
                    pass
    df = pd.DataFrame([convert(s)])
    df.to_csv(csv_filename, encoding='utf-8', index=False)
</code></pre>

<p>`</p>

<p>Thanks in advance :)</p>
","2017-05-11 09:26:41","","1","<json><python-3.x><csv><yelp>","0","0"
"Python and SQL: store value, query, and parse the next one","<p>I have a logic dilemma. </p>

<p>I'm trying to retrieve all restaurants in France with Yelp. 
In order to do so I'm writing a web crawler to scrap Yelp API and retrieve the data. 
The query is like this:</p>

<pre><code>https://api.yelp.com/v3/businesses/search?cc=fr&amp;location=Paris&amp;categories=restaurants
</code></pre>

<p>I have a SQL database with all the cities in France (nice isn't it?): </p>

<p><a href=""https://i.stack.imgur.com/cF4Z9.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cF4Z9.png"" alt=""enter image description here""></a></p>

<p>I'm now running my web crawler manually entering the <code>city</code> name with my hands. 
Of course I would like my script to:</p>

<ol>
<li>query SQL Server</li>
<li>take <code>Country</code> and <code>City</code> values</li>
<li>pass the value in the URL (I know how to do it)</li>
<li>take the value from the next row (I don't know how to do it) </li>
</ol>

<p>So my question is more bout logic: how to structure the whole thing?</p>

<p>How to query, do, and pass to the next one?</p>
","2017-05-30 08:06:53","44257000","-1","<python><sql><yelp>","2","0"
"Using 'rvest' to extract links","<p>I am trying to scrap data from Yelp. One step is to extract links from each restaurant. For example, I search restaurants in NYC and get some results. Then I want to extract the links of all the 10 restaurants Yelp recommends on page 1. Here is what I have tried:</p>

<pre><code>library(rvest)     
page=read_html(""http://www.yelp.com/search?find_loc=New+York,+NY,+USA"")
page %&gt;% html_nodes("".biz-name span"") %&gt;% html_attr('href')
</code></pre>

<p>But the code always returns 'NA'. Can anyone help me with that? Thanks!</p>
","2016-02-06 22:04:58","35247304","1","<r><web-scraping><yelp><rvest>","1","5"
"Using Yelp Fusion API in swift app not authenticating, continuously receiving ""VALIDATION_ERROR""","<p>Code here</p>

<pre><code>let link = ""https://api.yelp.com/oauth2/token""
guard let url = URL(string: link) else { return }

// Headers
let headers = [
  ""content-type"": ""application/x-www-form-urlencoded""
]

guard let clientID = infoPlist(withKey: ""YELP_API_CLIENT_ID""),
  let clientSecret = infoPlist(withKey: ""YELP_API_CLIENT_SECRET"") else { return }

let body = ""client_id=\(clientID)&amp;client_secret=\(clientSecret)&amp;grant_type=client_credentials""

var request = URLRequest.init(url: url)
request.httpMethod = ""POST""
request.allHTTPHeaderFields = headers
request.httpBody = body.data(using: .utf8)
</code></pre>

<p>As far as I know this should be working. Based on everything I've read this is the proper process for authenticating with Yelp Fusion/v3.</p>
","2017-09-05 20:20:33","","-1","<ios><swift><yelp>","1","0"
"Yelp API access not available","<p>I need Yelp API for using in my Android app. <a href=""http://i.stack.imgur.com/D5XAa.png"" rel=""nofollow"">The form on the website</a>
<a href=""https://www.yelp.com/developers/get_access"" rel=""nofollow"">https://www.yelp.com/developers/get_access</a> 
It requires a website URL. Am I accessing the right form? I don't have a website and I don't need it for a website. From what I understand you need a Key for using it on Android. How can I get that key? 
Thanks in advance.</p>
","2016-02-08 11:53:32","","-2","<java><android><yelp>","1","0"
"Integrating Yelp API v2 into iOS 7 app","<p>I thought this would have been a bit of a more seamless process.  I downloaded the yelp api example (<a href=""https://github.com/Yelp/yelp-api/tree/master/v2/ios"" rel=""nofollow noreferrer"">https://github.com/Yelp/yelp-api/tree/master/v2/ios</a>) and assumed I could just 'build and run' and see an example with a request sent out on a buttonPressed event.</p>

<p>I've been reading here: <a href=""https://stackoverflow.com/questions/6606572/how-to-integrate-yelp-api-in-iphone-application"">How to integrate Yelp APi in iPhone application?</a> and other places online but am getting a ton of errors when trying to integrate a basic test.  I've signed up for an account, have an API v2 set of keys.</p>

<p>A lot of the errors seem to be related to the ARC and the yelp api trying to explicitly autorelease some of their objects.</p>
","2014-02-02 23:15:23","","1","<ios><api><ios7><xcode5><yelp>","2","0"
"one set of yelp api access keys for multiple sites? keys work for one not the other","<p>I have two sites both using the same yelp api access keys.  Is that ok?  in fact when I run both sites off the same  dev box - ie same IP - the keys work for one site but not the other.  Also , the keys work on dev for that site but not for the live site - any reason to do with the API or   just a bug on my end?  If I need multiple access keys how do I  get them as the manage api access seems to only allow me one set at a time.</p>

<p>when they fail I get this error  on   dev :
Array ( [error] => Array ( [text] => Signature was invalid [id] => INVALID_SIGNATURE [description] => Invalid signature. Expected signature base string: GET....</p>

<p>tracing thought my code has not revealed any differences in the code or the calls to yelp yet, in fact I just copied the code over from the functional site's folders.</p>

<p>Thanks</p>
","2012-11-02 19:54:56","13238717","0","<api><key><yelp>","1","0"
"Day numbering in Yelp API","<p>When Yelp API returns data for each day of the week, like the hours when business is open, the first day is 0 and the last one is 6. Is it safe to assume that 0 corresponds to Sunday?</p>

<pre><code>""hours"": [
{
  ""hours_type"": ""REGULAR"",
  ""open"": [
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 0,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 1,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 2,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 3,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 4,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 5,
      ""start"": ""1730""
    },
    {
      ""is_overnight"": false,
      ""end"": ""2200"",
      ""day"": 6,
      ""start"": ""1730""
    }
  ],
  ""is_open_now"": false
}
</code></pre>

<p>],</p>
","2017-09-06 20:34:17","46084075","1","<api><yelp>","1","0"
"IOS Json parser that retains float value","<p>I'm using Yelps local search api and have tried the native NSJsonserialization class and also JSONKit.  The problem is that I need the full value of the latitude and longitude for each business returned and these two parsers round the lat and long up to 7 digits right of the decimal. This makes for inaccurate locations when I annotate them to a map.</p>

<p>Does anyone know of a good Json parser for IOS I can use that will parse the full value of the coordinate floats?  The only other solution I can think of is parsing the address out of the json data and then sending another call to googles geolocation api to get the correct latitude and longitude but this doesn't seem very efficient.  Thanks</p>

<p>Steve</p>
","2012-10-03 05:42:53","","0","<ios><json><api><yelp>","1","0"
"Using the Yelp API with R, attempting to search business types using geo-coordinates","<p>Trying to connect to the yelp API using R and library ROAuth. </p>

<p>Great python sample using the rauth module and geo-coordinates: </p>

<p><a href=""https://gist.github.com/phillipjohnson/8889618"" rel=""nofollow"">https://gist.github.com/phillipjohnson/8889618</a></p>

<p>and would like to do exactly that but in R and using a library like ROAuth.</p>

<p>I've been attempting to create handshakes, etc:</p>

<pre><code>credentials &lt;- OAuthFactory$new(consumerKey=consumerKey,
                                consumerSecret=consumerSecret,
                                oauthKey = token,
                                oauthSecret = token_secret,
                                authURL=""http://api.yelp.com/v2"")
credentials$handshake()
credentials$OAuthRequest(testURL, ""GET"")
</code></pre>

<p>But not getting past the handshake. Yelp uses OAuth 1.0 which ROAuth package supports. From other code I've seen it requires an 'oauth_consumer_key', 'oauth_nonce', 'oauth_signature_method', 'oauth_timestamp', 'oauth_token'. I would appreciate any tips from people who used R to query Yelp using geo-coordinates. Thanks!</p>
","2015-01-01 04:43:02","27791751","1","<r><yelp>","1","2"
"Using Google My Business API to post reviews","<p>I'm trying to automatically post a review to Google My Business (also TripAdvisor, Yelp or any similar would be a valid option). So far, no luck with the APIs, as they don't seem to support this. </p>

<p>Does anyone have experience with this, or knows a workaround for it? It would also suffice to ""pre-fill"" the text boxes on the review sites, or have a widget that does it (as <a href=""https://www.tripadvisor.com/Widgets-g60763-d6727310-The_Ludlow_New_York_City-New_York_City_New_York.html#w-cdswritereviewlg"" rel=""nofollow"">https://www.tripadvisor.com/Widgets-g60763-d6727310-The_Ludlow_New_York_City-New_York_City_New_York.html#w-cdswritereviewlg</a>, which is only for TripAdvisor though - no luck with Google My Business). Thank you!</p>
","2016-04-19 22:05:23","","0","<yelp><tripadvisor><google-my-business-api>","1","0"
"Yelp Search API issues","<p>This is yelp search API.    </p>

<p>Used <a href=""https://api.yelp.com/v3/businesses/search?categories=restaurants,spanish&amp;latitude=10.315699&amp;longitude=123.885437"" rel=""nofollow noreferrer"">this api</a> for getting spanish restaurants. And it gives me nearly 150 restaurants, but most of them are not Spanish Restaurant Category.</p>

<pre><code>id"": ""zubuchon-cebu-city"",
""name"": ""Zubuchon"",
""image_url"": ""https://s3-media3.fl.yelpcdn.com/bphoto/7F3B5-2LfivkII9d5i8iaA/o.jpg"",
""is_closed"": false,
""url"": ""https://www.yelp.com/biz/zubuchon-cebu-city?adjust_creative=jO7FkmyPhUkuDm8uD3-6gA&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_search&amp;utm_source=jO7FkmyPhUkuDm8uD3-6gA"",
""review_count"": 13,
""categories"":[
{""alias"": ""filipino"", ""title"": ""Filipino""},
{""alias"": ""seafood"", ""title"": ""Seafood""},
{""alias"": ""soup"", ""title"": ""Soup""}
],
""rating"": 4,
""coordinates"":{""latitude"": 10.317542, ""longitude"": 123.894127},
""transactions"":[],
""price"": ""₱₱"",
""location"":{""address1"": ""N Escario Street"", ""address2"": ""Escario Central"", ""address3"": """", ""city"": ""Cebu City"",…},
""phone"": ""+63322540247"",
""display_phone"": ""+63 32 254 0247"",
""distance"": 972.4964813519999

...
</code></pre>

<p>How can i filter only Spanish Restaurants?</p>
","2017-09-14 17:14:11","","0","<yelp>","1","0"
"Categories from a List in a DataFrame","<p>There is a process in Pandas DataFrame that I am trying to do for my capstone project on the Yelp Dataset Challenge. I have found a way to do it using loops, but given the large dataset I am working with, it takes a long time. (I tried running it 24 hours, and it still was not complete.) </p>

<p>Is there a more efficient way to do this in Pandas without looping? </p>

<p>Note: business.categories (business is a DataFrame) provides a list of categories a business is in stored as a string (e.g. ""[restaurant, entertainment, bar, nightlife]""). It is written in the format of a list bust saved as a string. </p>

<pre><code># Creates a new DataFrame with businesses as rows and columns as categories tags with 0 or 1 depending on whether the business is that category
categories_list = []

# Makes empty values an string of empty lists. This prevents Null errors later in the code.
business.categories = business.categories.fillna('[]')

# Creates all categories as a single list. Goes through each business's list of categories and adds any unique values to the master list, categories_list
for x in range(len(business)):
    # business.categories is storing each value as a list (even though it's formatted just like a string), so this converts it to a List
    categories = eval(str(business.categories[x]))
    # Looks at each categories, adding it to categories_list if it's not already there
    for category in categories:
        if category not in categories_list:
            categories_list.append(category)

# Makes the list of categories (and business_id) the colums of the new DataFrame
categories_df = pd.DataFrame(columns = ['business_id'] + categories_list, index = business.index)

# Loops through determining whether or not each business has each category, storing this as a 1 or 0 for that category type respectivity.
for x in range(len(business)):
    for y in range(len(categories_list)):
        cat = categories_list[y]
        if cat in eval(business.categories[x]):
            categories_df[cat][x] = 1
        else:
            categories_df[cat][x] = 0

# Imports the original business_id's into the new DataFrame. This allows me to cross-reference this DataFrame with my other datasets for analysis
categories_df.business_id = business.business_id

categories_df
</code></pre>
","2017-06-10 12:20:48","","2","<python><pandas><lambda><yelp>","2","0"
"Using a variable URL value for Python HTTPConnection.request failing","<p>I am trying to make an API call to Yelp's Fusion API. My calls work when hard coded. I am trying to get a list of businesses and then get a list of reviews for those businesses which requires two GETs. I'd like to step through the list of businesses and get their associated reviews. The following code results in a <code>Send a complete request to the server</code> message when using the variable form. Hard coding a business ID value works fine. Not sure what the challenge is. (Newbie question so my code is probably not the best either)</p>

<pre><code>import http.client
import json

conn = http.client.HTTPSConnection(""api.yelp.com"")

headers = {
'authorization': ""Bearer &lt;access token value&gt;"",
'cache-control': ""no-cache"",
'postman-token': ""&lt;token value&gt;""
}
#This request works fine
conn.request(""GET"", ""/v3/businesses/search?latitude=40.8059518&amp;longitude=-73.9657435&amp;limit=10&amp;radius=200&amp;term=restaurant"", headers=headers)

res = conn.getresponse()
data = res.read()

yelp_result = json.loads(data.decode(""utf-8""))

all_businesses = []
for business in yelp_result['businesses']:
    b_name = business['name']
    b_id = business['id']
    rurl = ""/v3/businesses/"" + b_id + ""/reviews""
    #This is the request resulting in error given earlier
    conn.request(""GET"",rurl,headers=headers)
    all_businesses.append((b_id, b_name))
</code></pre>
","2017-08-27 00:23:28","","0","<python-3.x><yelp>","1","4"
"How to use YELP API with OAuthSwift?","<p>I'm trying to use OAuthSwift with the Yelp API. One of the required parameters is requestTokenURL, authorizeURL, accessTokenURL; however, I already have the token itself from Yelp and there is no authorize URL for Yelp. Not including these parameters gives me an error. What is the correct way to use OAuthSwift with the Yelp API? Thank you.</p>

<pre><code> func OAuthVerify(){
    let oauthswift = OAuth1Swift(
        consumerKey: ""#"",
        consumerSecret: ""#"",
        requestTokenUrl: ""???"",
        authorizeUrl:    ""???"",
        accessTokenUrl:  ""???""
    )
    oauthswift.authorizeWithCallbackURL(NSURL(string: ""oauth-swift://oauth-callback/"")!, success: { (credential, response, parameters) -&gt; Void in
        self.grabYelpData(oauthswift,consumerKey: ""RZKQlWV3nqdB-74fZZRQeg"")
        }) { (error) -&gt; Void in
            print(""error"")
    }
}

func grabYelpData(oauthswift: OAuth1Swift, consumerKey: String){
    let url :String = ""https://api.yelp.com/v2/search?""
    let parameters :Dictionary = [
        ""term""           : ""food"",
        //""api_key""        : consumerKey,
        ""location""       : ""San Francisco"",
    ]
    oauthswift.client.get(url, parameters: parameters,
        success: {
            data, response in
            let jsonDict: AnyObject! = try? NSJSONSerialization.JSONObjectWithData(data, options: [])
            print(jsonDict)
        }, failure: { error in
            print(error)
    })
}
</code></pre>
","2016-02-15 06:35:55","","0","<swift><api><oauth-2.0><token><yelp>","1","1"
"Analyzing yelp reviews and assign score","<p>I am looking at assigning a ""risk"" score to restaurants on yelp. It is clear a restaurant with 4000 reviews and 4.5 stars tells users more than a 5 star restaurant with 2 reviews. It might be better to go with the 4.5 star restaurant. </p>

<p>What would be a reasonable statistical approach to this problem? I would like to normalize the data, but this is a key hole problem. I can only analyze one restaurant at a time (api response). </p>
","2017-09-21 12:40:54","","0","<statistics><data-science><review><yelp>","0","1"
"Dynamically replace image source with jQuery","<p>I'm trying to replace the default Yelp star rating image for businesses with one of my own. To do so I need to find the corresponding image source for each of the possible 5 images that could have loaded. And then, based on that I need to load in the proper image I've created.</p>

<pre><code>&lt;div id=""starRating""&gt;
    &lt;img src=""http://yelp-star-1.png""/&gt;
&lt;/div&gt;
</code></pre>

<p>So, yelp-star-1.png would be replaced with my-star-1.png. So on and so forth. This is probably pretty simple, but I'm new to jQuery and everything I've found has not worked properly. Your expertise is very much appreciated!</p>
","2012-06-21 00:24:52","","7","<jquery><replace><image><src><yelp>","3","2"
"Reading Large JSON file in R","<p>I want to read or convert to CSV file a large JSON file (2Gb) in R. I almost tried everything in this blog and others and i couldn't succeed till now.</p>

<p>The JSON file is related to Yelp Round 7 Challenge and you can download through the following link.
<a href=""https://www.yelp.co.uk/dataset_challenge"" rel=""nofollow"">https://www.yelp.co.uk/dataset_challenge</a></p>

<p>I used the normal rjson library and i got the following error:</p>

<pre><code>&gt; library(rjson)
&gt; df &lt;- fromJSON(file = ""yelp_dataset_challenge_academic_dataset.json"")
Error in fromJSON(file = ""yelp_dataset_challenge_academic_dataset.json"") : unexpected character 'D'`
</code></pre>
","2016-02-18 12:27:41","","-1","<json><r><large-files><yelp>","1","1"
"How do I use the Yelp API PHP","<p>I am using trying to use the API from yelp in php, using the sample code, but I cant even seem to get that working. I just want some way to view the json or display what the sample inputs are displaying so I can work from there.Here is the sample code, I just get a server error 500 or  when I try to view the source, a blank page.</p>

<pre><code>  #!/usr/bin/php
 &lt;?php

/**
 * Yelp API v2.0 code sample.
 *
 * This program demonstrates the capability of the Yelp API version   2.0
 * by using the Search API to query for businesses by a search term   and location,
* and the Business API to query additional information about the top result
* from the search query.
 * 
* Please refer to http://www.yelp.com/developers/documentation for the API documentation.
  \*  * This program requires a PHP OAuth2 library, which is included in this branch and can be
 * found here:
 *      http://oauth.googlecode.com/svn/code/php/
 * 
 * Sample usage of the program:
 * `php sample.php --term=""bars"" --location=""San Francisco, CA""`
 */

// Enter the path that the oauth library is in relation to the php  file
require_once('auth.php');

// Set your OAuth credentials here  
// These credentials can be obtained from the 'Manage API Access'     page in the
// developers documentation (http://www.yelp.com/developers)
$CONSUMER_KEY = ""GOTIT"";
$CONSUMER_SECRET = ""GOTIT"";
$TOKEN = ""GOTIT"";
$TOKEN_SECRET = ""GOTIT"";


$API_HOST = 'api.yelp.com';
$DEFAULT_TERM = 'dinner';
$DEFAULT_LOCATION = 'San Francisco, CA';
$SEARCH_LIMIT = 3;
$SEARCH_PATH = '/v2/search/';
$BUSINESS_PATH = '/v2/business/';


/** 
 * Makes a request to the Yelp API and returns the response
 * 
 * @param    $host    The domain host of the API 
 * @param    $path    The path of the APi after the domain
 * @return   The JSON response from the request      
 */

function request($host, $path) {
$unsigned_url = ""https://"" . $host . $path;

// Token object built using the OAuth library
$token = new OAuthToken($GLOBALS['TOKEN'], $GLOBALS['TOKEN_SECRET']);

// Consumer object built using the OAuth library
$consumer = new OAuthConsumer($GLOBALS['CONSUMER_KEY'], $GLOBALS['CONSUMER_SECRET']);

// Yelp uses HMAC SHA1 encoding
$signature_method = new OAuthSignatureMethod_HMAC_SHA1();

$oauthrequest = OAuthRequest::from_consumer_and_token(
    $consumer, 
    $token, 
    'GET', 
    $unsigned_url
);

// Sign the request
$oauthrequest-&gt;sign_request($signature_method, $consumer, $token);

// Get the signed URL
$signed_url = $oauthrequest-&gt;to_url();

// Send Yelp API Call
try {
    $ch = curl_init($signed_url);
    if (FALSE === $ch)
        throw new Exception('Failed to initialize');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HEADER, 0);
    $data = curl_exec($ch);

    if (FALSE === $data)
        throw new Exception(curl_error($ch), curl_errno($ch));
    $http_status = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    if (200 != $http_status)
        throw new Exception($data, $http_status);

    curl_close($ch);
} catch(Exception $e) {
    trigger_error(sprintf(
        'Curl failed with error #%d: %s',
        $e-&gt;getCode(), $e-&gt;getMessage()),
        E_USER_ERROR);
}

   return $data;
}

/**
 * Query the Search API by a search term and location 
 * 
 * @param    $term        The search term passed to the API 
 * @param    $location    The search location passed to the API 
 * @return   The JSON response from the request 
 */
function search($term, $location) {
$url_params = array();

$url_params['term'] = $term ?: $GLOBALS['DEFAULT_TERM'];
$url_params['location'] = $location?: $GLOBALS['DEFAULT_LOCATION'];
$url_params['limit'] = $GLOBALS['SEARCH_LIMIT'];
$search_path = $GLOBALS['SEARCH_PATH'] . ""?"" . http_build_query($url_params);

return request($GLOBALS['API_HOST'], $search_path);
}

/**
 * Query the Business API by business_id
 * 
 * @param    $business_id    The ID of the business to query
 * @return   The JSON response from the request 
 */
function get_business($business_id) {
$business_path = $GLOBALS['BUSINESS_PATH'] . $business_id;

return request($GLOBALS['API_HOST'], $business_path);
    }

/**
 * Queries the API by the input values from the user 
 * 
 * @param    $term        The search term to query
 * @param    $location    The location of the business to query
 */
function query_api($term, $location) {     
$response = json_decode(search($term, $location));
$business_id = $response-&gt;businesses[0]-&gt;id;

print sprintf(
    ""%d businesses found, querying business info for the top result \""%s\""\n\n"",         
    count($response-&gt;businesses),
    $business_id
);

$response = get_business($business_id);

print sprintf(""Result for business \""%s\"" found:\n"", $business_id);
print ""$response\n"";
}

/**
 * User input is handled here 
 */
$longopts  = array(
""term::"",
""location::"",
);

$options = getopt("""", $longopts);

$term = $options['term'] ?: '';
$location = $options['location'] ?: '';

query_api($term, $location);

?&gt;
</code></pre>
","2016-02-28 03:23:14","","0","<php><json><api><yelp>","1","0"
"JSON to CSV converter-YELP Data Set-python","<p>I am interested in data mining and I would like to open and work with yelp's data. Yelp's data is in json format and in it's website it has the following code to convert json to csv. However when I open command line and write the following: </p>

<pre><code>$ python json_to_csv_converter.py yelp_academic_dataset.json 
</code></pre>

<p>I get an error. Can you help me please?</p>

<p>The code is:</p>

<pre><code># -*- coding: utf-8 -*-
""""""Convert the Yelp Dataset Challenge dataset from json format to csv.
For more information on the Yelp Dataset Challenge please visit http://yelp.com/dataset_challenge
""""""
import argparse
import collections
import csv
import simplejson as json


def read_and_write_file(json_file_path, csv_file_path, column_names):
    """"""Read in the json dataset file and write it out to a csv file, given the column names.""""""
    with open(csv_file_path, 'wb+') as fout:
        csv_file = csv.writer(fout)
        csv_file.writerow(list(column_names))
        with open(json_file_path) as fin:
            for line in fin:
                line_contents = json.loads(line)
                csv_file.writerow(get_row(line_contents, column_names))

def get_superset_of_column_names_from_file(json_file_path):
    """"""Read in the json dataset file and return the superset of column names.""""""
    column_names = set()
    with open(json_file_path) as fin:
        for line in fin:
            line_contents = json.loads(line)
            column_names.update(
                    set(get_column_names(line_contents).keys())
                    )
    return column_names

def get_column_names(line_contents, parent_key=''):
    """"""Return a list of flattened key names given a dict.
    Example:
        line_contents = {
            'a': {
                'b': 2,
                'c': 3,
                },
        }
        will return: ['a.b', 'a.c']
    These will be the column names for the eventual csv file.
    """"""
    column_names = []
    for k, v in line_contents.iteritems():
        column_name = ""{0}.{1}"".format(parent_key, k) if parent_key else k
        if isinstance(v, collections.MutableMapping):
            column_names.extend(
                    get_column_names(v, column_name).items()
                    )
        else:
            column_names.append((column_name, v))
    return dict(column_names)

def get_nested_value(d, key):
    """"""Return a dictionary item given a dictionary `d` and a flattened key from `get_column_names`.

    Example:
        d = {
            'a': {
                'b': 2,
                'c': 3,
                },
        }
        key = 'a.b'
        will return: 2

    """"""
    if '.' not in key:
        if key not in d:
            return None
        return d[key]
    base_key, sub_key = key.split('.', 1)
    if base_key not in d:
        return None
    sub_dict = d[base_key]
    return get_nested_value(sub_dict, sub_key)

def get_row(line_contents, column_names):
    """"""Return a csv compatible row given column names and a dict.""""""
    row = []
    for column_name in column_names:
        line_value = get_nested_value(
                        line_contents,
                        column_name,
                        )
        if isinstance(line_value, unicode):
            row.append('{0}'.format(line_value.encode('utf-8')))
        elif line_value is not None:
            row.append('{0}'.format(line_value))
        else:
            row.append('')
    return row

if __name__ == '__main__':
    """"""Convert a yelp dataset file from json to csv.""""""

    parser = argparse.ArgumentParser(
            description='Convert Yelp Dataset Challenge data from JSON format to CSV.',
            )

    parser.add_argument(
            'json_file',
            type=str,
            help='The json file to convert.',
            )

    args = parser.parse_args()

    json_file = args.json_file
    csv_file = '{0}.csv'.format(json_file.split('.json')[0])

    column_names = get_superset_of_column_names_from_file(json_file)
    read_and_write_file(json_file, csv_file, column_names)
</code></pre>

<p>Error I am getting in the command line:</p>

<pre><code>Traceback (most recent call last):
File ""json_to_csv_converter.py"", line 122, in column_names=get_superset_of_column_names_from_file
File ""json_to_csv_converter.py"", line 25, in get_superset_of_column_names_from_file
for line in fin:
File ""C:\Users\Bengi\Appdata\Local\Programs\Python\Python35-32\lib\encodings\cp1252.py"" line 23, in decode
return codecs.charmap_decode(input, self_errors,decoding_table)[0]
Unicode Decode Error: 'charmap' codec cant decode byte 0X9d in position 1102: character maps to
</code></pre>
","2016-02-28 11:02:01","","1","<python><json><csv><yelp>","3","1"
"Yelp Fusion POST Request","<p>I'm trying to get my access token for using the Yelp Fusion API.  I've tried to make the following POST request below but keep getting a 404 Error.  This is my first time trying to make a POST request so I'm not sure if I am doing it right.</p>

<p>I've attached the instructions from YELP here:  <a href=""https://www.yelp.com/developers/documentation/v3/authentication"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/authentication</a></p>

<p>Thanks in advance.</p>

<pre><code>public static final String YELPURL = ""https://api.yelp.com/oauth/token"";
public static void main(String[] args) {
    try {
        URL obj = new URL(YELPURL);
        HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();
        con.setRequestMethod(""POST"");
        con.setRequestProperty(""grant_type"", ""client_credentials"");
        con.setRequestProperty(""client_id"", CLIENTID);
        con.setRequestProperty(""client_secret"", CLIENTSECRET);
        con.setDoOutput(true);
        int responseCode = con.getResponseCode();
        System.out.println(""Response Code: "" + responseCode);   
    } catch (Exception e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

}
</code></pre>
","2017-06-18 06:44:07","","0","<java><http><yelp>","1","0"
"Handling POST Responses","<p>I'm currently playing around with the Yelp Fusion API to retrieve business information.  So far I've been able to get the responses to my POST requests but can only get the whole JSON like output.  Is there any method that will allow me to filter my results?  So just to retrieve a specific key, and value in the JSON output.  My code so far is shown below:</p>

<pre><code>try {
        String req = ""https://api.yelp.com/v3/businesses/search?"";
        req += ""term="" + term + ""&amp;location="" + location;
        if(category != null) {
            req += ""&amp;category="" + category;
        }
        URL url = new URL(req);
        HttpsURLConnection con = (HttpsURLConnection) url.openConnection();
        con.setRequestMethod(""GET"");
        con.setRequestProperty(""Authorization"", ""Bearer "" + ACCESSTOKEN);

        BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));
        StringBuffer buffer = new StringBuffer();

        String inputLine = reader.readLine();
        buffer.append(inputLine);
        System.out.println(buffer.toString());


        reader.close();

    } catch (Exception e) {
        System.out.println(""Error Connecting"");
    }
</code></pre>

<p>Thanks</p>
","2017-06-18 22:30:28","","0","<java><json><yelp>","1","0"
"Can't get Yelp API working with client side code?","<p>I'm creating a React app with Firebase for basic backend functionality.</p>

<p>I'm trying to use the Yelp API but am always getting a MISSING_PARAMETER and CORS errors.</p>

<p>Here is my code:</p>

<pre><code>import OAuth from 'oauth-1.0a';

const oauth = OAuth({
  consumer: {
    public: 'public',
    secret: 'secret'
  },
  signature_method: 'HMAC-SHA1'
});

const url = ""https://api.yelp.com/v2/"";

const token = {
  public: 'public',
  secret: 'secret'
};

class YelpWrapper {
  static prepareSearch(term, category) {
    const requestData = {
        url: url + ""search/?term="" + term + ""&amp;category_filter="" + category + encodeURIComponent(""&amp;location=Los Angeles, CA""),
        method: ""POST""
    };
    return {
      requestData: requestData,
      headers: oauth.toHeader(oauth.authorize(requestData, token))
    };
  }
}

export default YelpWrapper;
</code></pre>

<p>and this is called in </p>

<pre><code>static addMemory(memory) {
    const { id, category, text, name } = memory;
    newMemoryRef(id).set(memory);

    const search = YelpWrapper.prepareSearch(name, category);
    const { url, method } = search.requestData;
    const { headers } = search;

    request({
      url: url,
      method: method,
      headers: headers
    }, (error, response, body) =&gt; {
      console.log(error);
      console.log(response);
      console.log(body);
    });
  }
</code></pre>

<p>Here is the missing parameter error I'm getting</p>

<pre><code>{""error"": {""text"": ""One or more parameters are missing in request"", ""id"": ""MISSING_PARAMETER"", ""field"": ""oauth_consumer_key""}}
</code></pre>

<p>Although when I print the <code>headers</code> I can see all the required headers defined in there, for some reason they don't appear in the Request Headers of Chrome Dev Tools. I think that's the reason, but I can't figure out why that is.</p>
","2016-03-10 07:05:29","","3","<javascript><reactjs><yelp>","0","2"
"Does Yelp ""expose"" business reviews via consumable feed?","<p>Does Yelp expose reviews for a given business (via an RSS feed or some other format)? I’d love to pull this content into a “testimonials” area of a website I maintain for a local business. </p>

<p>Would love to have URL to user image, short lead-in to review, rating, date of review, and URL to full review.</p>
","2013-10-26 19:08:38","19610765","0","<yelp>","1","1"
"Response for reflight has invalid HTTP status code 500","<p>I am trying to make a simple ajax call to the Yelp Fusion API. I used the client_id and client_secret provided by Yelp to make a 'POST' call in Postman and receive an access token according to Yelp API documentation. This access token can be used to authenticate api calls. After getting the access token, I used Postman to make the 'GET' call to the /business/search endpoint and get relevant business information. The following image displays the appropriate headers and parameters needed to make the call:</p>

<p><a href=""https://i.stack.imgur.com/AtPLS.png"" rel=""nofollow noreferrer"">Postman Headers, Parameters, and Response</a></p>

<p>After hitting 'SEND' in Postman, the JSON response code is displayed in Postman (bottom of previous image) which is the result I am looking for. Postman also has a feature to generate the code needed to make the call, and I inserted their generated ajax request into my program:</p>

<pre><code>var settings = {
    ""async"": true,
    ""crossDomain"": true,
    ""url"": ""https://api.yelp.com/v3/businesses/search?term=delis&amp;latitude=37.786882&amp;longitude=-122.399972"",
    ""method"": ""GET"",
    ""headers"": {
        ""authorization"": ""Bearer 0P*****************x"",
        ""cache-control"": ""no-cache"",
        ""postman-token"": ""30*************7""
    },
    ""data"": {
        ""grant_type"": ""client_credientials"",
        ""client_secret"": ""tp***************m"",
        ""client_id"": ""RO**********w""
    }
}

$.ajax(settings).done(function (response) {
   console.log(response);
});
</code></pre>

<p>For now, when a submit button is clicked on my page, I want to display the response in the console. However, while Postman seems to be able to make the ajax call correctly and receives the correct response, Google chrome browser displays the following error: <a href=""https://i.stack.imgur.com/04cNe.png"" rel=""nofollow noreferrer""><strong>Response for preflight has invalid HTTP status code 500</strong></a>. To my understanding, the first error occurs in the preflight request when an HTTP request is made by the OPTIONS method to the resource to determine if the actual request is safe to send. However, I am stumped as to how Postman can make the call without any problems but Google Chrome can't. Any help is appreciated. </p>
","2017-06-30 07:31:20","","0","<javascript><jquery><html><ajax><yelp>","1","0"
"How are the data structures which are created for making searches fast in a system design actually stored?","<p>Suppose I am designing a system for restaurant recommendations like Yelp. Some of the basic things I need to implement would be like:</p>

<ol>
<li>Users should be able to add/delete/update Places.</li>
<li>Given their location (longitude/latitude), users should be able to find all nearby places within a given radius.</li>
<li>Users should be able to add feedback/review about a place. The feedback can have pictures, text, and a rating.</li>
</ol>

<p>From the storage perspective, I decide to have fields like LocationId for each place, Latitude, Longitude, Name, Description and Rating. Assuming around 8 bytes for each LocationId and Latitudes and Longitudes, if I design the system for 500 million locations, I come up with ~ 500 x 10^6 MB of storage requirement. So far, so good.</p>

<p>For getting the location query result faster, I decide to use Quadtree as shown in the image consisting of grids, where each grid consists of 500 locations. If a grid exceeds 500 locations, it is split to form another grid, with max grids at each level to be 4. Lets say I have created the Quadtree as well. I am not sure that after creating the Quatree, <strong>where</strong> and <strong>how</strong> are we storing this tree?</p>

<p><a href=""https://i.stack.imgur.com/cCfxE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/cCfxE.png"" alt=""QuadTree created for storing data for Yelp type of system design""></a></p>

<p>One possible way that I could think of is that I would serialize the Quadtree and on some similar lines like we serialize an n-ary tree and store it in a text file. Considering that I keep LocationId, Longitude and Latitude details in the nodes of my tree, I would need to store 24kb of data for every location if each field is of 8 bytes. For 500 such location, the total memory requirement for my tree would be ~24 * 500M = 12 GB. Whenever my machine restart, I would just de-serialize the stored tree and perform query operations as requested by server. </p>

<p>One problem I see with this approach is that I would need to update my file every time after some regular intervals in order to keep the latest information about locations.</p>

<p>Can anyone suggest in what other ways can store the QuadTree and where will I store it? I believe there are much better ways to store the QuadTree as I suggested above.</p>
","2017-07-16 05:34:01","45130114","0","<yelp><quadtree><system-design>","1","0"
"Prevent URLS in UIWebView from opening Yelp (or other) Apps","<p>I am loading a yelp URL into a UIWebView and want to display the mobile website instead of automatically opening Yelp App.  Behavior is as expected in my simulator, but goes to yelp on my phone since I have the yelp app installed.</p>

<p>Below is my code to load the URL:</p>

<pre><code>NSString *fullURL = @""http://yelp.com/search?find_desc=coffee&amp;find_loc=union+square"";
NSURL *url = [NSURL URLWithString:fullURL];
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];
[_yelpView loadRequest:requestObj];
</code></pre>
","2015-05-21 19:48:37","","1","<ios><objective-c><uiwebview><yelp>","1","2"
"Laravel Yelp Api Object to Json","<p>I am trying to get some data from the Yelp Api and Laravel 5.
This is my result. I have no idea how to convert it to a valid json format?</p>

<p>I am using this php client to consume the yelp api <a href=""https://github.com/stevenmaguire/yelp-php"" rel=""nofollow"">https://github.com/stevenmaguire/yelp-php</a></p>

<pre><code>    {
    region: {
    span: {
    latitude_delta: 0.029259999999994,
    longitude_delta: 0.047640999999999
    },
    center: {
    latitude: 49.1328,
    longitude: 9.212475
    }
    },
    total: 113,
    businesses: [
    {
    is_claimed: false,
    rating: 3.5,
    mobile_url: ""http://m.yelp.com/biz/vapiano-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    rating_img_url: ""https://s3-media1.fl.yelpcdn.com/assets/2/www/img/5ef3eb3cb162/ico/stars/v1/stars_3_half.png"",
    review_count: 33,
    name: ""Vapiano"",
    rating_img_url_small: ""https://s3-media1.fl.yelpcdn.com/assets/2/www/img/2e909d5d3536/ico/stars/v1/stars_small_3_half.png"",
    url: ""http://www.yelp.com/biz/vapiano-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    categories: [
    [
    ""Italian"",
    ""italian""
    ]
    ],
    phone: ""+4971319199950"",
    snippet_text: ""Same same - not different. :) What do you expect from a Vapiano? That it tastes like a Vapiano! Here everything was fine, fresh and good. If you want a..."",
    image_url: ""https://s3-media1.fl.yelpcdn.com/bphoto/Cik80f2i1E_FfhIC7ZX9XQ/ms.jpg"",
    snippet_image_url: ""http://s3-media3.fl.yelpcdn.com/photo/HHcNqfQbtSeBmTEoKAujhA/ms.jpg"",
    display_phone: ""+49 7131 9199950"",
    rating_img_url_large: ""https://s3-media3.fl.yelpcdn.com/assets/2/www/img/bd9b7a815d1b/ico/stars/v1/stars_large_3_half.png"",
    id: ""vapiano-heilbronn"",
    is_closed: false,
    location: {
    city: ""Heilbronn"",
    display_address: [
    ""Kaiserstr. 27"",
    ""74072 Heilbronn"",
    ""Germany""
    ],
    geo_accuracy: 8,
    postal_code: ""74072"",
    country_code: ""DE"",
    address: [
    ""Kaiserstr. 27""
    ],
    coordinate: {
    latitude: 49.141868,
    longitude: 9.220792
    },
    state_code: ""BW""
    }
    },
    {
    is_claimed: false,
    rating: 4.5,
    mobile_url: ""http://m.yelp.com/biz/piccolo-mondo-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    rating_img_url: ""https://s3-media2.fl.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"",
    review_count: 12,
    name: ""Piccolo Mondo"",
    rating_img_url_small: ""https://s3-media2.fl.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png"",
    url: ""http://www.yelp.com/biz/piccolo-mondo-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    categories: [
    [
    ""Italian"",
    ""italian""
    ]
    ],
    phone: ""+497131251133"",
    image_url: ""https://s3-media3.fl.yelpcdn.com/bphoto/knoT3BTaCnnx6jsO_KaN5Q/ms.jpg"",
    location: {
    city: ""Heilbronn"",
    display_address: [
    ""Hauptstr. 9"",
    ""74081 Heilbronn"",
    ""Germany""
    ],
    geo_accuracy: 9.5,
    postal_code: ""74081"",
    country_code: ""DE"",
    address: [
    ""Hauptstr. 9""
    ],
    coordinate: {
    latitude: 49.1195,
    longitude: 9.19082
    },
    state_code: ""BW""
    },
    display_phone: ""+49 7131 251133"",
    rating_img_url_large: ""https://s3-media4.fl.yelpcdn.com/assets/2/www/img/9f83790ff7f6/ico/stars/v1/stars_large_4_half.png"",
    id: ""piccolo-mondo-heilbronn"",
    is_closed: false
    },
    {
    is_claimed: false,
    rating: 4.5,
    mobile_url: ""http://m.yelp.com/biz/san-remo-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    rating_img_url: ""https://s3-media2.fl.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"",
    review_count: 16,
    name: ""San Remo"",
    rating_img_url_small: ""https://s3-media2.fl.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png"",
    url: ""http://www.yelp.com/biz/san-remo-heilbronn?utm_campaign=yelp_api&amp;utm_medium=api_v2_search&amp;utm_source=80qGlvEI1gpPmfAxhHEKuQ"",
    categories: [
    [
    ""Pizza"",
    ""pizza""
    ],
    [
    ""Italian"",
    ""italian""
    ]
    ],
    phone: ""+497131176519"",
    image_url: ""https://s3-media2.fl.yelpcdn.com/bphoto/gI0n6APM2_lRnUWiIiSqxg/ms.jpg"",
    location: {
    city: ""Heilbronn"",
    display_address: [
    ""Weinsberger Str. 90"",
    ""74076 Heilbronn"",
    ""Germany""
    ],
    geo_accuracy: 9.5,
    postal_code: ""74076"",
    country_code: ""DE"",
    address: [
    ""Weinsberger Str. 90""
    ],
    coordinate: {
    latitude: 49.1461,
    longitude: 9.23413
    },
    state_code: ""BW""
    },
    display_phone: ""+49 7131 176519"",
    rating_img_url_large: ""https://s3-media4.fl.yelpcdn.com/assets/2/www/img/9f83790ff7f6/ico/stars/v1/stars_large_4_half.png"",
    id: ""san-remo-heilbronn"",
    is_closed: false
    }
    ]
    }
</code></pre>
","2016-08-06 11:59:41","","0","<php><json><laravel><yelp>","1","0"
"Yelp API search working in Android debug version but not in release version","<p>My Android app uses the Yelp search API. When I install the debug version on my phone, it works fine, but when I build the signed release version, the yelp api calls refuse to cooperate. In the actual app, when I click the foodButton, studyButton, or otherButton, the search function gets called, but it definitely does not reach completion. My assumption is that the </p>

<pre><code>while(!searchDone); 
</code></pre>

<p>is the culprit, but I have no clue why. </p>

<pre><code>public class SexyMapFragment extends FragmentActivity implements GoogleMap.OnInfoWindowLongClickListener,GoogleMap.OnInfoWindowClickListener, OnMapReadyCallback {
    public static boolean backButton = false;
    OnMapReadyCallback mapListener = this;
    ArrayList&lt;Business&gt; businesses = new ArrayList&lt;Business&gt;();
    ArrayList&lt;String&gt; businessNames = new ArrayList&lt;String&gt;();
    ArrayList&lt;String&gt; textPhones = new ArrayList&lt;String&gt;();
    YelpAPIFactory apiFactory = new YelpAPIFactory(""######"", ""######"", ""#####"", ""#####"");
    YelpAPI yelpAPI = apiFactory.createAPI();
    String curTerm = """";
    boolean searchDone = false;
    double topY;
    double bottomY;
    double leftX;
    double rightX;
    boolean dismissButton = false;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_sexy_map);
        MobileAds.initialize(getApplicationContext(), ""########"");
        AdView mAdView = (AdView) findViewById(R.id.adMap);
        AdRequest adRequest = new AdRequest.Builder().build();
        mAdView.loadAd(adRequest);
        leftX = Integer.MAX_VALUE;
        rightX = Integer.MIN_VALUE;
        topY = Integer.MIN_VALUE;
        bottomY = Integer.MAX_VALUE;
        for (String name : MainActivity.checked) {
            int index = in(MainActivity.friends,name);
            LatLng ltlng = MainActivity.latlongs.get(index);
            if (ltlng.latitude &gt; topY) {
                topY = ltlng.latitude;
            }
            if (ltlng.latitude &lt; bottomY) {
                bottomY = ltlng.latitude;
            }
            if (ltlng.longitude &lt; leftX) {
                leftX = ltlng.longitude;
            }
            if (ltlng.longitude &gt; rightX) {
                rightX = ltlng.longitude;
            }
        }
        MainActivity.midLat = (topY + bottomY) / 2.0;
        MainActivity.midLong = (leftX + rightX) / 2.0;
        // Inflate the layout for this fragment
        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);
        mapFragment.getMapAsync(this);
        findViewById(R.id.backMapButton).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                backButton = true;
                MainActivity.friends.clear();
                MainActivity.userPhones.clear();
                MainActivity.checked.clear();
                MainActivity.latlongs.clear();
                MainActivity.newUsers.clear();
                MainActivity.pending.clear();
                MainActivity.newUsers.clear();
                startActivity(new Intent(getApplicationContext(),MainActivity.class));
            }
        });
        findViewById(R.id.foodButton).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                curTerm = ""food"";
                SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);
                mapFragment.getMapAsync(mapListener);
            }
        });
        findViewById(R.id.studyButton).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                curTerm = ""study"";
                SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);
                mapFragment.getMapAsync(mapListener);
            }
        });
        findViewById(R.id.otherButton).setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                findViewById(R.id.sexyMapLayout).setBackgroundColor(Color.rgb(60, 60, 60));
                findViewById(R.id.backMapButton).setAlpha(.1f);
                findViewById(R.id.backMapButton).setClickable(false);
                findViewById(R.id.foodButton).setAlpha(.1f);
                findViewById(R.id.foodButton).setClickable(false);
                findViewById(R.id.studyButton).setAlpha(.1f);
                findViewById(R.id.studyButton).setClickable(false);
                findViewById(R.id.otherButton).setAlpha(.1f);
                findViewById(R.id.otherButton).setClickable(false);
                LayoutInflater layoutInflater = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                final View tempView = layoutInflater.inflate(R.layout.search_map_popup, null);
                final PopupWindow window = new PopupWindow(tempView, ViewGroup.LayoutParams.WRAP_CONTENT, ViewGroup.LayoutParams.WRAP_CONTENT, true);
                window.setFocusable(true);
                window.setOnDismissListener(new PopupWindow.OnDismissListener() {
                    @Override
                    public void onDismiss() {
                        if (!dismissButton) {
                            window.setFocusable(true);
                            window.showAtLocation(tempView, Gravity.CENTER, 0, 0);
                        }
                        dismissButton = false;
                    }
                });
                window.showAtLocation(tempView, Gravity.CENTER, 0, 0);
                tempView.findViewById(R.id.popupCancelSearch).setOnClickListener(new View.OnClickListener() {
                    @Override
                    public void onClick(View view) {
                        findViewById(R.id.sexyMapLayout).setBackgroundColor(Color.rgb(255, 255, 255));
                        findViewById(R.id.backMapButton).setAlpha(1f);
                        findViewById(R.id.backMapButton).setClickable(true);
                        findViewById(R.id.foodButton).setAlpha(1f);
                        findViewById(R.id.foodButton).setClickable(true);
                        findViewById(R.id.studyButton).setAlpha(1f);
                        findViewById(R.id.studyButton).setClickable(true);
                        findViewById(R.id.otherButton).setAlpha(1f);
                        findViewById(R.id.otherButton).setClickable(true);
                        dismissButton = true;
                        window.dismiss();
                    }
                });
                tempView.findViewById(R.id.popupDoSearch).setOnClickListener(new View.OnClickListener() {
                    @Override
                    public void onClick(View view) {
                        curTerm = ((EditText)tempView.findViewById(R.id.popupSearchTerm)).getText().toString();
                        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);
                        mapFragment.getMapAsync(mapListener);
                        findViewById(R.id.sexyMapLayout).setBackgroundColor(Color.rgb(255, 255, 255));
                        findViewById(R.id.backMapButton).setAlpha(1f);
                        findViewById(R.id.backMapButton).setClickable(true);
                        findViewById(R.id.foodButton).setAlpha(1f);
                        findViewById(R.id.foodButton).setClickable(true);
                        findViewById(R.id.studyButton).setAlpha(1f);
                        findViewById(R.id.studyButton).setClickable(true);
                        findViewById(R.id.otherButton).setAlpha(1f);
                        findViewById(R.id.otherButton).setClickable(true);
                        dismissButton = true;
                        window.dismiss();
                    }
                });
            }
        });
    }


    @Override
    public void onMapReady(GoogleMap googleMap) {
        googleMap.clear();
        googleMap.setOnInfoWindowClickListener(this);
        for(String name : MainActivity.checked) {
            int index = in(MainActivity.friends,name);
            String curPhone = MainActivity.userPhones.get(index);
            textPhones.add(curPhone);
            googleMap.addMarker(new MarkerOptions().position(MainActivity.latlongs.get(index)).title(name).snippet(curPhone));
        }
        googleMap.addMarker(new MarkerOptions().position(new LatLng(MainActivity.midLat, MainActivity.midLong)).title(""MIDPOINT"").icon(BitmapDescriptorFactory.fromBitmap(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher))));
        if(!curTerm.equals("""")) {
            businesses.clear();
            search(curTerm);
            while (!searchDone) ;
            searchDone = false;
            for (Business business : businesses) {
                googleMap.addMarker(new MarkerOptions().position(new LatLng(business.location().coordinate().latitude(), business.location().coordinate().longitude())).title(business.name()).snippet(getAddressFromName(business.name())).icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_YELLOW)));
            }
        }
        googleMap.moveCamera(CameraUpdateFactory.newLatLngBounds(new LatLngBounds(new LatLng(bottomY,leftX),new LatLng(topY,rightX)),0));
        googleMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() {
            @Override
            public View getInfoWindow(Marker arg0) {
                return null;
            }
            @Override
            public View getInfoContents(Marker marker) {
                View myContentView = null;
                if(in(businessNames,marker.getTitle())!=-1) {
                    myContentView = getLayoutInflater().inflate(
                        R.layout.info_item, null);
                    TextView tvTitle = ((TextView) myContentView
                        .findViewById(R.id.bizNameText));
                    TextView tvSnippet = ((TextView) myContentView
                        .findViewById(R.id.snippetText));
                    tvTitle.setText(marker.getTitle());
                    tvSnippet.setText(marker.getSnippet());
                }
                else  {
                    myContentView = getLayoutInflater().inflate(R.layout.classic_item,null);
                    ((TextView)myContentView.findViewById(R.id.markerTitleWin)).setText(marker.getTitle());
                    ((TextView)myContentView.findViewById(R.id.markerSnippetWin)).setText(marker.getSnippet());
                }
                return myContentView;
            }
        });
        googleMap.setOnInfoWindowLongClickListener(this);
    }

    public void search(final String term) {
        new Thread() {
            public void run() {
                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();
                params.put(""term"",term);
                params.put(""limit"", ""10"");
                CoordinateOptions coordinate = CoordinateOptions.builder().latitude(MainActivity.midLat).longitude(MainActivity.midLong).build();
                Call&lt;SearchResponse&gt; call = yelpAPI.search(coordinate, params);
                Response&lt;SearchResponse&gt; response = null;
                try {
                    response = call.execute();
                } catch (IOException e) {
                    e.printStackTrace();
                }
                if(response==null) {
                    runOnUiThread(new Runnable() {
                        @Override
                        public void run() {
                            Toast.makeText(getApplicationContext(),""Nothing within 25 miles! Is your midpoint in the middle of the ocean?"",Toast.LENGTH_LONG).show();
                        }
                    });
                    searchDone = true;
                    return;
                }
                ArrayList&lt;Business&gt; myBusinesses = response.body().businesses();
                businessNames = new ArrayList&lt;String&gt;();
                for(Business business : myBusinesses) {
                    businesses.add(business);
                    businessNames.add(business.name());
                }
                searchDone=true;
            }
        }.start();
    }
    public int in(ArrayList&lt;String&gt; arr, String check) {
        for(int i = 0; i &lt; arr.size(); i++) {
            if(arr.get(i).equals(check)) {
                return i;
            }
        }
        return -1;
    }
}
</code></pre>

<p>I sincerely apologize for sloppy code. This all had to be done really fast, so the quality is not quite stackoverflow-tier, but I hope someone can help.</p>
","2016-08-07 06:14:11","","0","<java><android><google-maps><yelp>","1","0"
"How to implement Yelp Api inside onPerformSync","<p>Could you guys give me a little push here. I'm stuck trying to run the yelp api inside the onPerformSyn.
How can I possible do this.? I'm getting the error below. ""No empty constructor""
I'm using this <a href=""https://thysmichels.com/2011/12/30/yelp-api-example/#comment-18031"" rel=""nofollow"">post</a> to try to create the constructor but it doesn't work for me. <br>
Please help is appreciated. <br><br>
<strong>Note</strong>: After the Yelp response I'll be storing the data into SQLite (Scheme Library) so that is not the end of the code.</p>

<pre><code>public class SyncAdapter extends AbstractThreadedSyncAdapter{
    public final String LOG_TAG = SyncAdapter.class.getSimpleName();
    public static final int SYNC_INTERVAL = 4;//60 * 180;
    public static final int SYNC_FLEXTIME = SYNC_INTERVAL/3;
    private static final long DAY_IN_MILLIS = 1000;//1000 * 60 * 60 * 24;
    private static final int WEATHER_NOTIFICATION_ID = 3004;

    private GoogleApiClient mGoogleApiClient;
    private YelpAPI yelpAPI;
    private Location mLastLocation;

    public SyncAdapter(Context context, boolean autoInitialize) {
        super(context, autoInitialize);

//        YelpAPIFactory apiFactory = new YelpAPIFactory(BuildConfig.YELP_CONSUMER_KEY, BuildConfig.YELP_CONSUMER_SECRET, BuildConfig.YELP_TOKEN, BuildConfig.YELP_TOKEN_SECRET);
//        yelpAPI = apiFactory.createAPI();
    }


    @Override
    public void onPerformSync(Account account, Bundle extras, String authority, ContentProviderClient provider, SyncResult syncResult) {


        class YelpApi2 extends DefaultApi10a {

            @Override
            public String getAccessTokenEndpoint() {
                return null;
            }

            @Override
            public String getAuthorizationUrl(Token arg0) {
                return null;
            }

            @Override
            public String getRequestTokenEndpoint() {
                return null;
            }

        }

        class Yelp {
            OAuthService service;
            Token accessToken;
            public Yelp(String consumerKey, String consumerSecret,     String token, String tokenSecret) {
                this.service = new    ServiceBuilder().provider(YelpApi2.class).apiKey(consumerKey).apiSecret(consumerSecret).build();
                this.accessToken = new Token(token, tokenSecret);
            }

            public String search(String term, double latitude, double longitude) {
                OAuthRequest request = new OAuthRequest(Verb.GET, ""http://api.yelp.com/v2/search"");
                request.addQuerystringParameter(""term"", term);
                request.addQuerystringParameter(""ll"", latitude + "","" + longitude);
                this.service.signRequest(this.accessToken, request);
                Response response = request.send();
                return response.getBody();
            }

        }



            Yelp yelp = new Yelp(BuildConfig.YELP_CONSUMER_KEY, BuildConfig.YELP_CONSUMER_SECRET, BuildConfig.YELP_TOKEN, BuildConfig.YELP_TOKEN_SECRET);
            String response = yelp.search(""church"", 30.361471, -87.164326);

            System.out.println(response);
            }
</code></pre>

<p>I followed this <a href=""https://thysmichels.com/2011/12/30/yelp-api-example/#comment-18031"" rel=""nofollow"">tut</a>,
but I didn't do the .jar part, i couldn't import it, instead I used this line in the gradle.</p>

<pre><code>        compile 'com.yelp.clientlib:yelp-android:2.0.0'

Error I'm getting
=========================================

    FATAL EXCEPTION: SyncAdapterThread-1
    Process: mem.edu.joshua, PID: 14149
    org.scribe.exceptions.OAuthException: Error while creating the Api object
    at org.scribe.builder.ServiceBuilder.createApi(ServiceBuilder.java:59)
    at org.scribe.builder.ServiceBuilder.provider(ServiceBuilder.java:45)
    at mem.edu.joshua.sync.SyncAdapter$1Yelp.&lt;init&gt;(SyncAdapter.java:99)
    at mem.edu.joshua.sync.SyncAdapter.onPerformSync(SyncAdapter.java:116)
    at android.content.AbstractThreadedSyncAdapter$SyncThread.run(AbstractThreadedSyncAdapter.java:259)

    Caused by: java.lang.InstantiationException: can't instantiate class mem.edu.joshua.sync.SyncAdapter$1YelpApi2; no empty constructor
    at java.lang.Class.newInstanceImpl(Native Method)
    at java.lang.Class.newInstance(Class.java:1208)


  [1]: http://stackoverflow.com/questions/11859403/no-empty-constructor-when-create-a-service
  [2]: https://thysmichels.com/2011/12/30/yelp-api-example/#comment-18031
</code></pre>
","2016-08-08 22:11:14","38883157","1","<java><android><android-syncadapter><yelp>","1","8"
"iOS - Help using the Yelp API","<p>I'm trying to create a ""More info on Yelp"" type button in my app. Here's the documentation I've been following -> <a href=""https://www.yelp.com/developers/documentation/v2/iphone"" rel=""nofollow"">Yelp API</a></p>

<p>The problem I'm having is with their example.</p>

<pre><code>if ([self isYelpInstalled]) {
    // Call into the Yelp app
    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@""yelp5.3:///biz/the-sentinel-san-francisco""]];
 } else {
    // Use the Yelp touch site
    [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@""http://yelp.com/biz/the-sentinel-san-francisco""]];
}
</code></pre>

<p>This opens the Yelp app on my device but it doesn't search for anything. However, the website version works and takes me to the correct business. Is their API wrong or am I doing something wrong? Thanks!</p>
","2015-06-01 00:28:39","","0","<ios><api><yelp>","0","5"
"How to receive GPS Location and inflate Fragment MapView to programmatically add markers with SyncAdapter","<p>Well, after reading many examples and many posts in this site I have solved some problems and finally I managed to have the fragment responding and my syncAdapter working. But after all these days trying many things <strong>I can't yet see the map</strong>. All I have is a blank screen. I've tried a few things but it is not working for me.
I'm hitting the wall with this and I need to keep moving with my project.<br> Could someone guide me how to make this work. I'd really appreciate it.
I'd just please ask you to notice all the elements I have because I've been going in circles, when I tried to change something the other stuff that was working fine breaks.<br><br>
<strong>This app has</strong> as you see below: A <strong>Location</strong> request (Main Activity) which syncs on Change and returns GPS Lat and Lon. After that it brings the <strong>Fragment</strong> and once there I first <strong>Sync</strong> the data using the GPS lat and lon sending these to be stored in the database with <strong>Schematic</strong> <strong>Library</strong>. The syncAdapter uses the GPS lat and lon to pass to Yelp which does (as far as I understand) Async calls.<br><br>
<strong>fyi, I used posts like this <a href=""https://stackoverflow.com/questions/13681660/android-render-google-map-inside-a-fragment"">one</a> but it doesn't work for me.</strong></p>

<p><strong>I'm being careful</strong> when I import android.support.v4.app.xxxx or simple import android.app.xxx because it messes up something else. The way is running right now nothing breaks but I just can't see the map yet.</p>

<p><strong>What I've tried:</strong><br>
(With results like, duplicated id, Nullpointer)
Few posts say to use getChildFragmentManager, to use onDestroyView, to use class SupportMapFragment but nothing works.<br>
Here those posts: <a href=""https://stackoverflow.com/questions/27425547/cannot-resolve-method-getsupportfragmentmanager-inside-fragment"">one</a>, <a href=""https://stackoverflow.com/questions/36832035/nullpointerexception-at-mapfragment-getmapasync"">two</a>, <a href=""https://stackoverflow.com/questions/14124354/android-supportmapfragment-with-googlemaps-api-2-0-giving-illegalargumentexcep"">three</a>, <a href=""https://stackoverflow.com/questions/1714297/android-view-setidint-id-programmatically-how-to-avoid-id-conflicts"">four</a></p>

<p>After reading those posts I tweaked the code as below with error ""NullPointerException in the SupportMapFragment"". I tried also plain MapFragment but nothing.</p>

<p><br>
I won't be able to thank you enough for this. <br>Cheers<br><br><br>
<strong>Tweaked like this:</strong>(had to change the minSdkVersion to 17 for this part)</p>

<p><br>
<strong>in Fragment</strong></p>

<pre><code> @Override
    public void onDestroyView()
    {
        super.onDestroyView();
        Fragment fragment = (getActivity().getSupportFragmentManager().findFragmentById(R.id.thismap));
        FragmentTransaction ft = getActivity().getSupportFragmentManager().beginTransaction();
        ft.remove(fragment);
        ft.commit();
    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        //getLoaderManager().initLoader(CURSOR_LOADER_ID, null, this);


                SupportMapFragment mapFragment = (SupportMapFragment) this.getChildFragmentManager()
                .findFragmentById(R.id.thismap);
        mapFragment.getMapAsync(this);
return null;
}
</code></pre>

<p><strong>Tried this for yelp_google_map.xml</strong> (fragment alone, nothing else)</p>

<pre><code>&lt;fragment android:id=""@+id/thismap""
          android:name=""com.google.android.gms.maps.SupportMapFragment""
          xmlns:android=""http://schemas.android.com/apk/res/android""
          xmlns:map=""http://schemas.android.com/apk/res-auto""
          xmlns:tools=""http://schemas.android.com/tools""
          android:layout_width=""match_parent""
          android:layout_height=""match_parent""
          tools:context=""mem.edu.joshua.MapsActivity""/&gt;
</code></pre>

<p><br><br><br>
<strong>Whole app without the above tweak</strong><br>
Gradle</p>

<pre><code>apply plugin: 'com.android.application'
apply plugin: 'android-apt'
//apply plugin: 'com.google.gms.google-services'

android {
    compileSdkVersion 24
    buildToolsVersion ""24.0.0""

    defaultConfig {
        applicationId ""mem.edu.joshua""
        minSdkVersion 16
        targetSdkVersion 24
        versionCode 1
        versionName ""1.0""
        multiDexEnabled true
    }

    dexOptions {
        preDexLibraries = false
        javaMaxHeapSize ""4g""
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
        }
    }

    buildTypes.each {
        it.buildConfigField 'String', 'YELP_CONSUMER_KEY', YelpConsumerKey
        it.buildConfigField 'String', 'YELP_CONSUMER_SECRET', YelpConsumerSecret
        it.buildConfigField 'String', 'YELP_TOKEN', YelpToken
        it.buildConfigField 'String', 'YELP_TOKEN_SECRET', YelpTokenSecret
    }

}

repositories {
    mavenCentral()
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    testCompile 'junit:junit:4.12'
    apt 'net.simonvt.schematic:schematic-compiler:0.6.3'

    compile 'net.simonvt.schematic:schematic:0.6.3'
    compile 'com.android.support:appcompat-v7:24.1.1'
    compile 'com.google.firebase:firebase-ads:9.0.2'
    //compile 'com.google.android.gms:play-services-maps:9.2.1'
    compile 'com.google.android.gms:play-services-maps:9.0.2'
    compile 'com.google.android.gms:play-services-location:9.0.2'
    compile 'com.yelp.clientlib:yelp-android:2.0.0'
    compile 'org.scribe:scribe:1.3.7'
    //compile 'com.google.android.gms:play-services:9.2.1'
}
</code></pre>

<p>Manifest</p>

<pre><code>&lt;?xml version=""1.0"" encoding=""utf-8""?&gt;
&lt;manifest package=""mem.edu.joshua""
          xmlns:android=""http://schemas.android.com/apk/res/android""&gt;

    &lt;!--
         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use
         Google Maps Android API v2, but you must specify either coarse or fine
         location permissions for the 'MyLocation' functionality. 
    --&gt;
    &lt;uses-permission android:name=""android.permission.ACCESS_NETWORK_STATE""/&gt;
    &lt;uses-permission android:name=""android.permission.ACCESS_FINE_LOCATION""/&gt;
    &lt;uses-permission android:name=""android.permission.INTERNET""/&gt;
    &lt;uses-permission android:name=""android.permission.AUTHENTICATE_ACCOUNTS""/&gt;
    &lt;uses-permission android:name=""android.permission.READ_SYNC_SETTINGS""/&gt;
    &lt;uses-permission android:name=""android.permission.WRITE_SYNC_SETTINGS""/&gt;

    &lt;application
        android:allowBackup=""true""
        android:icon=""@mipmap/ic_launcher""
        android:label=""@string/app_name""
        android:supportsRtl=""true""
        android:theme=""@style/Theme.AppCompat""&gt;
        &lt;uses-library android:name=""com.google.android.maps""/&gt;

        &lt;!--
             The API key for Google Maps-based APIs is defined as a string resource.
             (See the file ""res/values/google_maps_api.xml"").
             Note that the API key is linked to the encryption key used to sign the APK.
             You need a different API key for each encryption key, including the release key that is used to
             sign the APK for publishing.
             You can define the keys for the debug and release targets in src/debug/ and src/release/. 
        --&gt;
        &lt;meta-data
            android:name=""com.google.android.geo.API_KEY""
            android:value=""@string/google_maps_key""/&gt;

        &lt;activity
            android:name="".MainActivity""
            android:label=""@string/app_name""&gt;
            &lt;intent-filter&gt;
                &lt;action android:name=""android.intent.action.MAIN""/&gt;

                &lt;category android:name=""android.intent.category.LAUNCHER""/&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;

        &lt;!--&lt;activity--&gt;
            &lt;!--android:name="".MapsActivity""--&gt;
            &lt;!--android:label=""@string/app_name""&gt;--&gt;
            &lt;!--&lt;meta-data--&gt;
                &lt;!--android:name=""android.support.PARENT_ACTIVITY""--&gt;
                &lt;!--android:value=""mem.edu.joshua.MainActivity""/&gt;--&gt;

            &lt;!--&lt;intent-filter&gt;--&gt;
                &lt;!--&lt;action android:name=""android.intent.action.MAIN""/&gt;--&gt;

                &lt;!--&lt;category android:name=""android.intent.category.LAUNCHER""/&gt;--&gt;
            &lt;!--&lt;/intent-filter&gt;--&gt;
        &lt;!--&lt;/activity&gt;--&gt;

        &lt;!-- android:accountType=""com.clashtoolkit.clashtoolkit"" --&gt;
        &lt;service android:name="".sync.AuthenticatorService""&gt;
            &lt;intent-filter&gt;
                &lt;action android:name=""android.accounts.AccountAuthenticator""/&gt;
            &lt;/intent-filter&gt;

            &lt;meta-data
                android:name=""android.accounts.AccountAuthenticator""
                android:resource=""@xml/authenticator""/&gt;
        &lt;/service&gt;

        &lt;!-- The SyncAdapter service --&gt;
        &lt;!-- android:allowParallelSyncs=""true"" --&gt;
        &lt;service
            android:name="".sync.SyncService""
            android:exported=""true""&gt;
            &lt;intent-filter&gt;
                &lt;action android:name=""android.content.SyncAdapter""/&gt;
            &lt;/intent-filter&gt;

            &lt;meta-data
                android:name=""android.content.SyncAdapter""
                android:resource=""@xml/syncadapter""/&gt;
        &lt;/service&gt;

        &lt;provider
            android:name="".data.generated.QuoteProvider""
            android:authorities=""mem.edu.joshua.data.QuoteProvider""
            android:exported=""false""/&gt;

    &lt;/application&gt;

&lt;/manifest&gt;
</code></pre>

<p>In mainActivity.java</p>

<pre><code>@Override
    public void onConnected(@Nullable Bundle bundle) {

LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient, mLocationRequest, this);

        mLocationRequest = LocationRequest.create();
        mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);
        mLocationRequest.setInterval(60000);


        try {

            LocationServices.FusedLocationApi.requestLocationUpdates(mGoogleApiClient,mLocationRequest, (LocationListener) this);

            if (mLocationRequest != null) {
                Log.e(LOG_TAG, ""google working"");



//                FragmentManager manager = getSupportFragmentManager();
//                FragmentTransaction transaction = manager.beginTransaction();
//                SupportMapFragment fragment = new SupportMapFragment();
//                transaction.add(R.id.mapView, fragment);
//                transaction.commit();

                LocationManager service = (LocationManager) getSystemService(LOCATION_SERVICE);
                Criteria criteria = new Criteria();
                String provider = service.getBestProvider(criteria, false);
                Location location = service.getLastKnownLocation(provider);


                coord.setLon(location.getLongitude());
                coord.setLat(location.getLatitude());

                sPref.saveCoordBody(""lat"", coord.getLat());
                sPref.saveCoordBody(""lon"", coord.getLon());

                    getSupportFragmentManager()
                            .beginTransaction()
                            .add(R.id.container, new MapsActivity(), MapsActivity.LOG_TAG)
                            .disallowAddToBackStack()
                            .commit();


            }

        }catch  (SecurityException e) {
            Log.e(LOG_TAG, e.getMessage(), e);
            e.printStackTrace();
        }


    }
</code></pre>

<p>In MapsActivity.java (Fragment -> import android.support.v4.app.FragmentActivity;)</p>

<pre><code>public class MapsActivity extends Fragment implements OnMapReadyCallback, LoaderManager.LoaderCallbacks&lt;Cursor&gt; {

GoogleApiClient.ConnectionCallbacks,
        public static final String LOG_TAG = MapsActivity.class.getSimpleName();

    private static final int CURSOR_LOADER_ID = 0;

    private Context mContext;


    private MapCursor mMapCursor;
    protected Location mLastLocation;
    private Cursor initQueryCursor;
    private GetSet coord;
    private AppPreferences sPref;
    private LatLng home;
    private GoogleMap mMap;
    MapView mMapView;

    private GoogleMap googleMap;

        private static final String FRAGMENT_LISTS =
                ""net.simonvt.schematic.samples.ui.SampleActivity.LISTS"";




    public MapsActivity() {
    }


    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);


        sPref = new AppPreferences(getActivity());

        SyncAdapter.syncImmediately(getActivity(),
                sPref.getCoordBody(""lat""),
                sPref.getCoordBody(""lon""));

    }

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {

        //getLoaderManager().initLoader(CURSOR_LOADER_ID, null, this);


        View v = inflater.inflate(R.layout.yelp_google_map, container,
                false);


        mMapView = (MapView) v.findViewById(R.id.mapView);

        mMapView.onCreate(savedInstanceState);

        mMapView.onResume();

        mMapView.getMapAsync(this);

        return v;

    }


    @Override
    public Loader&lt;Cursor&gt; onCreateLoader(int id, Bundle args) {
        return new CursorLoader(getActivity(), QuoteProvider.Quotes.CONTENT_URI,
                new String[]{ QuoteColumns._ID, QuoteColumns.DISPLAY_ADDRESS, QuoteColumns.DISPLAY_PHONE,
                        QuoteColumns.RATING, QuoteColumns.URL, QuoteColumns.POSTAL_CODE, QuoteColumns.ID_BUSINESS_NAME,
                        QuoteColumns.LATITUDE,
                        QuoteColumns.LOGITUDE},
                null,
                null,
                null);
    }

    @Override
    public void onLoadFinished(Loader&lt;Cursor&gt; loader, Cursor data) {

        if (loader != null) {
            //     mMapCursor.swapCursor(data);
            initQueryCursor = data;
        }
    }

    @Override
    public void onLoaderReset(Loader&lt;Cursor&gt; loader) {

    }


    @Override
    public void onResume() {
        super.onResume();
        mMapView.onResume();
    }


    @Override
    public void onMapReady(GoogleMap googleMap) {
        LatLngBounds.Builder builder = new LatLngBounds.Builder();

        mMap = googleMap;

        initQueryCursor = getContext().getContentResolver().query(QuoteProvider.Quotes.CONTENT_URI,
                new String[]{QuoteColumns.LATITUDE, QuoteColumns.LOGITUDE, QuoteColumns.ID_BUSINESS_NAME}, null,
                null, null);


        if (initQueryCursor != null) {

            DatabaseUtils.dumpCursor(initQueryCursor);
            initQueryCursor.moveToFirst();
            for (int i = 0; i &lt; initQueryCursor.getCount(); i++) {

                home = new LatLng(Double.valueOf(initQueryCursor.getString(initQueryCursor.getColumnIndex(""latitude""))),
                        Double.valueOf(initQueryCursor.getString(initQueryCursor.getColumnIndex(""longitude""))));
                mMap.addMarker(new MarkerOptions().position(home).
                        title(initQueryCursor.getString(initQueryCursor.getColumnIndex(""id_bussines_name""))));

                initQueryCursor.moveToNext();

                builder.include(home);
            }
            if(home!=null) {
                mMap.moveCamera(CameraUpdateFactory.newLatLngBounds(builder.build(), 91, 91, 42));
            }
        }
    }
}
</code></pre>

<p>My yelp_google_map.xml</p>

<pre><code>&lt;LinearLayout xmlns:android=""http://schemas.android.com/apk/res/android""
              xmlns:tools=""http://schemas.android.com/tools""
              android:layout_width=""match_parent""
              android:layout_height=""match_parent""&gt;

    &lt;!--&lt;include--&gt;
        &lt;!--android:id=""@+id/map_toolbar""--&gt;
        &lt;!--layout=""@layout/app_bar"" /&gt;--&gt;



    &lt;LinearLayout

        android:id=""@+id/container""
        android:layout_width=""match_parent""
        android:layout_height=""match_parent""
        android:orientation=""vertical""&gt;


        &lt;com.google.android.gms.maps.MapView
            android:id=""@+id/mapView""
            android:layout_width=""match_parent""
            android:layout_height=""match_parent""
            class=""com.google.android.gms.maps.MapFragment"" /&gt;
        &lt;!--was SupportMapFragment--&gt;
    &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;
</code></pre>
","2016-08-18 01:13:28","39024209","0","<google-maps><android-fragments><android-syncadapter><yelp><android-gps>","1","0"
"Is it possible to send feed to update the listing in foursquare?","<p>I have to correct/update our business listing in foursquare, axciom, yelp.</p>

<p>Is it possible to send the updates through API to correct that? If yes please give me a suggestion. thanks in advance.</p>
","2014-04-29 17:46:22","","0","<foursquare><bing-api><bing-maps><yelp>","1","0"
"Getting a total number of checkins for a Yelp venue via API","<p>I guess the title is quite self-describing.</p>

<p>Is there a way to determine the total count of check-ins that a Yelp business has using their API?</p>

<p>I don't seem to be able to find it in their API docs, and the actual API responses don't give any hints either.</p>
","2012-08-30 11:25:20","12777408","1","<api><checkin><yelp>","1","0"
"How to bind array of objects from Promise Knockout JS","<p>I have a method which returns promise with an array of complex objects via yelp api.
I need to bind it with markup by data-bind=""foreach: objects"", but I can't.
I need to understand how to bind data in markup, and how to work with promises in observable arrays.
Can anyone help?</p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""false"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>//getDataForPlaces
var getDataForPlaces = function(addresses){
	return Promise.all(Array.prototype.map.call(addresses, function(address)    {
      return getLocationDesc(address);
   }));
	
};


//getLocationDesc

var getLocationDesc = function(address){
	return new Promise(function(resolve, reject) {
			var parameters = [];
            parameters.push(['sort', sort]);
            parameters.push(['limit', limit]);
            parameters.push(['radius_filter', radius_filter]);
            parameters.push(['actionlinks', actionlinks]);
            parameters.push(['location', address]);
            parameters.push(['callback', 'callback']);
            parameters.push(['oauth_consumer_key', auth.consumerKey]);
            parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
            parameters.push(['oauth_token', auth.accessToken]);
            parameters.push(['oauth_signature_method', 'HMAC-SHA1']);

            var message = {
                'action' : 'http://api.yelp.com/v2/search',
                'method' : 'GET',
                'parameters' : parameters
            };

            OAuth.setTimestampAndNonce(message);
            OAuth.SignatureMethod.sign(message, accessor);

            var parameterMap = OAuth.getParameterMap(message.parameters);
            $.ajax({
                url : message.action,
                cache : true,
                method : message.method,
                data : parameterMap,
                dataType : 'jsonp',
                jsonp : 'callback',
                success : resolve,
                error : reject
            });
        });
	};


//View model

function MapViewModel(){
	var self = this;
	self.categories = [""Choose option"", ""Bars"", ""Gyms""];
	var addresses = [""address"",""address, address"",
		""address"",""address"",
		""address""]; 
	var yelp = new YelpDataProvider();

	self.places = ko.observableArray();

	yelp.getDataForPlaces(addresses).then(function(place){
		self.places(place);
	})
}

ko.applyBindings(new MapViewModel());</code></pre>
<pre class=""snippet-code-html lang-html prettyprint-override""><code>&lt;ul data-bind=""foreach: places ""&gt;
  &lt;li data-bind=""text: business[0].name""&gt;&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
</p>

<p>complex object:
<a href=""https://i.stack.imgur.com/wvOZE.png"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/wvOZE.png"" alt=""enter image description here""></a></p>
","2016-05-17 09:54:51","","0","<javascript><knockout.js><promise><yelp>","1","6"
"OAuth Error using Yelp API","<p>I have a sample app that is using Yelp to retrieve reviews and contact information.  It was working perfectly until this week.</p>

<p>I'm now getting this error:
Uncaught ReferenceError: OAuth is not defined</p>

<pre><code>function addmarker(lat,lng, id, name, comments){

var yelpcontent = '&lt;h4&gt;' + name + '&lt;/h4&gt;';
var phone = '';
var address = '';
var city = '';
var state = '';
var zip = '';
var rating = '';

var terms = name;
var near = 'Indianapolis,IN';
var cll = lat + "","" + lng;
var accessor = {
    consumerSecret: auth.consumerSecret,
    tokenSecret: auth.accessTokenSecret
};
parameters = [];
parameters.push(['term', name]);
parameters.push(['location', 'Indianapolis, IN']);
parameters.push(['cll', cll]);
parameters.push(['callback', 'cb']);
parameters.push(['oauth_consumer_key', auth.consumerKey]);
parameters.push(['oauth_consumer_secret', auth.consumerSecret]);
parameters.push(['oauth_token', auth.accessToken]);
parameters.push(['oauth_signature_method', 'HMAC-SHA1']);
var message = {
    'action': 'http://api.yelp.com/v2/search',
    'method': 'GET',
    'parameters': parameters
};
OAuth.setTimestampAndNonce(message);
OAuth.SignatureMethod.sign(message, accessor);
var parameterMap = OAuth.getParameterMap(message.parameters);
parameterMap.oauth_signature = OAuth.percentEncode(parameterMap.oauth_signature)
$.ajax({
    'url': message.action,
    'data': parameterMap,
    'cache': true,
    'dataType': 'jsonp',
    'type' : 'get',
    'timeout': 5000,
    'success': function(data, textStats, XMLHttpRequest) {


        address = data['businesses'][0].location.address;
        city = data['businesses'][0].location.city;
        state = data['businesses'][0].location.state_code;
        zip = data['businesses'][0].location.postal_code;
        phone = data['businesses'][0].display_phone;
        rating = data['businesses'][0].rating_img_url_small;
        yelpcontent = yelpcontent + '&lt;p&gt;' + address + '&lt;br/&gt;' + city + ', ' + state + '  ' + zip + '&lt;br/&gt;' + phone + '&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Yelp Rating&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img src=' + rating + '&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Personal Review&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;' + comments + '&lt;/p&gt;';

    },
    'error': function(data, textStats, XMLHttpRequest) {
        console.log(name + ' ' + 'did not work');
        console.log(XMLHttpRequest);
        yelpcontent = yelpcontent + '&lt;p&gt;' + comments + '&lt;/p&gt;';
    }


});
</code></pre>

<p>Can someone please tell me what I'm doing wrong?</p>
","2016-05-17 19:58:34","","0","<javascript><oauth><yelp>","1","0"
"How to extract rating information using CSS selector or any other methods","<p>I am learning web scraping on my own and I am trying to scrap reviewer's ratings on Yelp as a practice. Typically, I can use CSS selector or XPath methods to select the contents I am interested in. However, those methods do not work for selecting reviewers' ratings. For instance, on the following page: <a href=""https://www.yelp.com/user_details_reviews_self?userid=0S6EI51ej5J7dgYz3-O0lA"" rel=""nofollow"">https://www.yelp.com/user_details_reviews_self?userid=0S6EI51ej5J7dgYz3-O0lA</a>. The CSS selector for the first rating is '.stars_2'. However, if I use this selector in my RSelenium code as follows:</p>

<pre><code>     ratings=remDr$findElements('css selector','.stars_2')

     ratings=unlist(lapply(ratings, function(x){x$getElementText()}))
</code></pre>

<p>I get NULL. I think the reason is that the rating is actually a image. I paste a small part of the page source here:</p>

<pre><code>            &lt;div class=""review-content""&gt;
            &lt;div class=""review-content""&gt;
            &lt;div class=""biz-rating biz-rating-very-large clearfix""&gt;
            &lt;div&gt;        
            &lt;div class=""rating-very-large""&gt;
            &lt;i class=""star-img stars_2"" title=""2.0 star rating""&gt;
          &lt;img alt=""2.0 star rating"" class=""offscreen"" height=""303"" src=""//s3-media4.fl.yelpcdn.com/assets/srv0/yelp_styleguide/c2252a4cd43e/assets/img/stars/stars_map.png"" width=""84""&gt;
    &lt;/i&gt;
&lt;/div&gt;


    &lt;/div&gt;
</code></pre>

<p>Basically, if I can extract the text from class=""stat-img stars_2"" or title=""2.0 star rating"" then I am good. Can anyone help me on this?</p>
","2016-03-15 22:05:32","","-1","<python><r><web-scraping><yelp><rselenium>","1","4"
"Unable to get reviews from Yelp API using tmhOAuth php library. I get NO ERRORS","<p>I am using Matt Harris's tmhOAuth library to generate an authenticated request to Yelp's API. I am already using the same library to access the Twitter API and it works well.</p>

<p>I have signed up for Yelp Developer API credentials and am using them.</p>

<p>I set up tmhOAuth to make a request like:</p>

<p><a href=""http://api.yelp.com/v2/search?limit=20&amp;location=Atlanta&amp;term=food"" rel=""nofollow"">http://api.yelp.com/v2/search?limit=20&amp;location=Atlanta&amp;term=food</a></p>

<p>My hunch is somehow my authentication credentials are not being output correctly, even though you would think I would get some sort of error from Yelp about this. For example, I change my consumer key and secret and my user token and secret to random characters, but when I make a request with these bogus keys I get the same response as below and STILL no authentication error message. Just NOTHING!</p>

<p>I feel certain that someone else, when they were first setting up their calls to the Yelp API may have run into a similar response and tell me something obvious that I'm doing wrong. Any help is greatly appreciated.</p>

<p>The response I get from Yelp is:</p>

<pre><code>Array ( 
   [headers] =&gt; Array ( 
     [date] =&gt; Sat, 03 Nov 2012 21:36:15 GMT 
     [server] =&gt; Apache
     [x_node] =&gt; wsgi, web31,  api_com 
     [content_length] =&gt; 0 
     [cache_control] =&gt; max-age=0, must-revalidate, no-cache, no-store, private 
     [expires] =&gt;  Sat, 03 Nov 2012 21:36:15 GMT
     [pragma] =&gt; no-cache [set_cookie] =&gt; bse=0aff211810c8d90f05c4e8438a3e0b7b; Domain=.yelp.com; Path=/; HttpOnly 
     [location] =&gt; http://api.yelp.com/v2/search?limit=20&amp;location=Atlanta&amp;term=food  
     [vary] =&gt; User-Agent 
     [connection] =&gt; close 
     [content_type] =&gt; text/html; charset=UTF-8 
     [x_mode] =&gt; rw 
     [x_proxied] =&gt;  lb2 
   ) 
   [code] =&gt; 301 
   [response] =&gt; 
   [info] =&gt; Array ( 
     [url] =&gt; https://api.yelp.com/v2/search?limit=20&amp;location=Atlanta&amp;term=food 
     [content_type] =&gt; text/html; charset=UTF-8 
     [http_code] =&gt; 301 
     [header_size] =&gt; 534 
     [request_size] =&gt; 439 
     [filetime] =&gt; -1 
     [ssl_verify_result] =&gt; 0 
     [redirect_count] =&gt; 0 
     [total_time] =&gt; 0.653941 
     [namelookup_time] =&gt; 0.000981 
     [connect_time] =&gt; 0.073796 
     [pretransfer_time] =&gt; 0.297663 
     [size_upload] =&gt; 0 
     [size_download] =&gt; 0 
     [speed_download] =&gt; 0 
     [speed_upload] =&gt; 0  
     [download_content_length] =&gt; 0 
     [upload_content_length] =&gt; 0 
     [starttransfer_time] =&gt; 0.653791 
     [redirect_time] =&gt; 0 
     [certinfo] =&gt; Array ( ) 
     [request_header] =&gt; GET 

       /v2/search?limit=20&amp;location=Atlanta&amp;term=food 
       HTTP/1.1 User-Agent: themattharris' HTTP 
       Client Host: api.yelp.com Accept: */* Authorization: OAuth 
       oauth_consumer_key=""****************"", 
       oauth_nonce=""*******************"", 
       oauth_signature=""***************************"", 
       oauth_signature_method=""HMAC-SHA1"", 
       oauth_timestamp=""1351978544"", 
       oauth_token=""******************"", 
       oauth_version=""1.0"" 
     ) 
   )
</code></pre>

<p>I've obviously obfuscated the actual key, nonce and signature strings above for this post.</p>
","2012-11-03 22:03:06","","2","<php><authentication><oauth><yelp>","1","2"
"Large inconsistency between Yelp v2 API queries and equivalent searches on Yelp.com","<p>Search results using the Yelp v2 API look very different from what you'd find on their website</p>

<p>For example, on the website:</p>

<p><a href=""http://www.yelp.com/search?find_desc=restaurants&amp;find_loc=Manhattan%2C+NY&amp;ns=1#start=0&amp;sortby=rating"" rel=""nofollow"">http://www.yelp.com/search?find_desc=restaurants&amp;find_loc=Manhattan%2C+NY&amp;ns=1#start=0&amp;sortby=rating</a></p>

<p>I issued the same search using their API after reading their documentation, with the following Python code</p>

<pre><code>import json

import argparse
import json
import pprint
import sys
import urllib
import urllib2

import oauth2

HOST = 'api.yelp.com'
PATH = '/v2/search/'

# I put my account's values here, leaving blank for the question
CONSUMER_KEY = ''
CONSUMER_SECRET = ''
TOKEN = ''
TOKEN_SECRET = ''

def main():
    url_params = {
        'term': 'restaurants',
        'location': 'Manhattan,NY',
        'sort': 2, # sort by ""Highest Rated""
    }

    url = 'http://{0}{1}?'.format(HOST, PATH)

    consumer = oauth2.Consumer(
        CONSUMER_KEY, 
        CONSUMER_SECRET
    )
    oauth_request = oauth2.Request(
        method=""GET"", 
        url=url, 
        parameters=url_params
    )

    oauth_request.update(
        {
            'oauth_nonce': oauth2.generate_nonce(),
            'oauth_timestamp': oauth2.generate_timestamp(),
            'oauth_token': TOKEN,
            'oauth_consumer_key': CONSUMER_KEY
        }
    )
    token = oauth2.Token(TOKEN, TOKEN_SECRET)
    oauth_request.sign_request(
        oauth2.SignatureMethod_HMAC_SHA1(), 
        consumer, 
        token
    )
    signed_url = oauth_request.to_url()
    print 'Querying {0} ...'.format(url)
    conn = urllib2.urlopen(signed_url, None)
    try:
        print conn.read()
    finally:
        conn.close()
</code></pre>

<p>I tried many different combinations of query parameters (changing the location phrase to include spaces, no comma, etc. also tried introducing a limit and offset), but with no success. What am I doing wrong?</p>

<p>Results of the API query are here <a href=""https://code.stypi.com/cmqnfxuo"" rel=""nofollow"">https://code.stypi.com/cmqnfxuo</a></p>
","2015-01-29 04:49:06","","0","<python><yelp>","1","0"
"Code to check whether site has been listed on search engines and directories","<p>I am currently developing an application in Rails, which requires to check whether a website has been listed in Google, Bing, Yahoo, Yelp and Yellow Pages. From my research the best is to check site: domain.com on Google and Bing and look for results and check in Yahoo directory for the domain.</p>

<p>Is there any other way to do it? I mean some code snippet to check on domain's home page or using their API or something like that. Also how to check on Yelp and Yellow pages.</p>
","2012-09-04 12:20:08","","2","<ruby-on-rails><seo><bing><yelp><yellow-pages>","2","0"
"Alamofire Get Request & JSON Response (Yelp API)","<p>I'm trying send an http get request with Alamofire using Yelp's business search API (<a href=""https://www.yelp.ca/developers/documentation/v3/business_search"" rel=""nofollow noreferrer"">https://www.yelp.ca/developers/documentation/v3/business_search</a>) but I'm having trouble writing out the syntax. I'm a beginner and am using Alamofire for the first time so some help would be appreciated! I'm also trying to set ""term"" and ""location"" parameters. Once thats done, I'm hoping to parse through the SwiftyJSON and am not sure how/where to receive the response. </p>

<p>This is my current code:</p>

<pre><code>import UIKit
import Alamofire
import SwiftyJSON

private let reuseIdentifier = ""cafeCell""

class CafeListCollectionViewController: 
UICollectionViewController,UICollectionViewDelegateFlowLayout {


override func viewDidLoad() {
    super.viewDidLoad()

    let requestParams: Parameters = [""term"": ""cafe"", ""location"": ""Montreal, QC""]

    //Http request

    let apiToContact = ""https://api.yelp.com/v3/businesses/search""

    Alamofire.request(.GET, apiToContact, requestParams).responseJSON { (responseObject) -&gt; Void in

        print(responseObject)

        if responseObject.result.isSuccess {
            let resJson = JSON(responseObject.result.value!)
            success(resJson)
        }
        if responseObject.result.isFailure {
            let error : NSError = responseObject.result.error!
            failure(error)
        }

    }
</code></pre>

<p>I'm sorry if this sounds like a simple question. I'm new to programming and would appreciate the help. Thank you so much!</p>
","2017-07-13 17:32:17","45092144","1","<ios><json><swift><swifty-json><yelp>","1","1"
"How does Dish.fm aggrergate data from Yelp, Foursquare and other sites legally?","<p>I have had a similar concept in mind, but I just cannot seem to figure out how they're doing this for the life of me. For one, crawling and scrapping is against their API TOS. Secondly, they are even pulling individual dish pictures (supposedly from instagram).</p>

<p>You can basically look up a dish, for example ""Chicken Tikka"". You will then see nearby places that serve chicken tikka and the rating for that restaurant (which Yelp allows), but to make things more complicated it shows what users over the web say about that dish and the specific restaurant.</p>

<p>A lot of people have asked a similar question everywhere but no one has the answers.</p>
","2014-01-03 18:47:08","","1","<foursquare><yelp>","1","2"
"How to write swift code to display Yelp Star Images?","<p>Hey I'm trying to use Yelp's Review API and am having trouble structuring/writing the code necessary to display the different Yelp Star Ratings. I have no problem getting the response (it's successful). Yelp has provided image assets of all their different star ratings (5, 4.5, 4 etc. stars). Because the rating response is as a Double, I converted that into a String value. As for knowing which to call, I created an enum class so that it knows which image name to use. Using that name, I can then use it to find the image asset I need. </p>

<p>Now that I structure the code this way, my app crashes. Xcode will build it but upon opening the app, it crashes. </p>

<p>Enum class:</p>

<pre><code>import Foundation
import UIKit

enum Rating: String {

case five = ""regular_5""
case fourAndAHalf = ""regular_4_half""
case four = ""regular_4""
case threeAndAHalf = ""regular_3_half""
case three = ""regular_3""
case twoAndAHalf =  ""regular_2_half""
case two = ""regular_2""
case oneAndAHalf = ""regular_1_half""
case one = ""regular_1""
case zero = ""regular_0""

}
</code></pre>

<p>Yelp Client Service class:</p>

<pre><code>import Foundation
import Alamofire
import SwiftyJSON

class YelpClientService {

    static func getReviews(url: String, completionHandler: @escaping ([Review]?)-&gt; Void)
{
    let httpHeaders: HTTPHeaders = [""Authorization"": ""Bearer \(UserDefaults.standard.string(forKey: ""token"") ?? """")""]

    //removing diacritics from the URL
    if let requestUrl = URL(string: url.folding(options: .diacriticInsensitive, locale: .current))
    {
        Alamofire.request(requestUrl, encoding: URLEncoding.default, headers: httpHeaders).responseJSON { (returnedResponse) in
            let returnedJson = JSON(with: returnedResponse.data as Any)
            let reviewArray = returnedJson[""reviews""].array
            print(reviewArray as Any)

            var reviews = [Review]()

            for review in reviewArray! {

                let userName = review[""user""][""name""].stringValue

                let ratingDouble = review[""rating""].doubleValue
                let rating = String(ratingDouble)

                let text = review[""text""].stringValue

                let formatter = DateFormatter()
                formatter.dateFormat = ""yyyy-MM-dd HH:mm:ss""

                let timeCreated =  formatter.date(from: review[""time_created""].stringValue)


                let url = review[""url""].stringValue

                let review = Review(rating: Rating(rawValue: rating)!, userName: userName, text: text, timeCreated: timeCreated!, url: url)
                reviews.append(review)

            }

            completionHandler(reviews)

        }
    }
    else
    {
        print(""invalid url"")
        completionHandler(nil)
    }
}
</code></pre>

<p>}</p>

<p>Func in View Controller thats displaying the Star:</p>

<pre><code>func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -&gt; UITableViewCell {

    let cell = tableView.dequeueReusableCell(withIdentifier: ""reviewCell"", for: indexPath) as! ReviewCell

    let review = reviewList[indexPath.row]

    print(review.userName)

    cell.userName.text = review.userName
    cell.reviewText.text = review.text

    cell.yelpStars.image = UIImage(named: review.rating.rawValue)




    //cell.date.text = review.timeCreated



    return cell

}
</code></pre>

<p>The error when I build is: fatal error: unexpectedly found nil while unwrapping an Optional value.</p>

<p>I'm not sure what went wrong. Is it correct of me to instantiate rating as a Rating type? Should I keep it String?</p>

<p>I realize this is long code but I hope someone can help! Thank you!</p>
","2017-07-22 19:37:08","45258636","0","<ios><enums><swifty-json><yelp>","2","1"
"How to get reviews in Bright Local API","<p>I'm working on Bright Local API ( <a href=""https://tools.brightlocal.com/"" rel=""nofollow"">https://tools.brightlocal.com/</a> ) to get reviews of a business from Yelp ,Google+ etc.
I got some code of this API from GitHub with some examples.So I just register a free account in Bright Local and try those examples to get Reviews.</p>

<p>Below code is used to fetch the reviews of some business.After running this code i got  a job id.But I dont know how to get reviews using this Job id.  </p>

<pre><code>$profileUrls = array(
    'https://plus.google.com/114222978585544488148/about?hl=en',
    'https://plus.google.com/117313296997732479889/about?hl=en',
    'https://plus.google.com/111550668382222753542/about?hl=en'
);

// setup API wrappers
$api = new Api(API_KEY, API_SECRET, API_ENDPOINT);
$batchApi = new BatchApi($api);

// Step 1: Create a new batch
$batchId = $batchApi-&gt;create();

if ($batchId) {
    printf('Created batch ID %d%s', $batchId, PHP_EOL);

    // Step 2: Add review lookup jobs to batch
    foreach ($profileUrls as $profileUrl) {
        $result = $api-&gt;call('/v4/ld/fetch-reviews', array(
            'batch-id'    =&gt; $batchId,
            'profile-url' =&gt; $profileUrl,
            'country'     =&gt; 'USA'
        ));
        if ($result['success']) {
            printf('Added job with ID %d%s', $result['job-id'], PHP_EOL);
        }
    }

    // Step 3: Commit batch (to signal all jobs added, processing starts)
    if ($batchApi-&gt;commit($batchId)) {
        echo 'Committed batch successfully.'.PHP_EOL;
    }
}
</code></pre>

<p>Anybody knows how to get reviews using this API ?</p>

<p>Thanks in advance.</p>
","2015-02-25 09:15:42","28722603","2","<php><google-plus><review><yelp>","1","0"
"Yelp API to support write review for business page","<p>Does Yelp provide API support to write reviews on business page? Is there any way to write reviews from another site?</p>
","2012-10-08 07:39:03","12777331","0","<php><javascript><yelp>","2","0"
"Having trouble extracting values from the Yelp API via PHP","<p>Let me be up front: I'm a PHP hack. There's probably some stupid mistakes in here. Please point them out if you see them. </p>

<p><strong>What I'm trying to do:</strong> I'm creating a page for a restaurant that would like their Yelp reviews displayed. I'm using the Yelp Phone API to grab the reviews for the specific business. Please view the sample response on the Yelp API documentation located here: <a href=""http://www.yelp.com/developers/documentation/phone_api#sampleResponse"" rel=""nofollow"">http://www.yelp.com/developers/documentation/phone_api#sampleResponse</a></p>

<p><strong>What I've done:</strong> </p>

<ul>
<li>Successfully connected to the API and returned a response</li>
<li>echoed values from the response array in a foreach loop.</li>
</ul>

<p>If you view the documentation, you can see there are a few levels of the response. I can easily print, echo, whatever values from the second tier, but what I'm really after is all nested in the ""reviews"" section of the response. I'm having trouble figuring out how to echo the values within the reviews section (eg user_name, review_excerpt etc). </p>

<p><strong>My Code:</strong></p>

<pre><code>$yelpstring = file_get_contents(""http://api.yelp.com/phone_search?phone=[redactedphonenumber]&amp;ywsid=[redactedapikey]"", true);
$obj = json_decode($yelpstring);

foreach($obj-&gt;businesses as $key =&gt; $business)
{
$reviews = $business-&gt;reviews;

//print_r($reviews);
echo $reviews['user_name'];
}
</code></pre>

<p>If I echo $reviews, I just get the word ""Array"". If I print_r($reviews), I get an expected list of keys and values. If I try to echo a specific value from the array(echo $reviews['user_name'], I get nothing. Any light shed on what I'm doing wrong would be greatly appreciated. I'm sure I'm missing something simple. Thank you for your time!</p>

<p><strong>Edit: print_r($reviews) output:</strong></p>

<pre><code>Array ( [0] =&gt; stdClass Object ( [rating_img_url_small] =&gt; http://media4.px.yelpcdn.com/static/201012164278297776/img/ico/stars/stars_small_2.png [user_photo_url_small] =&gt; http://media2.px.yelpcdn.com/static/201012162819681786/img/gfx/blank_user_extra_small.gif [rating_img_url] =&gt; http://media4.px.yelpcdn.com/static/201012163489049252/img/ico/stars/stars_2.png [rating] =&gt; 2 [user_url] =&gt; http://www.yelp.com/user_details?userid=vZbcPrYPSMFIDIfTub5H1g [url] =&gt; http://www.yelp.com/biz/jelly-cafe-denver#hrid:u9ckRV6tKApe6Bu93M93CA [mobile_uri] =&gt; http://m.yelp.com/biz/5G2X2q9p7QFdm-LbyutltQ?srid=u9ckRV6tKApe6Bu93M93CA [text_excerpt] =&gt; I wanted to like this place. It's got the contemporary name and it's full of hipsters. The place looked clean and the style was fun and cute. I felt like... [user_photo_url] =&gt; http://media3.px.yelpcdn.com/static/201012161186834854/img/gfx/blank_user_small.gif [date] =&gt; 2011-09-07 [user_name] =&gt; boycott p. [id] =&gt; u9ckRV6tKApe6Bu93M93CA ) [1] =&gt; stdClass Object ( [rating_img_url_small] =&gt; http://media4.px.yelpcdn.com/static/201012164278297776/img/ico/stars/stars_small_2.png [user_photo_url_small] =&gt; http://media1.px.yelpcdn.com/upthumb/MWu84G5QtmBmT9GoqjT_kg/ss [rating_img_url] =&gt; http://media4.px.yelpcdn.com/static/201012163489049252/img/ico/stars/stars_2.png [rating] =&gt; 2 [user_url] =&gt; http://www.yelp.com/user_details?userid=izF2cGrmqt-u_Z2tDZ8dbg [url] =&gt; http://www.yelp.com/biz/jelly-cafe-denver#hrid:OYLeeCMgnpZkk1c9LWu97g [mobile_uri] =&gt; http://m.yelp.com/biz/5G2X2q9p7QFdm-LbyutltQ?srid=OYLeeCMgnpZkk1c9LWu97g [text_excerpt] =&gt; Food is decent and overpriced, but service is a joke. Your food will take a minimum of 20 minutes, for the basic breakfast. Then when your food does come... [user_photo_url] =&gt; http://media1.px.yelpcdn.com/upthumb/MWu84G5QtmBmT9GoqjT_kg/ms [date] =&gt; 2011-09-06 [user_name] =&gt; April H. [id] =&gt; OYLeeCMgnpZkk1c9LWu97g ) [2] =&gt; stdClass Object ( [rating_img_url_small] =&gt; http://media2.px.yelpcdn.com/static/20101216418129184/img/ico/stars/stars_small_4.png [user_photo_url_small] =&gt; http://media1.px.yelpcdn.com/upthumb/3euzdGdLZRFxImY68MSg7w/ss [rating_img_url] =&gt; http://media2.px.yelpcdn.com/static/201012164084228337/img/ico/stars/stars_4.png [rating] =&gt; 4 [user_url] =&gt; http://www.yelp.com/user_details?userid=bHR9UU4vtx2QKZD44O0E5g [url] =&gt; http://www.yelp.com/biz/jelly-cafe-denver#hrid:njvNAzfSII3PxXyUymLZ1w [mobile_uri] =&gt; http://m.yelp.com/biz/5G2X2q9p7QFdm-LbyutltQ?srid=njvNAzfSII3PxXyUymLZ1w [text_excerpt] =&gt; Stopped here for breakfast on a friday morning. We were seated immediately and had a really friendly waitress. I ordered a side order of the Chai french... [user_photo_url] =&gt; http://media1.px.yelpcdn.com/upthumb/3euzdGdLZRFxImY68MSg7w/ms [date] =&gt; 2011-09-05 [user_name] =&gt; Diane F. [id] =&gt; njvNAzfSII3PxXyUymLZ1w ) ) 
</code></pre>
","2011-09-09 16:06:21","7366296","0","<php><arrays><json><api><yelp>","2","2"
"Yelp API display only one ID using jQuery","<h2>Problem</h2>

<p>I am trying to display the reviews of a Restaurant using <a href=""http://www.yelp.com/developers/documentation/phone_api"" rel=""nofollow"">Yelps API</a>. I copied Smashing Magazines version of implementing API from their jQuery ebook. The problem is that using this method there are two stores being queried because the previous owners had the same phone number. Yelp can use phone numbers to query reviews and ratings. I need only the currently open store's reviews to display. I want to do it by some how showing Yelp's node elemnt <code>ID</code>. Each store has a unique identifier according to  <a href=""http://www.yelp.com/developers/documentation/phone_api"" rel=""nofollow"">Yelps API</a> and uses node element <code>ID</code>. The ID of the store i want to solely display is <code>ID=""Y6D43boKItksYx_d-RQL4g""</code></p>

<h2>The Code Looks Like:</h2>

<pre><code>function showData(data) {
$.each(data.businesses, function(i,business){
// extra loop
var bizContent = '&lt;p&gt;&lt;img src=""' + business.rating_img_url + '"" img=""""/&gt;&lt;br&gt;&lt;a href=""'+ business.url +'""&gt;'+ business.review_count + ' reviews from Yelp.com&lt;/a&gt;&lt;/p&gt;';
$(bizContent).appendTo('#yelpAVG');

$.each(business.reviews, function(i,review){
var content = '&lt;div class=""comments-block""&gt;&lt;p&gt;Posted by &lt;a href=""'+review.user_url+'""&gt;' +review.user_name + ' &lt;/a&gt; on ' + review.date + 'via &lt;a href=""'+review.url+'""&gt;Yelp.com&lt;/a&gt;';
content += '&lt;img src=""' + review.user_photo_url + '"" img=""""/&gt;';
content += '&lt;p&gt;&lt;img src=""' + review.rating_img_url + '"" img=""""/&gt;&lt;br&gt;';
content += review.text_excerpt + '&lt;/p&gt;';
content += '&lt;p&gt;&lt;a href=""'+review.url + '""&gt;Read the full review&lt;/a&gt;&lt;br&gt;';
$(content).appendTo('#yelpReviews');
});
});
}
function writeScriptTag(path) {
var yelpScript=document.createElement('script');
yelpScript.type='text/javascript';
yelpScript.src=path;
$(""body"").append(yelpScript);
}
$(document).ready(function(){
// note the use of the ""callback"" parameter
writeScriptTag( ""http://api.yelp.com/phone_search?""+
""&amp;categories.name=cafe""+
""&amp;phone=""+""(408) 292-2070""+
""&amp;ywsid=Iua-78eDnxy0DTqm8I4mDw""+
""&amp;limit=1""+
""&amp;callback=showData""); 
});
</code></pre>

<p>Im a little new to jQuery so I wouldn't know where to begin or what I should start with to display queried results that only have </p>

<pre><code>`ID=""Y6D43boKItksYx_d-RQL4g""` 
ShowOnly=""id"":""Y6D43boKItksYx_d-RQL4g"" or something similar.
</code></pre>

<p>Thanks For Reading.</p>
","2011-12-08 08:36:13","8538000","0","<javascript><jquery><api><yelp>","1","0"
"Yelp Fusion: Cannot get Tokens","<p>I'm trying to access the Yelp fusion API. I am following the <a href=""https://www.yelp.com/developers/documentation/v3/authentication"" rel=""nofollow noreferrer"">documentation</a> and came to this code:</p>

<pre><code>const request = require('request');

// As you can see the common error of there being a whitespace
// in one of these is not the case here
const clientId = 'O&lt;removed&gt;w';
const clientSecret = 'm&lt;removed&gt;r';

const options = {
    url: 'https://api.yelp.com/oauth2/token',
    method: 'POST',
    headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
    },
    json: {
        'grant_type': 'client_credentials',
        'client_id': clientId,
        'client_secret': clientSecret
    }
};

request(options, (err, res, body) =&gt; {
    if(err) {
        return console.log(err);
    }
    console.log(body);
});
</code></pre>

<p>Using APIGee I am getting a correct response with this exact same call, however on my OVH VPS I am getting this error: (Note that this is from the body variable)</p>

<pre><code>{ error:
    { code: 'VALIDATION_ERROR',
      description: 'client_id or client_secret parameters not found. Make sure to provide client_id and client_secret in the body with the application/x-www-form-urlencoded content-type' } }
</code></pre>

<p>I believe I am setting up the call correctly. Can anyone point me in the right direction please? Thank you!</p>
","2017-09-15 06:37:01","","1","<node.js><http-post><yelp>","1","3"
"Reading full json file using fromJSON","<p>I'm trying to read in a large JSON file (stored as .txt file) returned by the Yelp API, and convert it into a data frame. My JSON file is in ""pretty print"" format, the first 3 JSON objects are below:</p>

<pre><code>{
    ""businesses"": [
        {
            ""address1"": ""11301 Wilshire Blvd"", 
            ""address2"": """", 
            ""address3"": """", 
            ""avg_rating"": 3.0, 
            ""categories"": [
                {
                    ""category_filter"": ""hospitals"", 
                    ""name"": ""Hospitals"", 
                    ""search_url"": ""http://www.yelp.com/search?cflt=hospitals&amp;find_desc=&amp;find_loc=11301+Wilshire+Blvd%2C+Los+Angeles+90073""
                }
            ], 
            ""city"": ""Los Angeles"", 
            ""country"": ""USA"", 
            ""country_code"": ""US"", 
            ""distance"": 0.0, 
            ""id"": ""9yWDlJ5l1i6O36Fxp5JIBw"", 
            ""is_closed"": false, 
            ""mobile_url"": ""http://m.yelp.com/biz/west-los-angeles-medical-center-los-angeles-2"", 
            ""name"": ""West Los Angeles Medical Center"", 
            ""nearby_url"": ""http://www.yelp.com/search?find_desc=&amp;find_loc=11301+Wilshire+Blvd%2C+Los+Angeles+90073"", 
            ""neighborhoods"": [], 
            ""phone"": ""3104783711"", 
            ""photo_url"": ""http://media2.fl.yelpcdn.com/bpthumb/IZ82DgJAy8emp4dX7UvbUw/ms"", 
            ""photo_url_small"": ""http://media2.fl.yelpcdn.com/bpthumb/IZ82DgJAy8emp4dX7UvbUw/ss"", 
            ""rating_img_url"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/34bc8086841c/ico/stars/v1/stars_3.png"", 
            ""rating_img_url_small"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/902abeed0983/ico/stars/v1/stars_small_3.png"", 
            ""review_count"": 40, 
            ""reviews"": [
                {
                    ""date"": ""2014-11-25"", 
                    ""id"": ""wO4jShjiPoWDBR_OV3cGmQ"", 
                    ""mobile_uri"": ""/biz/west-los-angeles-medical-center-los-angeles-2?full=True&amp;hrid=wO4jShjiPoWDBR_OV3cGmQ"", 
                    ""rating"": 5, 
                    ""rating_img_url"": ""http://s3-media1.fl.yelpcdn.com/assets/2/www/img/f1def11e4e79/ico/stars/v1/stars_5.png"", 
                    ""rating_img_url_small"": ""http://s3-media1.fl.yelpcdn.com/assets/2/www/img/c7623205d5cd/ico/stars/v1/stars_small_5.png"", 
                    ""text_excerpt"": ""I dropped my super expensive insurance, that is not feasible to afford now, and joined the VA.  Shortly after signing up it was found that I needed surgery...."", 
                    ""url"": ""http://www.yelp.com/biz/west-los-angeles-medical-center-los-angeles-2?hrid=wO4jShjiPoWDBR_OV3cGmQ"", 
                    ""user_name"": ""Dj D."", 
                    ""user_photo_url"": ""http://media1.fl.yelpcdn.com/upthumb/s1RKYlrzhKCZs_zSS0cVOA/ms"", 
                    ""user_photo_url_small"": ""http://media1.fl.yelpcdn.com/upthumb/s1RKYlrzhKCZs_zSS0cVOA/ss"", 
                    ""user_url"": ""http://www.yelp.com/user_details?userid=cJyDfLw9uJT63MwFgz7XnA""
                }
            ], 
            ""state"": ""CA"", 
            ""state_code"": ""CA"", 
            ""url"": ""http://www.yelp.com/biz/west-los-angeles-medical-center-los-angeles-2"", 
            ""zip"": ""90073""
        }, 
        {
            ""address1"": ""11301 Wilshire"", 
            ""address2"": ""Bldg 306"", 
            ""address3"": """", 
            ""avg_rating"": 3.0, 
            ""categories"": [
                {
                    ""category_filter"": ""cafeteria"", 
                    ""name"": ""Cafeteria"", 
                    ""search_url"": ""http://www.yelp.com/search?cflt=cafeteria&amp;find_desc=&amp;find_loc=11301+Wilshire%2C+Los+Angeles+90073""
                }
            ], 
            ""city"": ""Los Angeles"", 
            ""country"": ""USA"", 
            ""country_code"": ""US"", 
            ""distance"": 0.0, 
            ""id"": ""K8eEx2J3pF3b-w6EZwKY5w"", 
            ""is_closed"": false, 
            ""mobile_url"": ""http://m.yelp.com/biz/va-canteen-wla-los-angeles"", 
            ""name"": ""VA Canteen WLA"", 
            ""nearby_url"": ""http://www.yelp.com/search?find_desc=&amp;find_loc=11301+Wilshire%2C+Los+Angeles+90073"", 
            ""neighborhoods"": [], 
            ""phone"": ""3104783711"", 
            ""photo_url"": ""http://s3-media2.fl.yelpcdn.com/assets/srv0/yelp_styleguide/5f69f303f17c/assets/img/default_avatars/business_medium_square.png"", 
            ""photo_url_small"": ""http://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/6671667140ef/assets/img/default_avatars/business_small_square.png"", 
            ""rating_img_url"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/34bc8086841c/ico/stars/v1/stars_3.png"", 
            ""rating_img_url_small"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/902abeed0983/ico/stars/v1/stars_small_3.png"", 
            ""review_count"": 4, 
            ""reviews"": [
                {
                    ""date"": ""2014-11-02"", 
                    ""id"": ""rzoQx7o9sla7ig3QZAjtUg"", 
                    ""mobile_uri"": ""/biz/va-canteen-wla-los-angeles?full=True&amp;hrid=rzoQx7o9sla7ig3QZAjtUg"", 
                    ""rating"": 3, 
                    ""rating_img_url"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/34bc8086841c/ico/stars/v1/stars_3.png"", 
                    ""rating_img_url_small"": ""http://s3-media3.fl.yelpcdn.com/assets/2/www/img/902abeed0983/ico/stars/v1/stars_small_3.png"", 
                    ""text_excerpt"": ""This place serves its function. There are a few stations where you can grab food if you don't want to venture off the VA premises for lunch. However, the..."", 
                    ""url"": ""http://www.yelp.com/biz/va-canteen-wla-los-angeles?hrid=rzoQx7o9sla7ig3QZAjtUg"", 
                    ""user_name"": ""James W."", 
                    ""user_photo_url"": ""http://media1.fl.yelpcdn.com/upthumb/6UlTMXf0VkFmmmXwXe8Flg/ms"", 
                    ""user_photo_url_small"": ""http://media1.fl.yelpcdn.com/upthumb/6UlTMXf0VkFmmmXwXe8Flg/ss"", 
                    ""user_url"": ""http://www.yelp.com/user_details?userid=qgXcgfdrk5tzmLBq4_h6mQ""
                }
            ], 
            ""state"": ""CA"", 
            ""state_code"": ""CA"", 
            ""url"": ""http://www.yelp.com/biz/va-canteen-wla-los-angeles"", 
            ""zip"": ""90073""
        }, 
        {
            ""address1"": ""11301 Wilshire"", 
            ""address2"": ""Bldg 306"", 
            ""address3"": """", 
            ""avg_rating"": 2.0, 
            ""categories"": [
                {
                    ""category_filter"": ""cafeteria"", 
                    ""name"": ""Cafeteria"", 
                    ""search_url"": ""http://www.yelp.com/search?cflt=cafeteria&amp;find_desc=&amp;find_loc=11301+Wilshire%2C+Los+Angeles+90073""
                }
            ], 
            ""city"": ""Los Angeles"", 
            ""country"": ""USA"", 
            ""country_code"": ""US"", 
            ""distance"": 0.0, 
            ""id"": ""4etl04G_-VwP8NJ2F3nu4w"", 
            ""is_closed"": false, 
            ""mobile_url"": ""http://m.yelp.com/biz/va-canteen-wla-2-los-angeles"", 
            ""name"": ""VA Canteen WLA 2"", 
            ""nearby_url"": ""http://www.yelp.com/search?find_desc=&amp;find_loc=11301+Wilshire%2C+Los+Angeles+90073"", 
            ""neighborhoods"": [], 
            ""phone"": ""3104783711"", 
            ""photo_url"": ""http://s3-media2.fl.yelpcdn.com/assets/srv0/yelp_styleguide/5f69f303f17c/assets/img/default_avatars/business_medium_square.png"", 
            ""photo_url_small"": ""http://s3-media3.fl.yelpcdn.com/assets/srv0/yelp_styleguide/6671667140ef/assets/img/default_avatars/business_small_square.png"", 
            ""rating_img_url"": ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/b561c24f8341/ico/stars/v1/stars_2.png"", 
            ""rating_img_url_small"": ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/a6210baec261/ico/stars/v1/stars_small_2.png"", 
            ""review_count"": 1, 
            ""reviews"": [
                {
                    ""date"": ""2014-02-01"", 
                    ""id"": ""G9Qr5OpQHs0qo89LFzYIGA"", 
                    ""mobile_uri"": ""/biz/va-canteen-wla-2-los-angeles?full=True&amp;hrid=G9Qr5OpQHs0qo89LFzYIGA"", 
                    ""rating"": 2, 
                    ""rating_img_url"": ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/b561c24f8341/ico/stars/v1/stars_2.png"", 
                    ""rating_img_url_small"": ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/a6210baec261/ico/stars/v1/stars_small_2.png"", 
                    ""text_excerpt"": ""Mon-fri 7am to 1:30 pm\n\nBreakfast and Lunch\n\nThe grill team is good, Grill masters!\n\nCoffee is ok"", 
                    ""url"": ""http://www.yelp.com/biz/va-canteen-wla-2-los-angeles?hrid=G9Qr5OpQHs0qo89LFzYIGA"", 
                    ""user_name"": ""Patrick D."", 
                    ""user_photo_url"": ""http://media1.fl.yelpcdn.com/upthumb/essl4VxDB599GHCamIdDdA/ms"", 
                    ""user_photo_url_small"": ""http://media1.fl.yelpcdn.com/upthumb/essl4VxDB599GHCamIdDdA/ss"", 
                    ""user_url"": ""http://www.yelp.com/user_details?userid=B7VkaAqckBslmw5HtstA1A""
                }
            ], 
            ""state"": ""CA"", 
            ""state_code"": ""CA"", 
            ""url"": ""http://www.yelp.com/biz/va-canteen-wla-2-los-angeles"", 
            ""zip"": ""90073""
        }
    ], 
    ""message"": {
        ""code"": 0, 
        ""text"": ""OK"", 
        ""version"": ""1.1.1""
    }
}
{
    ""businesses"": [], 
    ""message"": {
        ""code"": 0, 
        ""text"": ""OK"", 
        ""version"": ""1.1.1""
    }
}
{
    ""businesses"": [], 
    ""message"": {
        ""code"": 0, 
        ""text"": ""OK"", 
        ""version"": ""1.1.1""
    }
} 
</code></pre>

<p>I've tried the following R code:</p>

<pre><code>library(dplyr)
library(plyr)
library(jsonlite) 

df &lt;- fromJSON(paste(readLines(""Yelp facility pretty print v2.txt""), collapse="""")) 
</code></pre>

<p>But this only returns the first JSON object. </p>

<p>I then tried:</p>

<pre><code>df &lt;- fromJSON(sprintf(""[%s]"", paste(readLines(""Yelp facility pretty print v2.txt""), collapse="","")))
</code></pre>

<p>But this returns an error ""<strong>...unexpected character "",""; expecting opening string quote("") for key value.</strong>""</p>

<p>I verified my JSON file doesn't have a blank line in it. Any suggestions/help is greatly appreciated!</p>
","2015-02-18 17:33:43","","0","<json><r><yelp><jsonlite>","1","2"
"YelpSharp : Get all search Result","<p>i want to use yelp search engine in my desktop application to get all location  but i have a big problem.in fact, i can get only 20 business searched in my request.i think that maybe exist a limit parameter in SearchOption used in YelpSharp but i can just get 20 result in max.</p>

<pre><code>Yelp y = new Yelp(options);
List&lt;Business&gt; SearchList = new List&lt;Business&gt;();
List&lt;YelpSharp.Data.Business&gt; l = new List&lt;YelpSharp.Data.Business&gt;();
SearchOptions searchOptions = new SearchOptions();
searchOptions.GeneralOptions = new GeneralOptions()
{
    term = ""Dentist""             
};

searchOptions.LocationOptions = new LocationOptions()
{
    location = ""New york""
};


 var task = y.Search(searchOptions).Result.businesses;
</code></pre>

<p><a href=""https://github.com/JustinBeckwith/YelpSharp"" rel=""nofollow"">this is the Yelp REST API used in my application</a>
Please give a response as soon as possible.</p>
","2014-01-20 22:04:25","","0","<c#><windows><yelp>","1","5"
"Yelp API with android avd","<p>I can successfully run the yelp API as a java project.<br>
When I run it on the Android emulator I get errors.  I have everything set up like this:
<a href=""https://stackoverflow.com/questions/6676733/yelp-integration-in-android"">Yelp Integration in Android</a>
My avd is up to date and I have the google api package installed.  These are my error msgs.</p>

<pre><code>10-25 15:35:56.686: E/AndroidRuntime(1548): FATAL EXCEPTION: main
10-25 15:35:56.686: E/AndroidRuntime(1548): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.first/com.example.first.MainActivity}: android.os.NetworkOnMainThreadException
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread.access$600(ActivityThread.java:130)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.os.Looper.loop(Looper.java:137)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread.main(ActivityThread.java:4745)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at java.lang.reflect.Method.invokeNative(Native Method)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at java.lang.reflect.Method.invoke(Method.java:511)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at dalvik.system.NativeStart.main(Native Method)
10-25 15:35:56.686: E/AndroidRuntime(1548): Caused by: android.os.NetworkOnMainThreadException
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at java.net.InetAddress.lookupHostByName(InetAddress.java:385)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at java.net.InetAddress.getAllByName(InetAddress.java:214)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:70)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpConnection.&lt;init&gt;(HttpConnection.java:50)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:341)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:87)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:315)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpEngine.connect(HttpEngine.java:310)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at org.scribe.model.Response.&lt;init&gt;(Response.java:27)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at org.scribe.model.Request.doSend(Request.java:84)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at org.scribe.model.Request.send(Request.java:59)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at org.scribe.model.OAuthRequest.send(OAuthRequest.java:12)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at com.example.first.Yelp.search(Yelp.java:57)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at com.example.first.MainActivity.onCreate(MainActivity.java:29)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.Activity.performCreate(Activity.java:5008)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
10-25 15:35:56.686: E/AndroidRuntime(1548):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
</code></pre>
","2012-10-25 15:41:33","","1","<android><api><avd><yelp>","0","3"
"[API]Using Yelp API / PHP","<h1>First of all</h1>

<ul>
<li>I want to use Yelp API with PHP.</li>
<li>I want to get bearer access token, but can't.</li>
</ul>

<h1>Code</h1>

<p>The code below is one that I executed.</p>

<pre><code>$url = ""https://api.yelp.com/oauth2/token"";
$clientEncode = urlencode(""?grant_type=client_credentials?client_id=MY_CLIENT_ID?client_secret=MY_CLIENT_SECRET"");
$curl = curl_init($url);
curl_setopt($curl, CURLOPT_POST, true);
curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
curl_setopt($curl, CURLOPT_CUSTOMREQUEST, ""POST"");
curl_setopt($curl, CURLOPT_POSTFIELDS, $clientEncode);
curl_setopt($curl, CURLOPT_HTTPHEADER, array(""Content-Type: application/x-www-form-urlencoded""));
$response = curl_exec($curl);
$array = json_decode($response, true);
$arrayVal = array_values($array);
$bearer_token = $array-&gt;access_token;
echo '&lt;pre&gt;';
var_dump($array);
echo '&lt;/pre&gt;';
</code></pre>

<p>And, the message below is the error message.</p>

<pre><code>/home/ubuntu/workspace/index.php:21:
class stdClass#1 (1) {
public $error =&gt;
class stdClass#2 (2) {
public $code =&gt;
string(16) ""VALIDATION_ERROR""
public $description =&gt;
string(165) ""client_id or client_secret parameters not found. Make sure to provide client_id and client_secret in the body with the application/x-www-form-urlencoded content-type""
}
}
</code></pre>

<p>Maybe, the use of cURL is Okay, I think, but I don't know how to add parameters on the url.</p>

<p>Please teach me more good practice.</p>

<p>Thanks.</p>
","2017-11-29 05:34:30","","0","<php><api><curl><token><yelp>","1","0"
"Yelp API, OAuth and Angular with JSONP only works once","<p>So <a href=""https://stackoverflow.com/questions/34192254/second-jsonp-http-get-request-using-q-gives-404-error-despite-get-showing-200"">this question</a> has <a href=""https://stackoverflow.com/questions/32477053/subsequent-jsonp-requests-give-status-404-despite-get-status-200"">been asked</a> several <a href=""https://stackoverflow.com/questions/23716264/yelp-api-and-angularjs"">times</a>, but I believe I've finally boiled down exactly what goes wrong here. I'm using the Yelp API with Angular, which requires OAuth 1.0a to access. Like most people doing this type of implementation, I'm using the <a href=""https://www.snip2code.com/Snippet/372987/Yelp-API-Headers-w--Angular"" rel=""nofollow noreferrer"">following code</a>: </p>

<p><div class=""snippet"" data-lang=""js"" data-hide=""false"" data-console=""false"" data-babel=""false"">
<div class=""snippet-code"">
<pre class=""snippet-code-js lang-js prettyprint-override""><code>.factory('YelpApi', ['$http',
      function ($http) {
        var randomString = function (length, chars) {
          var result = '';
          for (var i = length; i &gt; 0; --i) {
            result += chars[Math.round(Math.random() * (chars.length - 1))];
          }
          return result;
        };

        var retrieveYelp = function (name, callback) {
          var method =  'GET';
          var url =     'http://api.yelp.com/v2/search';
          var params = {
            callback:                 'angular.callbacks._0',
            ll:                       /* hidden */,
            radius_filter:            '3219',
            oauth_consumer_key:       /* hidden */, // consumer key
            oauth_token:              /* hidden */, //Token
            oauth_signature_method:   'HMAC-SHA1',
            oauth_timestamp:          new Date().getTime(),
            oauth_nonce:              randomString(32, '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'),
            term:                     name || 'food', 
            actionlinks:              true
          }; // end params
          var consumerSecret =        /* hidden */; //Consumer Secret
          var tokenSecret =           /* hidden */; //Token Secret
          var signature = 
            oauthSignature.generate(
              method, 
              url, 
              params, 
              consumerSecret, 
              tokenSecret, 
              { encodeSignature: false }
            ); 
            // end signature
          params['oauth_signature'] = signature;
          console.log('inside yelpapi factory');
          console.log('Term searched for: ' + params.term);
          $http.jsonp(url, { params : params })
            .then(callback, function(err) {
              console.log('An error occured: ', err);
            });
            console.log(""inside end of yelpapi factory"");
        }; // end retrieveYelp

        return {
          retrieveYelp: retrieveYelp      
        };

      } // end function

    ]) // end factory</code></pre>
</div>
</div>
</p>

<h1>Here's the issue:</h1>

<p>Using <code>'angular.callbacks._0'</code> as the callback makes it work the first time as it forces it to use the first callback, however breaks subsequent requests. <a href=""https://docs.angularjs.org/api/ng/service/$http#jsonp"" rel=""nofollow noreferrer"">You are actually supposed to use</a> <code>JSON_CALLBACK</code> to properly increment callbacks, however that breaks everything. The error generated by Yelp is ""invalid signature"". I believe this is caused by Angular not replacing <code>JSON_CALLBACK</code> until <em>after</em> it's already encoded, thus causing the expected signature to be different than the actual one. I'm using <a href=""https://github.com/bettiolo/oauth-signature-js"" rel=""nofollow noreferrer"">this</a> signature generator. </p>

<p><strong>How could I get around this, ensuring Angular properly increments the callbacks while ensuring proper signature generation?</strong></p>
","2016-04-18 17:18:51","","1","<javascript><angularjs><oauth><jsonp><yelp>","1","0"
"Ionic 3 - Yelp API","<p>I created a brand new <code>Ionic</code> project to run this code. It worked fine in Postman but when I run <code>ionic</code> serve I get an error.</p>

<p><strong>home.ts :</strong></p>

<pre><code>import { Component } from '@angular/core';
import { NavController } from 'ionic-angular';
import { Http, Headers, RequestOptions, HttpModule } from '@angular/http';
import 'rxjs/Rx';
import 'rxjs/add/operator/map';
import 'rxjs/add/operator/do';

@Component({
  selector: 'page-home',
  templateUrl: 'home.html'
})
export class HomePage {

  restaurants: any;

  constructor(public navCtrl: NavController, public http: Http) {
    var headers = new Headers();
    headers.append('Authorization', 'Bearer XX');
    var options = new RequestOptions({headers: headers});

    this.http.get('https://api.yelp.com/v3/businesses/search?latitude=XX&amp;longitude=XX&amp;radius=10000&amp;categories=food&amp;locale=en_NZ', options).map(res =&gt; res.json()).subscribe(data =&gt; {
        this.restaurants = data.data.children;
        console.log(this.restaurants);
    });
  }

}
</code></pre>

<p>When I run ionic serve, I see the following error in the console:
<a href=""https://i.stack.imgur.com/rTXN4.jpg"" rel=""nofollow noreferrer""><img src=""https://i.stack.imgur.com/rTXN4.jpg"" alt=""enter image description here""></a></p>
","2018-05-10 09:52:28","","0","<ionic-framework><ionic3><yelp>","1","2"
"Yelp dataset: Json to csv converter (python 3)","<p>So, I'm trying to work with the Yelp dataset. I'm using python 3!
I've found a code to convert a json file to a csv and I've opened cmd on Windows and typed:
C:\Users\AppData\Local\Programs\Python\Python36-32>python.exe json_to_csv_converter.py review.json</p>

<p>The command gives me no more errors but it actually didn't convert (there is no csv file as output).</p>

<p><strong>Can you please help me understand why it's not working?</strong></p>

<p>The code inside the converter.py is: </p>

<pre><code>import argparse
import collections
import csv
import json


def read_and_write_file(json_file_path, csv_file_path, column_names):
    with open(csv_file_path, 'w+') as fout:
        csv_file = csv.writer(fout)
    csv_file.writerow(list(column_names))
    with open(json_file_path, encoding=""utf8"") as fin:

        for line in fin:
            line_contents = json.loads(line)
            csv_file.writerow(get_row(line_contents, column_names))


def get_superset_of_column_names_from_file(json_file_path):
    column_names = set()
    with open(json_file_path) as fin:

        for line in fin:
            line_contents = json.loads(line)
        column_names.update(
            set(get_column_names(line_contents).keys())
            )
        return column_names


def get_column_names(line_contents, parent_key=''):
    column_names = []
    for k, v in line_contents.items():
        column_name = ""{0}.{1}"".format(parent_key, k) if parent_key else k
    if isinstance(v, collections.MutableMapping):
        column_names.extend(
                get_column_names(v, column_name).items()
                )
    else:
        column_names.append((column_name, v))
    return dict(column_names)


def get_nested_value(d, key):

    if '.' not in key:
        if key not in d:
            return None
    return d[key]
    base_key, sub_key = key.split('.', 1)
    if base_key not in d:
        return None
    sub_dict = d[base_key]
    return get_nested_value(sub_dict, sub_key)


def get_row(line_contents, column_names):
    row = []
    for column_name in column_names:
        line_value = get_nested_value(
            line_contents,
            column_name,
            )
    if isinstance(line_value, str):
        row.append('{0}'.format(line_value.encode('utf-8')))
    elif line_value is not None:
        row.append('{0}'.format(line_value))
    else:
        row.append('')
    return row

    if name == 'main':
        parser = argparse.ArgumentParser(
        description='Convert Yelp data from JSON format to CSV.',
        )

        parser.add_argument(
            'json_file',
            type=str,
            help='The json file to convert.',
            )

        args = parser.parse_args()

        json_file = args.json_file
        csv_file = '{0}.csv'.format(json_file.split('.json')[0])

        column_names = get_superset_of_column_names_from_file(json_file)
        read_and_write_file(json_file, csv_file, column_names)
</code></pre>

<p>It might be a silly question (sorry I'm not used to python), but do I need to input the json path, json file name, csv path, csv file name, etc? If so, what is the appropriate way of doing it?</p>

<p>Thank you so much.</p>

<p>Carmem</p>
","2018-05-10 11:15:50","50273508","0","<python><json><csv><python-3.6><yelp>","1","2"
"Server-Side API Call from JavaScript button?","<p>I have a web app I built that does API calls to Yelp from user input. Right now it's running with Sinatra and pretty much entirely JavaScript. My API calls are run client-side through user input, which results in my userless API tokens/secrets/keys being available. I'm looking to change the app to be a.) more secure and b.) more clean and using the Ruby Yelp API found <a href=""https://github.com/Yelp/yelp-ruby"" rel=""nofollow"">here</a>.</p>

<p>My question is this: is it possible to do API calls on the server-side (Ruby) based on user input on the client side without a page refresh? If so, how would the below example be done?</p>

<p>Example: User inputs ""Ramen"" and ""San Francisco"" and clicks a button, user input is passed to server-side, server-side API call takes place, client-side grabs JSON response from server-side, client-side displays works with the data </p>

<p>EDIT: I have AJAX in my client-side JavaScript now...is it possible to use AJAX to grab from server-side API calls, i.e. the Yelp Ruby API above?</p>
","2015-03-30 00:20:08","","0","<javascript><ruby><ajax><server-side><yelp>","0","3"
"Can I use lookups to show a restaurant's average yelp rating in a google doc?","<p>I want to create a shared google doc of recommended restaurants in my area with some friends. Could I create a lookup that shows a restaurant's average yelp rating? I'd prefer for this lookup to be dynamic as possible, as ratings can change over time, and I plan on keeping this doc indefinitely. If ratings can't be ""real time"", how could I extract the necessary data on, say a monthly basis?</p>

<p>Is this feasible?</p>
","2018-02-22 23:26:48","","0","<rss><google-docs><yelp>","0","0"
"yelp search using Django","<p>I am developing with yelp API, It works when I do the first time, but for the subsequent searches, it shows the same result. The following is my code</p>

<pre><code>def yelp_query(keyword, location):
  headers = {'Authorization': 'Bearer %s' % YELP_API_KEY}
  params = {'term': keyword, 'location': location}
  query = requests.get(YELP_SEARCH, headers=headers, params=params)
  return query.json()

def search_result(request):
  items = []
  query_item = request.GET.get('q')
  if query_item:
    items = yelp_query(keyword='query_item', location='London')
    return render(request, 'locator/search.html', {'results': items})
  return render(request, 'locator/search.html', {'results': items})
</code></pre>

<p>my HTML</p>

<pre><code>&lt;body&gt;
 &lt;h1&gt;Search&lt;/h1&gt;
 {% for biz in results.businesses %}
 {{biz.name}},
 {{biz.location.city}}&lt;br&gt;
 {% endfor %}
&lt;/body&gt;
</code></pre>

<p>Now when I do my first search, for example, Italian food <code>http://127.0.0.1:8000/search/?q=Italian%20Food</code> yelp lists some result</p>

<p><code>Fortnum &amp; Mason, London
Team Man And Van, London
TopShop, London
Wickes Building Supplies, London
Sylvanian Families Shop, London, London
...</code></p>

<p>when I do the next search for pizza <code>http://127.0.0.1:8000/search/?q=pizza</code> it displays the same result as above.</p>

<p>Can anyone suggest where I went wrong and How to improve my code.</p>
","2018-05-10 17:34:50","","1","<python><django><yelp>","0","7"
"Filter Yelp API results","<p>I have been trying to integrate yelp with an application.</p>

<p>Let's say I want to see all the italian restaurants at a place. According to the yelp api, the query should be</p>

<pre><code>http://api.yelp.com/v2/search?term=restaurants&amp;category=italian&amp;place=san+jose
</code></pre>

<p>But from the results that I see, I see hardly any italian restaurants. Is there any other way to query the api?</p>
","2013-05-07 11:01:45","","0","<iphone><ios><yelp>","2","2"
"How to update business information on yelp using yelp API?","<p>Is there any way that I can change or update business information on yelp using their API considering that i have appropriate login credentials?</p>
","2016-06-08 17:54:47","","2","<yelp>","0","0"
"Yelp API KeyError - how to skip businesses that do not have certain keys","<p>Python 2.7</p>

<p>I am trying to get the 'name','url','display_address' and 'phone' key of the restaurants in certain areas from the Yelp API. </p>

<p>My code did print the info I was looking for until it hit the restaurants that do not have the 'phone' key I guess, because it returned this error:</p>

<pre><code>&gt; Traceback (most recent call last):   File ""/Users/git-folder/api2.py"",
&gt; line 175, in &lt;module&gt;
&gt;     print yelp_query(zipcode[i])   File ""/Users/git-folder/api2.py"", line 166, in yelp_query
&gt;     phone = business[i][""phone""] KeyError: 'phone'
</code></pre>

<p>My code:</p>

<pre><code>def yelp_query(zip_code):
    client = YelpClient(yelp_keys = keys)
    result_json = client.search_by_location(
    location = str(zip_code), term = 'BBQ',
    sort = YelpClient.SortType.BEST_MATCHED, radius=2)
    business = result_json[""businesses""]


    for i in range(0,len(business)):
        n = business[i][""name""]
        add = str(business[i][""location""][""display_address""]).replace(""["","""").replace(""]"","""").replace(""u'"","""").replace(""'"","""")
        url = business[i][""url""]
        phone = business[i][""phone""]
        print n, "";"",url,"";"",add,"";"",phone
</code></pre>

<p>How do I write an 'IF' statement to just print 'none' if there's no phone keys for certain business instead of stopping there and giving me this error?</p>

<p>Many thanks!</p>
","2014-07-07 05:36:46","24604211","0","<python><json><api><dictionary><yelp>","1","0"
"How to parse NSDictionary Data","<p>My app currently is using Yelp Service API and returns key value pairs of associated data that the yelp client provides. 
My scenario is that I have an Attractions view controller which drops pin annotations of different categories, i.e 'Asian Food', etc. When you click on the pin annotation and hit the callout it takes you to a Detail View Controller. </p>

<p>Here is where I do that:</p>

<pre><code>func mapView(mapView: MKMapView!, annotationView view: MKAnnotationView!, calloutAccessoryControlTapped control: UIControl!) {
        if (control == view.rightCalloutAccessoryView) {
            let selectedLocation = view.annotation;
            let selectedCoordinate = view.annotation.coordinate;
            var latitude = selectedCoordinate.latitude
            var longitude = selectedCoordinate.longitude
            var location:CLLocation = CLLocation(latitude: latitude, longitude: longitude)
            let businessPlacemark = MKPlacemark(coordinate: selectedCoordinate, addressDictionary: nil)
            indicatedMapItem = selectedCoordinate;
            performSegueWithIdentifier(""attractionToDetail"", sender: self);
        }
    }
    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {
        var attractionsDetailViewController:AttractionsDetailViewController = segue.destinationViewController as! AttractionsDetailViewController
        attractionsDetailViewController.attractionLocation = indicatedMapItem;
    }
</code></pre>

<p>And here is my API service call:</p>

<pre><code>class func searchWithQueryWithRadius(map: MKMapView, term: String, deal: Bool, radius: Int, sort: Int, categories: String, completion: ([Resturant]!, NSError!) -&gt; Void) {
        YelpClient.sharedInstance.searchWithTerm(term, deal: false, radius: radius, sort: sort,categories: categories, success: { (operation: AFHTTPRequestOperation!, response: AnyObject!) -&gt; Void in
            let responseInfo = response as! NSDictionary
            resultQueryDictionary = responseInfo
            println(responseInfo)
            let dataArray = responseInfo[""businesses""] as! NSArray
            for business in dataArray {
                let obj = business as! NSDictionary
                var yelpBusinessMock: YelpBusiness = YelpBusiness(dictionary: obj)
                var annotation = MKPointAnnotation()
                annotation.coordinate = yelpBusinessMock.location.coordinate
                annotation.title = yelpBusinessMock.name
                map.addAnnotation(annotation)
            }
            }) { (operation: AFHTTPRequestOperation!, error: NSError!) -&gt; Void in
            println(error)
        }
    }
</code></pre>

<p>This prints to the logs data like this when I query for Asian Food in the Seattle area:</p>

<pre><code>{
businesses =     (
            {
        categories =             (
                            (
                Korean,
                korean
            ),
                            (
                Buffets,
                buffets
            )
        );
        ""display_phone"" = ""+1-206-854-3166"";
        distance = ""124.9692597772704"";
        id = ""ummas-lunch-box-seattle"";
        ""image_url"" = ""http://s3-media2.fl.yelpcdn.com/bphoto/QqrpImnPywZ9zc721RVRrg/ms.jpg"";
        ""is_claimed"" = 1;
        ""is_closed"" = 0;
        location =             {
            address =                 (
                ""1301 5th Ave"",
                Concourse
            );
            city = Seattle;
            coordinate =                 {
                latitude = ""47.6088937"";
                longitude = ""-122.3342613"";
            };
            ""country_code"" = US;
            ""cross_streets"" = ""Union St &amp; University St"";
            ""display_address"" =                 (
                ""1301 5th Ave"",
                Concourse,
                Downtown,
                ""Seattle, WA 98101""
            );
            ""geo_accuracy"" = ""9.5"";
            neighborhoods =                 (
                Downtown
            );
            ""postal_code"" = 98101;
            ""state_code"" = WA;
        };
        ""mobile_url"" = ""http://m.yelp.com/biz/ummas-lunch-box-seattle"";
        name = ""Umma's Lunch Box"";
        phone = 2068543166;
        rating = ""4.5"";
        ""rating_img_url"" = ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/99493c12711e/ico/stars/v1/stars_4_half.png"";
        ""rating_img_url_large"" = ""http://s3-media4.fl.yelpcdn.com/assets/2/www/img/9f83790ff7f6/ico/stars/v1/stars_large_4_half.png"";
        ""rating_img_url_small"" = ""http://s3-media2.fl.yelpcdn.com/assets/2/www/img/a5221e66bc70/ico/stars/v1/stars_small_4_half.png"";
        ""review_count"" = 155;
        ""snippet_image_url"" = ""http://s3-media1.fl.yelpcdn.com/photo/H1UEaGpAztTzFIDKbsx_UA/ms.jpg"";
        ""snippet_text"" = ""Korean comfort food at an affordable price. My only wish is that they are opened longer..\n\nI'm sure that everybody here has already written about it, but it..."";
        url = ""http://www.yelp.com/biz/ummas-lunch-box-seattle"";
    }
</code></pre>

<p>What I want to do is simply extract the yelp response data and set the AddressLabel text I have in my DetailViewController to the address from the Yelp Data(As reverseGeoCoding has minor bugs). </p>

<p>Currently i'm using this YelpBusiness.swift that I created, but i'm not sure if it's correct...</p>

<pre><code>var dictionary: NSDictionary


init(dictionary: NSDictionary) {
    self.dictionary = dictionary
}

var business: String {
    get {
        return self.dictionary[""businesses""] as! String
    }
}

var name: String {
    get {
        return self.dictionary[""name""] as! String
    }
}

var phone: String {
    get {
        return self.dictionary[""phone""] as! String
    }
}

var rating: String {
    get {
        return self.dictionary[""rating""] as! String
    }
}

var imageURL: NSURL? {
    get {
        if let image = self.dictionary[""image_url""] as? String {
            return NSURL(string: image.stringByReplacingOccurrencesOfString(""ms.jpg"", withString: ""ls.jpg"", options: nil, range: nil))
        }
        return nil
    }
}

var ratingImageURL: NSURL {
    get {
        return NSURL(string: self.dictionary[""rating_img_url_large""] as! String)!
    }
}

var reviewCount: Int {
    get {
        return self.dictionary[""review_count""] as! Int
    }
}

var deals: Array&lt;AnyObject&gt;? {
    get {
        if let deals = self.dictionary[""deals""] as? Array&lt;AnyObject&gt; {
            return deals
        }
        return nil
    }
}

var latitude: Double? {
    get {
        if let location = self.dictionary[""location""] as? NSDictionary {
            if let coordinate = location[""coordinate""] as? NSDictionary {
                return (coordinate[""latitude""] as! Double)
            }
        }
        return nil
    }
}

var longitude: Double? {
    get {
        if let location = self.dictionary[""location""] as? NSDictionary {
            if let coordinate = location[""coordinate""] as? NSDictionary {
                return (coordinate[""longitude""] as! Double)
            }
        }
        return nil
    }
}

var location: CLLocation {
    get {
        return CLLocation(latitude: self.latitude!, longitude: self.longitude!)
    }
}

var shortAddress: String {
    get {
        if let location = self.dictionary[""location""] as? NSDictionary {
            if let address = location[""address""] as? Array&lt;String&gt; {
                if let neighborhoods = location[""neighborhoods""] as? Array&lt;String&gt; {
                    return "", "".join(address + [neighborhoods[0]])
                }
                return "", "".join(address)
            }
        }
        return """"
    }
}

var displayAddress: String {
    get {
        if let location = self.dictionary[""location""] as? NSDictionary {
            if let address = location[""display_address""] as? Array&lt;String&gt; {
                return "", "".join(address)
            }
        }
        return """"
    }
}

var displayCategories: String {
    get {
        if let categories = self.dictionary[""categories""] as? Array&lt;Array&lt;String&gt;&gt; {
            return "", "".join(categories.map({ $0[0] }))
        }
        return """"
    }
}
</code></pre>

<p>Thanks!</p>
","2015-08-13 07:27:21","","0","<ios><swift><nsdictionary><yelp>","1","0"
"How to get more than 3 reviews from Yelp API request","<p>I would like to retrieve reviews for a clinic in New York via the Yelp API. However, the API only seems to only return the first three reviews.</p>

<p><strong>My code</strong></p>

<pre><code># Finding reviews for a particular clinic
import http.client
import json
import urllib.parse

api_key= 'MY API KEY'

API_HOST = 'https://api.yelp.com/reviews'
SEARCH_PATH = '/v3/businesses/search'
BUSINESS_PATH = '/v3/businesses/'  
# Business ID will come after slash.


headers = {
'Authorization': 'Bearer %s' % api_key,
}

#need the following parameters (type dict) 
params = {'name':'MinuteClinic', 'address1':'241 West 57th St', 'city':'New York', 'state':'NY', 'country':'US'}


param_string = urllib.parse.urlencode(params)
conn = http.client.HTTPSConnection(""api.yelp.com"")
conn.request(""GET"", ""/v3/businesses/matches/best?""+param_string, headers=headers)

res = conn.getresponse()
data = res.read()
data = json.loads(data.decode(""utf-8""))
print(data)


b_id = data['businesses'][0]['id']

r_url = ""/v3/businesses/"" + b_id + ""/reviews""    #review request URL creation based on business ID
conn.request(""GET"",r_url,headers=headers)
rev_res = conn.getresponse()     #response and read functions needed else error(?)
rev_data = rev_res.read()
yelp_reviews = json.loads(rev_data.decode(""utf-8""))


print(yelp_reviews)
print(len(yelp_reviews))
</code></pre>

<p>Is there a way to get all the reviews? Thank you so much. </p>
","2018-03-19 22:04:53","","0","<python><api><yelp>","1","0"
"Authenticating Yelp Fusion API with Python requests","<p>According to Yelp docs: ""To authenticate API calls with the access token, set the Authorization HTTP header value as Bearer access_token.""
<a href=""https://www.yelp.com/developers/documentation/v3/get_started"" rel=""nofollow noreferrer"">https://www.yelp.com/developers/documentation/v3/get_started</a></p>

<p>I have gotten a Yelp API access token using <code>requests</code>, but cannot authenticate: </p>

<pre><code>&gt;&gt;&gt; data = {""grant_type"": ""client_credentials"", ""client_id"": ""foo"", ""client_secret"": ""bar""}
&gt;&gt;&gt; r = requests.post(""https://api.yelp.com/oauth2/token"", data=data)
&gt;&gt;&gt; r
&lt;Response [200]&gt;
&gt;&gt;&gt; r.text
'{""expires_in"": 15550795, ""token_type"": ""Bearer"", ""access_token"": ""foobar""}'
&gt;&gt;&gt; params = json.loads(r.text)
&gt;&gt;&gt; url = ""https://api.yelp.com/v3/autocomplete?text=del&amp;latitude=37.786882&amp;longitude=-122.399972&amp;""
&gt;&gt;&gt; test = requests.get(url, params=params)
&gt;&gt;&gt; test.text
'{""error"": {""description"": ""An access token must be supplied in order to use this endpoint."", ""code"": ""TOKEN_MISSING""}}'
</code></pre>
","2016-11-21 20:51:11","","3","<python><api><python-requests><yelp>","1","0"
"PHP Get Hours from YELP API","<p>I'm attempting to process the YELP API response for me getting some hours, and it returns <em>only</em> the days that it is open. I'm attempting to use all seven days and it's a bit confusing because of the way they return it. Of course on days they aren't open they're closed, but it messes with my array indexes.</p>

<p>TL;DR - I need to find a way to fill the YELP response from 0-7 based on the day ID</p>

<p>Here's what I've got so far, but it definitely is not working</p>

<pre><code>for($day=0; $day&lt;7; $day++) {
        $hoursFromYelp = $yelpResults-&gt;hours;
        foreach($hoursFromYelp[0] as $index=&gt;$hoursOpen) {
          if($index === ""open"") {
            if(isset($hoursOpen[$day]-&gt;day) &amp;&amp; $hoursOpen[$day] === $day) {
              //If the Day is set, then we don't bother setting the other days
              $open = $hoursOpen[$day]-&gt;start;
              $closed = $hoursOpen[$day]-&gt;end;
              $hours = date('g:i a', strtotime($open)) . ' - ' . date('g:i a', strtotime($closed));
              $barDay = barDays::create([
                'bar_id' =&gt; $Bar-&gt;id,
                'day_id' =&gt; $hoursOpen[$day]-&gt;day,
                'type' =&gt; $types,
                'musicType' =&gt; ($Bar-&gt;musicType === 'Popular Music' ? 'Popular Music' : $Bar-&gt;musicType),
                'hours' =&gt; $hours
              ]);
              $barDay-&gt;save();
            } else {
              $hours = 'Closed';
              $tempBarDays = barDays::where('bar_id', $Bar-&gt;id)-&gt;get();
              $missingDays = [0, 1, 2, 3, 4, 5, 6];
              $currentDays = [];
              foreach($tempBarDays as $tempBD) {
                $currentDays[] = $tempBD-&gt;day_id;
              }
              dd($currentDays);
              $barDay = barDays::create([
                'bar_id' =&gt; $Bar-&gt;id,
                'day_id' =&gt; $hoursOpen[$day]-&gt;day,
                'type' =&gt; $types,
                'musicType' =&gt; ($Bar-&gt;musicType === 'Popular Music' ? 'Popular Music' : $Bar-&gt;musicType),
                'hours' =&gt; $hours
              ]);
            }
          }
        }
      }
</code></pre>

<p>Essentially what I'm trying to do is store the hours as a model in my database so I can give them to the user easily, but YELP's API does not make it easy, is there a better way for me to do this? Google Places returns ""Monday: Closed"" on days it's closed so it's much easier to do that by just doing a foreach loop</p>

<p>Can I fill the array YELP returns with the missing days as ""Closed""?</p>

<p>Here's what YELP returns by the way in case anyone is confused</p>

<pre><code>{#4467 ▼
+""id"": ""paper-tiger-bar-los-angeles""
  +""name"": ""Paper Tiger Bar""
  +""image_url"": ""https://s3-media4.fl.yelpcdn.com/bphoto/lt6bk_cW8k2A5cubSU5nUw/o.jpg""
  +""is_claimed"": true
  +""is_closed"": false
  +""url"": ""https://www.yelp.com/biz/paper-tiger-bar-los-angeles?adjust_creative=ddumpGj-_b3UoK4Fr5kUUg&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_lookup&amp;utm_sourc ▶""
  +""phone"": ""+13238443716""
  +""display_phone"": ""(323) 844-3716""
  +""review_count"": 91
  +""categories"": array:2 [▶]
  +""rating"": 4.5
  +""location"": {#4470 ▶}
  +""coordinates"": {#4471 ▶}
  +""photos"": array:3 [▶]
  +""price"": ""$$""
  +""hours"": array:1 [▼
    0 =&gt; {#4476 ▼
      +""open"": array:4 [▼
        0 =&gt; {#4472 ▼
          +""is_overnight"": true
          +""start"": ""2100""
          +""end"": ""0200""
          +""day"": 2
        }
        1 =&gt; {#4473 ▼
          +""is_overnight"": true
          +""start"": ""2100""
          +""end"": ""0200""
          +""day"": 3
        }
        2 =&gt; {#4474 ▼
          +""is_overnight"": true
          +""start"": ""2100""
          +""end"": ""0200""
          +""day"": 4
        }
        3 =&gt; {#4475 ▼
          +""is_overnight"": true
          +""start"": ""2100""
          +""end"": ""0200""
          +""day"": 5
        }
      ]
      +""hours_type"": ""REGULAR""
      +""is_open_now"": false
    }
  ]
  +""transactions"": []
}
</code></pre>
","2018-03-21 22:24:46","","0","<php><yelp>","0","0"
"HTTP Error 400 Syntax Error","<p>This code is supposed to use the Yelp API to retrieve information about restaurants. Every time I run it, I get a HTTP 400 Error, which I think should mean a syntax error. In reviewing it by myself I cannot find my error. I've searched Stack Overflow for a question related to mine and haven't found one.</p>

<p>The return Error message is: <code>Encountered HTTP error 400. Abort program.</code></p>

<pre><code># -*- coding: utf-8 -*-
""""""
Yelp API v2.0 code sample.

This program demonstrates the capability of the Yelp API version 2.0
by using the Search API to query for businesses by a search term and location,
and the Business API to query additional information about the top result
from the search query.

Please refer to http://www.yelp.com/developers/documentation for the API documentation.

This program requires the Python oauth2 library, which you can install via:
`pip install -r requirements.txt`.

Sample usage of the program:
`python sample.py --term=""bars"" --location=""San Francisco, CA""`
""""""
import argparse
import json
import pprint
import sys
import urllib
import urllib2
import oauth2

API_HOST = 'api.yelp.com'
DEFAULT_TERM = 'restaurants'
DEFAULT_LOCATION = 'Ottawa'
SEARCH_LIMIT = '75'
SEARCH_PATH = '/v2/search/'
BUSINESS_PATH = '/v2/business/'

# OAuth credential placeholders that must be filled in by users.
CONSUMER_KEY =########
CONSUMER_SECRET =######
TOKEN =#######
TOKEN_SECRET =#######

def request(host, path, url_params=None):
    """"""Prepares OAuth authentication and sends the request to the API.

    Args:
        host (str): The domain host of the API.
        path (str): The path of the API after the domain.
        url_params (dict): An optional set of query parameters in the request.

    Returns:
        dict: The JSON response from the request.

    Raises:
        urllib2.HTTPError: An error occurs from the HTTP request.
    """"""
    url_params = url_params or {}
    encoded_params = urllib.urlencode(url_params)

    url = 'http://{0}{1}?{2}'.format(host, path, encoded_params)

    consumer = oauth2.Consumer(CONSUMER_KEY, CONSUMER_SECRET)
    oauth_request = oauth2.Request('GET', url, {})
    oauth_request.update(
        {
            'oauth_nonce': oauth2.generate_nonce(),
            'oauth_timestamp': oauth2.generate_timestamp(),
            'oauth_token': TOKEN,
            'oauth_consumer_key': CONSUMER_KEY
        }
    )
    token = oauth2.Token(TOKEN, TOKEN_SECRET)
    oauth_request.sign_request(oauth2.SignatureMethod_HMAC_SHA1(), consumer, token)
    signed_url = oauth_request.to_url()

    print 'Querying {0} ...'.format(url)

    conn = urllib2.urlopen(signed_url, None)
    try:
        response = json.loads(conn.read())
    finally:
        conn.close()

    return response

def search(term, location):
    """"""Query the Search API by a search term and location.

    Args:
        term (str): The search term passed to the API.
        location (str): The search location passed to the API.

    Returns:
        dict: The JSON response from the request.
    """"""
    url_params = {
        'term': term,
        'location': location,
        'limit': SEARCH_LIMIT
    }

    return request(API_HOST, SEARCH_PATH, url_params=url_params)

def get_business(business_id):
    """"""Query the Business API by a business ID.

    Args:
        business_id (str): The ID of the business to query.

    Returns:
        dict: The JSON response from the request.
    """"""
    business_path = BUSINESS_PATH + business_id

    return request(API_HOST, business_path)

def query_api(term, location):
    """"""Queries the API by the input values from the user.

    Args:
        term (str): The search term to query.
        location (str): The location of the business to query.
    """"""
    response = search(term, location)

    businesses = response.get('businesses')

    if not businesses:
        print 'No businesses for {0} in {1} found.'.format(term, location)
        return

    business_id = businesses[0]['id']

    print '{0} businesses found, querying business info for the top result ""{1}"" ...'.format(
        len(businesses),
        business_id
    )

    response = get_business(business_id)

    print 'Result for business ""{0}"" found:'.format(business_id)
    pprint.pprint(response, indent=2)


def main():
    parser = argparse.ArgumentParser()

    parser.add_argument('-q', '--term', dest='term', default=DEFAULT_TERM, type=str, help='Search term (default: %(default)s)')
    parser.add_argument('-l', '--location', dest='location', default=DEFAULT_LOCATION, type=str, help='Search location (default: %(default)s)')

input_values = parser.parse_args()

try:
    query_api(input_values.term, input_values.location)
except urllib2.HTTPError as error:
    sys.exit('Encountered HTTP error {0}. Abort program.'.format(error.code))

if __name__ == '__main__':
    main()
</code></pre>
","2014-07-10 14:19:05","26436442","-1","<python><api><yelp>","2","4"
"Working with Yelp API and/or Google Places api","<p>Hi I have a project assigned to me for school that requires the use of either google places API or a Yelp API for the purpose of allowing users to search local restaurants or bars near a given location. </p>

<p>I have researched how to implement this over the past 2 days and am just at a loss as to how to proceed.  I have never worked with an external api. </p>

<p>Our project must use AngularJS with Csharp.  If anyone could point me to a beginners guide on how to connect the dots for this to work or wouldn't mind helping with a dummies explanation (something detailing the process) I would be EXTREMELY grateful.  </p>

<p>Or is there a site that has open source example projects available for dissecting? </p>
","2016-12-14 17:55:18","","1","<c#><angularjs><google-places-api><yelp>","1","2"
"Yelp API - Getting JSON Results","<p>I'm new to JSON and Yelp's API. I'm trying to search the API with a form. Here's my HTML:</p>

<pre><code>&lt;div&gt;
    &lt;form action=""sample.php"" method=""post""&gt;
    &lt;label&gt;Term&lt;/label&gt;&amp;nbsp;&lt;input name=""term"" id=""term"" type=""text""/&gt;
    &lt;label&gt;Location&lt;/label&gt;&amp;nbsp;&lt;input name=""location"" id=""location"" type=""text""/&gt;
    &lt;input id=""submit"" type=""submit"" name=""submitRest"" value=""SUBMIT""&gt;
    &lt;/form&gt;

    &lt;div id=""success""&gt;&lt;/div&gt;

    &lt;div id=""result""&gt;Result&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>I'm submitting the form via ajax here:</p>

<pre><code>&lt;script type=""text/javascript""&gt;
    $('form').submit(function(evt){
        evt.preventDefault();
        var url = $(this).attr(""action"");
        var formData = $(this).serialize();
        $.ajax(url, {
            data : formData,
            type : ""POST"",
            success : function(response){
                $('#success').html(""&lt;p&gt;It worked!&lt;/p&gt;&lt;p&gt;"" + &lt;?php $getYelpData ?&gt; + ""&lt;/p&gt;"")
            }
        });
    });
&lt;/script&gt;
</code></pre>

<p>The problem lies in ""sample.php"". It consists of this Oauth call:</p>

<pre><code>require_once('lib/OAuth.php');

    $Term = (isset($_POST['term'])) ? $_POST['term'] : '';
    $Location = (isset($_POST['location'])) ? $_POST['location'] : '';

    function getYelpData($Term, $Location) {
        $URL = ""http://api.yelp.com/v2/search?term="" . $Term . ""&amp;amp;location="" . $Location; 

        $CONSUMER_KEY = -;
        $CONSUMER_SECRET = -;
        $TOKEN = -;
        $TOKEN_SECRET = -;

        $AuthToken = new OAuthToken($TOKEN, $TOKEN_SECRET);
        $Consumer = new OAuthConsumer($CONSUMER_KEY, $CONSUMER_SECRET);

        $AuthRequest = OAuthRequest::from_consumer_and_token(
            $Consumer, 
            $AuthToken, 
            'GET', 
            $URL
        );

        $AuthRequest-&gt;sign_request(new OAuthSignatureMethod_HMAC_SHA1(), $Consumer, $AuthToken);

        $Handle = curl_init($AuthRequest-&gt;to_url());
        curl_setopt($Handle, CURLOPT_RETURNTRANSFER, true);
        curl_setopt($Handle, CURLOPT_HEADER, 0);
        $YelpResponse = curl_exec($Handle); // Yelp response
        curl_close($Handle);

        return json_decode($YelpResponse,true);
    }
</code></pre>

<p>How do I grab the JSON data from $YelpResponse? The ajax displays the success message, so I know it's working, but I'm not sure how to get the data I want out of it.</p>
","2014-08-03 18:54:16","","0","<php><jquery><json><oauth><yelp>","0","2"